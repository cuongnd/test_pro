("function"==typeof define&&define.Nb?define:function(g,l){l()})(["./kendo.data"],function(){(function(g,l){function q(a){return a[a.length-1]}function r(a){return a instanceof Array?a:[a]}function u(a){return"string"===typeof a||"number"===typeof a||"boolean"===typeof a}function w(a,b){var c=document.createElement("div");b&&(c.className=b);a.appendChild(c);return c}function x(){var a=g('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'),b;a.Y({position:"absolute",left:"-200000px",
visibility:"hidden"});a.fb(document.body);b=parseFloat(n.Rb(a.find(".k-item")[0],["line-height"])["line-height"]);a.remove();return b}function y(a,b){var c=(a.ba-1-a.threshold)*b,d=a.threshold*b;return function(a,b,m){return b>m?b-a.top<c:0===a.top||b-a.top>d}}function z(a,b){return function(c){return b(a.scrollTop,c)}}function A(a){return function(b,c){a(b.items,b.index,c);return b}}function B(a,b){n.va.hb.Zb&&10>n.va.hb.version?a.style.top=b+"px":(a.style.webkitTransform="translateY("+b+"px)",a.style.transform=
"translateY("+b+"px)")}function C(a,b){return function(c,d){for(var e=0,f=c.length;e<f;e++)a(c[e],d[e],b),d[e].item&&(this.i("itemChange",{item:g(c[e]),data:d[e].item,ac:n.ga}),d[e].index===this.Za&&this.select(this.Za))}}function D(a,b,c){var d=c.T;a=g(a);b.item||(d=c.da);this.eb("cleanup",function(){return{elements:[a]}});a.s("data-uid",b.item?b.item.uid:"").s("data-offset-index",b.index).ob(d(b.item||{}));a.fa("k-state-focused",b.current);a.fa("k-state-selected",b.selected);a.fa("k-first",b.S);
a.fa("k-loading-item",!b.item);0!==b.index&&b.S&&g("<div class=k-group></div>").fb(a).ob(c.$({group:b.group}));b.top!==l&&B(a[0],b.top);this.eb("compile",function(){return{elements:[a],data:[{J:b.item,group:b.group,S:b.S}]}})}function E(a,b){var c=b.length,d=[],e,f,m;for(f=0;f<a.length;f++)for(e=a[f],m=0;m<c;m++)e===b[m]&&d.push({index:f,item:e});return d}var n=window.ta,t=n.ga,v=t.Jb,F=g.B,t=t.Gb.extend({pb:function(a,b){var c=this;c.o=!1;c.v=!1;c.w=!1;v.sa.pb.call(c,a,b);c.options.c||(c.options.c=
x());b=c.options;c.element.X("k-list k-virtual-list").s("role","listbox");c.content=c.element.Eb("<div unselectable='on' class='k-virtual-content'></div>").parent();c.Fb=c.content.Eb("<div class='k-virtual-wrap'></div>").parent();c.P=c.content.Ob("<div class='k-group-header'></div>").tb();c.element.ca("mouseenter.VirtualList","li:not(.k-loading-item)",function(){g(this).X("k-state-hover")}).ca("mouseleave.VirtualList","li",function(){g(this).u("k-state-hover")});c.b=r(c.options.value);c.f=[];c.g=
[];c.V={};c.m=null;c.F=[];c.Sa=n.Sb();c.yb(b.a);c.content.ca("scroll.VirtualList",n.ic(function(){c.H()},b.kb));c.la()},options:{name:"VirtualList",gb:!0,kb:100,height:null,ba:4,threshold:.5,c:null,rb:1,type:"flat",l:!1,value:[],jb:null,T:"#:data#",da:"loading...",$:"#:group#",ra:"fixed header template",xa:null},Pb:"change click listBound itemChange activate deactivate".split(" "),zb:function(a){v.sa.zb.call(this,a);this.N&&!1===this.options.l?this.element.qb("click",".k-virtual-item",this.N):!this.N&&
this.options.l&&this.la();this.refresh()},items:function(){return g(this.ia)},lb:function(){this.Fb.qb(".VirtualList");this.a.wa("change",this.W);v.sa.lb.call(this)},yb:function(a){var b=this;a=a||{};var c;a=g.isArray(a)?{data:a}:a;a=n.data.Hb.create(a);b.a?(b.a.wa("change",b.W),b.a.wa("change",b.ka),c=b.value(),b.value([]),b.ua(function(){b.value(c)})):(b.W=g.B(b.refresh,b),b.ka=g.B(b.ub,b));b.a=a.bind("change",b.W).bind("change",b.ka);0!==b.a.view().length?b.refresh():b.options.gb&&b.a.fetch()},
ub:function(){var a=this.a.page();this.o&&!0===this.G&&this.M!==a&&(this.M=a,this.i("listBound"))},refresh:function(a){var b=this,c=a&&a.action;b.D||(b.v?b.H&&b.H(!0):(b.w&&b.focus(0),b.Ca(),c||!b.b.length||b.w?(b.M=b.a.page(),b.o=!0,b.i("listBound")):b.value(b.b,!0).pa(function(){b.M=b.a.page();b.o=!0;b.i("listBound")})),"itemchange"===c&&(a=E(b.f,a.items),a.length&&b.i("selectedItemChange",{items:a})),b.v=!1)},vb:function(a){this.g.splice(a,1);this.b.splice(a,1);return{position:a,J:this.f.splice(a,
1)[0]}},fc:function(a){this.b=r(a)},value:function(a,b){if(a===l)return this.b.slice();a=r(a);"multiple"===this.options.l&&this.select().length&&a.length&&this.select(-1);this.I&&"resolved"!==this.I.state()||(this.I=g.K());a.length||this.select(-1);this.b=a;(this.o&&!this.D||b)&&this.Ta(a);return this.I},Ta:function(a){var b=this,c=b.Da,d=b.O,e;e=!1;for(var f=[],m=0;m<a.length;m++)for(var h=0;h<c.length;h++)(e=c[h].item)&&(e=u(e)?a[m]===e:a[m]===d(e))&&f.push(h);if(f.length===a.length)b.b=[],b.select(f);
else if("function"===typeof b.options.xa)b.options.xa({value:"multiple"===this.options.l?a:a[0],hc:function(a){b.b=[];b.g=[];b.f=[];a=r(a);a.length||(a=[-1]);b.select(a)}});else throw Error("valueMapper is not provided");},oa:function(a){var b=this.a,c=this.h,d=this.V,e=g.K(),f=[],m=Math.floor(a/c)*c;a=Math.ceil(a/c)*c;g.qa(a===m?[a]:[m,a],function(a,e){var m=e+c,l=d[e],p;l&&l.end===m?p=l.na:(p=g.K(),d[e]={end:m,na:p},b.Lb(e,c,function(){p.resolve()}));f.push(p)});g.Db.apply(g,f).then(function(){e.resolve()});
return e},sb:function(a){var b=this,c=this.h,d=!b.F.length;b.m||(b.m=g.K(),b.F=[]);g.qa(a,function(a,d){b.F.push(b.oa(Math.floor(d/c)*c))});d&&g.Db.apply(g,b.F).pa(function(){b.m.resolve();b.m=null;b.F=[]});return b.m},Ga:function(a){var b=this.a.view(),c;if("group"===this.options.type)for(var d=0;d<b.length;d++)if(c=b[d].items,c.length<=a)a-=c.length;else return c[a];return b[a]},ec:function(){return this.f.slice()},scrollTo:function(a){this.content.scrollTop(a)},xb:function(a){this.scrollTo(a*this.options.c)},
focus:function(a){var b,c,d=this.options.c,e=this.Sa,f=!0;if(a===l)return c=this.element.find(".k-state-focused"),c.length?c:null;if("function"===typeof a)for(b=this.a.nb(),c=0;c<b.length;c++)if(a(b[c])){a=c;break}a instanceof Array&&(a=q(a));isNaN(a)?(b=g(a),a=parseInt(g(b).s("data-offset-index"),10)):b=this.A(a);-1===a?(this.element.find(".k-state-focused").u("k-state-focused"),this.j=l):b.length?(b.aa("k-state-focused")&&(f=!1),this.j!==l&&(c=this.A(this.j),c.u("k-state-focused").cc("id"),f&&this.i("deactivate")),
this.j=a,b.X("k-state-focused").s("id",e),e=this.Ka(a),"top"===e?this.scrollTo(a*d):"bottom"===e?this.scrollTo(a*d+d-this.C):"outScreen"===e&&this.scrollTo(a*d),f&&this.i("activate")):(this.j=a,this.items().u("k-state-focused"),this.xb(a))},Qb:function(){return this.j},first:function(){this.scrollTo(0);this.focus(0)},Yb:function(){var a=this.a.total();this.scrollTo(this.R.offsetHeight);this.focus(a)},tb:function(){var a=this.j,b;if(!isNaN(a)&&0<a)return--a,this.focus(a),(b=this.focus())&&b.aa("k-loading-item")&&
(a+=1,this.focus(a)),a},next:function(){var a=this.j,b=this.a.total()-1;if(!isNaN(a)&&a<b)return a+=1,this.focus(a),(b=this.focus())&&b.aa("k-loading-item")&&(--a,this.focus(a)),a},select:function(a){var b=this,c,d="multiple"!==b.options.l,e=!!b.m,f=[];if(a===l)return b.g.slice();c=b.La(a);b.w&&!d&&b.Fa(c)||!c.length||d&&!b.w&&q(c)===q(this.g)||(f=b.Ea(c),d&&(b.m=null,e=!1,c.length&&(c=[q(c)])),d=function(){var a=b.Ya(c);b.focus(c);(a.length||f.length)&&b.i("change",{cb:a,wb:f});b.I&&b.I.resolve()},
a=b.sb(c),e||(a?a.pa(d):d()))},Vb:function(){return this.o},ua:function(a){this.D=!0;F(a(),this);this.D=!1},filter:function(a){if(a===l)return this.w;this.w=a;this.G=!0},gc:g.$b,A:function(a){return this.items().filter(function(b,c){return a===parseInt(g(c).s("data-offset-index"),10)})},Ba:function(){this.M=this.ja=this.result=l;g(this.R).remove();this.R=l;this.element.empty()},Na:function(){var a=!!this.a.view().length,b=this.options.height,c=this.options.c,d=this.a.total();a?b/c>d&&(b=d*c):b=0;
return b},Xa:function(){var a=this.Na();this.content.height(a);this.C=a},Ka:function(a){var b=this.content.scrollTop(),c=this.C,d=this.options.c;a*=d;var e=a+d,f=b+c;return a===b-d||e>b&&a<b?"top":a===f||a<f&&f<e?"bottom":a>=b&&a<=b+(c-d)?"inScreen":"outScreen"},ab:function(){var a={T:this.options.T,da:this.options.da,$:this.options.$,ra:this.options.ra},b;for(b in a)"function"!==typeof a[b]&&(a[b]=n.T(a[b]));this.Bb=a},Ia:function(a,b){for(var c=[],d,e=this.options.c+"px";0<b--;)d=document.createElement("li"),
d.tabIndex=-1,d.className="k-virtual-item k-item",d.setAttribute("role","option"),d.style.height=e,d.style.minHeight=e,a.appendChild(d),c.push(d);return c},Wa:function(){var a=this.a.Mb,b=g.K();b.resolve();this.V={};for(var c=0;c<a.length;c++)this.V[a[c].start]={end:a[c].end,na:b}},Ca:function(){var a=this,b=a.content.get(0),c=a.options,d=a.a;d.total();a.o&&a.Ba();a.Wa();a.Xa();a.za();a.h=Math.ceil(a.C*c.ba/c.c);a.h>d.total()&&(a.h=d.total());a.ab();a.ia=a.Ia(a.element[0],a.h);a.$a(c.c*d.total());
a.options.type=(d.group()||[]).length?"group":"flat";"flat"===a.options.type?a.P.Tb():a.P.show();a.Z=a.Ma(function(){a.H(!0)});a.Ra=function(b,c){var d=a.Qa(a.Z);return a.Ha(b,d(b,c))};a.H=a.bb(z(b,a.Ra),A(a.Va(a.ia,g.B(D,a))));a.H();a.Aa(a.C)},$a:function(a){var b,c=this.R;c?b=c.offsetHeight:c=this.R=w(this.content[0],"k-height-container");if(a!==b)for(c.innerHTML="";0<a;)b=Math.min(a,25E4),w(c).style.height=b+"px",a-=b},Ma:function(){var a=null,b=this.a,c=b.Ab(),d=this.options.type,e=this.h,f={};
return function(g,h){var k=this;if(b.inRange(h,e)){c!==h&&(k.D=!0,k.v=!0,k.G=!0,b.ea(h,e),c=h,k.G=!1,k.v=!1,k.D=!1);var l;if("group"===d){if(!f[h]){l=f[h]=[];for(var n=b.view(),p=0,t=n.length;p<t;p++)for(var q=n[p],r=0,u=q.items.length;r<u;r++)l.push({item:q.items[r],group:q.value})}l=f[h][g-h]}else l=b.view()[g-h];return l}a!==h&&(c=a=h,k.v=!0,k.L&&k.L.reject(),k.L=k.oa(h),k.L.then(function(){var a=k.ha(k.content[0].scrollTop);k.L=null;h<=a&&a<=h+e&&(k.v=!0,k.G=!0,b.ea(h,e),k.G=!1)}));return null}},
Ha:function(a,b){var c=this.ib,d=b.items[Math.floor((a-b.top)/this.options.c)];d&&d.item&&(d=d.group,d!==c&&(this.P[0].innerHTML=d||"",this.ib=d));return b},Oa:function(a,b,c){var d=this.options.c,e=this.j,f=!1,g=!1,h=!1,k=null,l=!1,n=this.O;"group"===this.options.type&&(a&&(h=0===b||this.U&&this.U!==a.group,this.U=a.group),k=a?a.group:null,a=a?a.item:null);if(c.length&&a)for(var p=0;p<c.length;p++)if(l=u(a)?c[p]===a:c[p]===n(a)){c.splice(p,1);f=!0;break}e===b&&(g=!0);return{item:a?a:null,group:k,
S:h,selected:f,current:g,index:b,top:b*d}},Ua:function(a){var b=this.h,c=this.b.slice(),d=[];this.ma={};this.U=null;for(var e=a,f=a+b;e<f;e++)b=this.Oa(this.Z(e,a),e,c),d.push(b),this.ma[b.index]=b;return this.Da=d},Ja:function(a,b){var c=this.Ua(this.Pa(a,b));return{index:c.length?c[0].index:0,top:c.length?c[0].top:0,items:c}},Qa:function(){var a=y(this.options,this.C);return g.B(function(b,c){var d=this.result,e=this.ja;!c&&d&&a(d,b,e)||(d=this.Ja(b,e));this.ja=b;return this.result=d},this)},bb:function(a,
b){var c;return function(d){var e=a(d);e!==c&&(c=e,b(e,d))}},Va:function(a,b){var c=this,d=a.length,e=-Infinity;b=g.B(C(b,this.Bb),this);return function(f,g,h){var k=g-e;h||Math.abs(k)>=d?h=a:(0<k?(h=a.splice(0,k),a.push.apply(a,h)):(h=a.splice(k,-k),a.unshift.apply(a,h)),f=0<k?f.slice(-k):f.slice(0,-k));b(h,f,c.o);e=g}},ya:function(){var a=this.options,b=this.C,c=a.rb;return{mb:b*c,Cb:b*(a.ba-1-c)}},ha:function(a){var b=this.h,c=this.options.c,d=this.a.total();return Math.min(Math.max(d-b,0),Math.max(0,
Math.floor(a/c)))},Pa:function(a,b){var c=this.ya();return this.ha(a-(a>b?c.mb:c.Cb))},la:function(){this.options.l&&(this.N=g.B(this,"_clickHandler"),this.element.ca("click.VirtualList",".k-virtual-item",this.N))},La:function(a){var b=[],c;if("function"===typeof a){c=this.a.nb();for(var d=0;d<c.length;d++)if(a(c[d])){b.push(d);break}}"number"===typeof a&&b.push(a);a instanceof jQuery&&(a=parseInt(a.s("data-offset-index"),10),isNaN(a)||b.push(a));a instanceof Array&&(b=a);return b},Ea:function(a){var b=
[],c,d,e=this.g,f=0;c=this.options.l;var m=0;if(-1===a[f]){for(f=0;f<e.length;f++)c=e[f],this.A(c).u("k-state-selected"),b.push({index:c,position:f,J:this.f[f]});this.b=[];this.f=[];this.g=[];a.splice(0,a.length);return b}if(!0===c)a=a[f],c=e[f],c!==l&&a!==c&&(this.A(c).u("k-state-selected"),b.push({index:c,position:f,J:this.f[f]}),this.b=[],this.f=[],this.g=[]);else if("multiple"===c)for(var h=0;h<a.length;h++)f=g.Ub(a[h],e),c=e[f],c!==l&&(d=this.A(c),d.aa("k-state-selected")&&(d.u("k-state-selected"),
this.b.splice(f,1),this.g.splice(f,1),d=this.f.splice(f,1),a.splice(h,1),b.push({index:c,position:f+m,J:d}),m++,h--));return b},Fa:function(a){for(var b=this.element[0].children,c,d,e,f=this.b,m=[],h=0,k;h<a.length;h++){e=-1;d=a[h];c=this.O(this.ma[d].item);for(k=0;k<f.length;k++)if(c==f[k]){e=k;break}-1<e&&(m.push(this.vb(e)),g(b[d]).u("k-state-selected"))}return m.length?(this.i("change",{cb:[],wb:m}),!0):!1},Ya:function(a){var b=this,c=this.a,d,e,f=this.h,m=this.O,h=[];"multiple"!==this.options.l&&
(b.g=[],b.f=[],b.b=[]);e=c.Ab();g.qa(a,function(a,g){var l=((g<f?1:Math.floor(g/f)+1)-1)*f;b.ua(function(){c.ea(l,f);d=b.Ga([g-l]);b.g.push(g);b.f.push(d);b.b.push(u(d)?d:m(d));h.push({index:g,J:d});b.A(g).X("k-state-selected");c.ea(e,f)})});return h},Kb:function(a){var b=g(a.currentTarget);!a.Wb()&&b.s("data-uid")&&this.i("click",{item:b})},za:function(){this.O=n.Z(this.options.jb)},Aa:function(a){var b=this.items().first(),c=this.P,d=0;c[0]&&"none"!==c[0].style.display&&("auto"!==a&&(d=n.va.dc()),
d+=parseFloat(b.Y("border-right-width"),10)+parseFloat(b.children(".k-group").Y("right"),10),c.Y("padding-right",d))}});n.ga.Ib=t;n.ga.bc(t)})(window.ta.Xb);return window.ta}); 
