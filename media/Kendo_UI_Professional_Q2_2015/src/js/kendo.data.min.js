("function"==typeof define&&define.wd?define:function(n,k){k()})(["./kendo.core","./kendo.data.odata","./kendo.data.xml"],function(){(function(n,k){function L(a){return a}function ea(a,b){if(a===b)return!0;var c=n.type(a),d=n.type(b),e;if(c!==d)return!1;if("date"===c)return a.getTime()===b.getTime();if("object"!==c&&"array"!==c)return!1;for(e in a)if(!ea(a[e],b[e]))return!1;return!0}function q(a){this.data=a||[]}function M(a,b){if(a){var c="string"===typeof a?{b:a,dir:b}:a,c=x(c)?c:c!==k?[c]:[];return Aa(c,
function(a){return!!a.dir})}}function fa(a){var b,c,d,e=a.filters;if(e)for(a=0,b=e.length;a<b;a++)c=e[a],(d=c.pb)&&"string"===typeof d&&(c.pb=Ba[d.toLowerCase()]||d),fa(c)}function Q(a){if(a&&!F(a)){if(x(a)||!a.filters)a={Mc:"and",filters:x(a)?a:[a]};fa(a);return a}}function N(a){a="string"===typeof a?{b:a,dir:void 0}:a;a=x(a)?a:a!==k?[a]:[];return X(a,function(a){return{b:a.b,dir:a.dir||"asc",J:a.J}})}function y(a){return"number"===typeof a&&!isNaN(a)}function R(a){var b,c=a.length,d=Array(c);for(b=
0;b<c;b++)d[b]=a[b].toJSON();return d}function Ca(a,b,c,d,e){var f,g,h;g=0;for(h=a.length;g<h;g++)for(f in c=a[g],b)(d=e[f])&&d!==f&&(c[d]=b[f](c),delete c[f])}function ga(a,b,c,d,e){var f,g,h,l;h=0;for(l=a.length;h<l;h++)for(f in d=a[h],b)d[f]=c.$a(f,b[f](d)),(g=e[f])&&g!==f&&delete d[g]}function ha(a,b,c,d,e){var f,g,h,l;g=0;for(l=a.length;g<l;g++)f=a[g],(h=d[f.b])&&h!=f.b&&(f.b=h),f.value=c.$a(f.b,f.value),f.R?ha(f.items,b,c,d,e):ga(f.items,b,c,0,e)}function Y(a,b,c,d,e,f){return function(g){(g=
a(g))&&!F(d)&&("[object Array]"===S.call(g)||g instanceof B||(g=[g]),c(g,d,new b,e,f));return g||[]}}function Z(a,b,c,d){for(var e,f=0,g;b.length&&d;){e=b[f];g=e.items;var h=g.length;a&&a.b===e.b&&a.value===e.value?(a.R&&a.items.length?Z(a.items[a.items.length-1],e.items,c,d):(g=g.slice(c,c+d),a.items=a.items.concat(g)),b.splice(f--,1)):(e.R&&g.length?Z(e,g,c,d):(g=g.slice(c,c+d),e.items=g),e.items.length||b.splice(f--,1));0===g.length?c-=h:(c=0,d-=g.length);if(++f>=b.length)break}f<b.length&&b.splice(f,
b.length-f)}function aa(a){var b,c=[],d,e,f;b=0;for(d=a.length;b<d;b++)if(e=a.s(b),e.R)c=c.concat(aa(e.items));else for(e=e.items,f=0;f<e.length;f++)c.push(e.s(f));return c}function ia(a,b){var c,d,e;if(b)for(c=0,d=a.length;c<d;c++)e=a.s(c),e.R?ia(e.items,b):e.items=new T(e.items,b)}function ja(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c].R){if(ja(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function ka(a,b,c){for(var d=0,e=a.length;d<e;d++){if(a[d]&&a[d].R)return ka(a[d].items,b,c);
if(a[d]===b||a[d]===c)return a[d]=c,!0}}function la(a,b,c,d,e){for(var f=0,g=a.length;f<g;f++){var h=a[f];if(h&&!(h instanceof d))if(h.R===k||e)for(var l=0;l<b.length;l++){if(b[l]===h){a[f]=b.s(l);for(var l=c,w=b,C=a[f],t=0;t<l.length&&l[t].data!==w&&!ka(l[t].data,h,C);t++);break}}else la(h.items,b,c,d,e)}}function ma(a,b){var c,d;c=0;for(d=a.length;c<d;c++){var e=a.s(c);if(e.uid==b.uid)return a.splice(c,1),e}}function na(a,b){return b?oa(a,function(a){return a.uid?a.uid==b.uid:a[b.D]===b.id}):-1}
function pa(a,b){return b?oa(a,function(a){return a.uid==b.uid}):-1}function oa(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(b(a[c]))return c;return-1}function qa(a,b){if(a&&!F(a)){var c=a[b],c=G(c)?c.Wb||c.b||b:a[b]||b;return z(c)?b:c}return b}function ra(a,b){var c,d,e={};for(c in a)"filters"!==c&&(e[c]=a[c]);if(a.filters)for(e.filters=[],c=0,d=a.filters.length;c<d;c++)e.filters[c]=ra(a.filters[c],b);else e.b=qa(b.j,e.b);return e}function U(a,b){var c,d,e=[],f,g;c=0;for(d=a.length;c<d;c++){f={};g=
a[c];for(var h in g)f[h]=g[h];f.b=qa(b.j,f.b);f.J&&x(f.J)&&(f.J=U(f.J,b));e.push(f)}return e}function sa(a){return function(){return A.w[a].apply(this,O.call(arguments))}}function ta(a,b){function c(a,b){return a.filter(b).add(a.find(b))}var d=n(a).children(),e,f,g=[],h,l=b[0].b,w=b[1]&&b[1].b,k=b[2]&&b[2].b,t=b[3]&&b[3].b,p,m,q,r;e=0;for(f=d.length;e<f;e++){h={ja:!0};p=d.Tb(e);q=p[0].firstChild;r=p.children();a=r.filter("ul");r=r.filter(":not(ul)");if(m=p.kb("data-id"))h.id=m;q&&(h[l]=3==q.nodeType?
q.nodeValue:r.text());w&&(h[w]=c(r,"a").kb("href"));t&&(h[t]=c(r,"img").kb("src"));k&&(m=c(r,".k-sprite").we("className"),h[k]=m&&n.trim(m.replace("k-sprite","")));a.length&&(h.items=ta(a.Tb(0),b));"true"==p.kb("data-hasChildren")&&(h.P=!0);g.push(h)}return g}var u=n.extend,D=n.xe,G=n.Wd,F=n.Kc,x=n.isArray,Aa=n.Ic,ba=n.Bc,X,ca=n.Ed,H=n.le,m=window.Xb,z=m.Vd,I=m.Ea,J=m.gd,Da=["create","read","update","destroy"],V=m.Pa,W=m.stringify,r=Math,Ea=[].push,Fa=[].pop,Ga=[].splice,Ha=[].shift,O=[].slice,Ia=
[].unshift,S={}.toString,Ja=m.Ce.ze,Ka=/^\/Date\((.*?)\)\/$/,La=/(\r+|\n+)/g,Ma=/(?=['\\])/g,B=I.extend({l:function(a,b){this.type=b||v;I.w.l.call(this);this.length=a.length;this.Da(a,this)},s:function(a){return this[a]},toJSON:function(){var a,b=this.length,c,d=Array(b);for(a=0;a<b;a++)c=this[a],c instanceof v&&(c=c.toJSON()),d[a]=c;return d},parent:H,Da:function(a,b){function c(){return d}var d=this,e,f;b=b||[];e=0;for(f=a.length;e<f;e++)b[e]=d.pa(a[e],c);return b},pa:function(a,b){var c;null!==
a&&"[object Object]"===S.call(a)&&(c=a instanceof this.type||a instanceof E,c||(a=a instanceof v?a.toJSON():a,a=new this.type(a)),a.parent=b);return a},push:function(){var a=this.length,b=this.Da(arguments),c;c=Ea.apply(this,b);this.c("change",{action:"add",index:a,items:b});return c},slice:O,sort:[].sort,join:[].join,pop:function(){var a=this.length,b=Fa.apply(this);a&&this.c("change",{action:"remove",index:a-1,items:[b]});return b},splice:function(a,b,c){var d=this.Da(O.call(arguments,2)),e,f,g;
e=Ga.apply(this,[a,b].concat(d));if(e.length)for(this.c("change",{action:"remove",index:a,items:e}),f=0,g=e.length;f<g;f++)e[f]&&e[f].children&&e[f].sb("change");c&&this.c("change",{action:"add",index:a,items:d});return e},shift:function(){var a=this.length,b=Ha.apply(this);a&&this.c("change",{action:"remove",index:0,items:[b]});return b},unshift:function(){var a=this.Da(arguments),b;b=Ia.apply(this,a);this.c("change",{action:"add",index:0,items:a});return b},indexOf:function(a){var b,c;b=0;for(c=
this.length;b<c;b++)if(this[b]===a)return b;return-1},forEach:function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;b<d;b++)c[b]=a(this[b],b,this);return c},reduce:function(a,b){var c=0,d,e=this.length;for(2==arguments.length?d=arguments[1]:c<e&&(d=this[c++]);c<e;c++)d=a(d,this[c],c,this);return d},reduceRight:function(a,b){var c=this.length-1,d;for(2==arguments.length?d=arguments[1]:0<c&&(d=this[c--]);0<=c;c--)d=a(d,this[c],c,this);return d},
filter:function(a){for(var b=0,c=[],d,e=this.length;b<e;b++)d=this[b],a(d,b,this)&&(c[c.length]=d);return c},find:function(a){for(var b=0,c,d=this.length;b<d;b++)if(c=this[b],a(c,b,this))return c},every:function(a){for(var b=0,c,d=this.length;b<d;b++)if(c=this[b],!a(c,b,this))return!1;return!0},some:function(a){for(var b=0,c,d=this.length;b<d;b++)if(c=this[b],a(c,b,this))return!0;return!1},remove:function(a){a=this.indexOf(a);-1!==a&&this.splice(a,1)},empty:function(){this.splice(0,this.length)}}),
T=B.extend({l:function(a,b){I.w.l.call(this);this.type=b||v;for(var c=0;c<a.length;c++)this[c]=a[c];this.length=c;this.Eb=D(function(){return this},this)},s:function(a){var b=this[a];b instanceof this.type?b.parent=this.Eb:b=this[a]=this.pa(b,this.Eb);return b}}),v=I.extend({l:function(a){function b(){return c}var c=this,d,e;I.w.l.call(this);for(e in a)d=a[e],"object"===typeof d&&d&&!d.getTime&&"_"!=e.charAt(0)&&(d=c.pa(d,e,b)),c[e]=d;c.uid=m.Td()},oa:function(a){return this.hasOwnProperty(a)&&"_events"!==
a&&"function"!==typeof this[a]&&"uid"!==a},forEach:function(a){for(var b in this)this.oa(b)&&a(this[b],b)},toJSON:function(){var a={},b,c;for(c in this)if(this.oa(c)){b=this[c];if(b instanceof v||b instanceof B)b=b.toJSON();a[c]=b}return a},get:function(a){this.c("get",{b:a});return"this"===a?this:m.Pa(a,!0)(this)},Kb:function(a,b){var c=0<=a.indexOf(".");if(c)for(var d=a.split("."),e="";1<d.length;){var e=e+d.shift(),f=m.Pa(e,!0)(this);if(f instanceof v)return f.set(d.join("."),b),c;e+="."}m.ye(a)(this,
b);return c},set:function(a,b){var c=this,d=0<=a.indexOf(".");m.Pa(a,!0)(c)===b||c.c("set",{b:a,value:b})||(d||(b=c.pa(b,a,function(){return c})),(!c.Kb(a,b)||0<=a.indexOf("(")||0<=a.indexOf("["))&&c.c("change",{b:a}))},parent:H,pa:function(a,b,c){b=S.call(a);if(null!=a&&("[object Object]"===b||"[object Array]"===b)){var d=a instanceof B,e=a instanceof A;if("[object Object]"===b&&!e&&!d)a instanceof v||(a=new v(a)),a.parent(),c();else if("[object Array]"===b||d||e)d||e||(a=new B(a)),a.parent(),c();
a.parent=c}return a}}),ua={number:function(a){return m.parseFloat(a)},date:function(a){return m.ue(a)},"boolean":function(a){return"string"===typeof a?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Na={string:"",number:0,date:new Date,"boolean":!1,"default":""},E=v.extend({l:function(a){if(!a||n.Kc(a))if(a=n.extend({},this.xa,a),this.Xa)for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b];a[c]=this.xa[c]()}v.w.l.call(this,a);this.da=
!1;this.D&&(this.id=this.get(this.D),this.id===k&&(this.id=this.Va))},oa:function(a){return v.w.oa.call(this,a)&&"uid"!==a&&!("id"!==this.D&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},$a:function(a,b){var c=a,d=this.j||{},e;a=d[a];if(!a)a:{var f,g;for(g in d)if(f=d[g],G(f)&&f.b&&f.b===c||f===c){a=f;break a}a=null}a&&(e=a.parse,!e&&a.type&&(e=ua[a.type.toLowerCase()]));return e?e(b):b},ud:function(a){a=a.action;if("add"==a||"remove"==a)this.da=!0},Sb:function(a){return(a=(this.j||{})[a])?!1!==a.Sb:
!0},set:function(a,b,c){this.Sb(a)&&(b=this.$a(a,b),ea(b,this.get(a))||(this.da=!0,v.w.set.call(this,a,b,c)))},accept:function(a){function b(){return c}var c=this,d;for(d in a){var e=a[d];"_"!=d.charAt(0)&&(e=c.pa(a[d],d,b));c.Kb(d,e)}c.D&&(c.id=c.get(c.D));c.da=!1},K:function(){return this.id===this.Va}});E.ya=function(a,b){b===k&&(b=a,a=E);var c,d=u({xa:{}},b),e,f,g,h,l;g={};f=d.id;var w=[];f&&(d.D=f);d.id&&delete d.id;f&&(d.xa[f]=d.Va="");if("[object Array]"===S.call(d.j)){h=0;for(l=d.j.length;h<
l;h++)f=d.j[h],"string"===typeof f?g[f]={}:f.b&&(g[f.b]=f);d.j=g}for(e in d.j)f=d.j[e],g=f.type||"default",h=null,l=e,e="string"===typeof f.b?f.b:e,f.re||(h=d.xa[l!==e?l:e]=f.defaultValue!==k?f.defaultValue:Na[g.toLowerCase()],"function"===typeof h&&w.push(e)),b.id===e&&(d.Va=h),d.xa[l!==e?l:e]=h,f.parse=f.parse||ua[g];0<w.length&&(d.Xa=w);c=a.extend(d);c.ya=function(a){return E.ya(c,a)};d.j&&(c.j=d.j,c.D=d.D);return c};var da={qb:function(a){return z(a)?a:V(a)},compare:function(a){var b=this.qb(a);
return function(a,d){a=b(a);d=b(d);return null==a&&null==d?0:null==a?-1:null==d?1:a.localeCompare?a.localeCompare(d):a>d?1:a<d?-1:0}},create:function(a){var b=a.compare||this.compare(a.b);return"desc"==a.dir?function(a,d){return b(d,a,!0)}:b},Dc:function(a){return function(b,c){var d=a[0](b,c),e,f;e=1;for(f=a.length;e<f;e++)d=d||a[e](b,c);return d}}},Oa=u({},da,{yd:function(a){var b=this.qb(a);return function(a,d){var e=b(a),f=b(d);e&&e.getTime&&f&&f.getTime&&(e=e.getTime(),f=f.getTime());return e===
f?a.qa-d.qa:null==e?-1:null==f?1:e.localeCompare?e.localeCompare(f):e>f?1:-1}},Cd:function(a){var b=this.qb(a);return function(a,d){var e=b(a),f=b(d);e&&e.getTime&&f&&f.getTime&&(e=e.getTime(),f=f.getTime());return e===f?a.qa-d.qa:null==e?1:null==f?-1:f.localeCompare?f.localeCompare(e):e<f?1:-1}},create:function(a){return this[a.dir](a.b)}});X=function(a,b){var c,d=a.length,e=Array(d);for(c=0;c<d;c++)e[c]=b(a[c],c,a);return e};var va=function(){function a(a){return a.replace(Ma,"\\").replace(La,"")}
function b(b,d,e,f){var g;null!=e&&("string"===typeof e&&(e=a(e),(g=Ka.exec(e))?e=new Date(+g[1]):f?(e="'"+e.toLowerCase()+"'",d="("+d+" || '').toLowerCase()"):e="'"+e+"'"),e.getTime&&(d="("+d+"?"+d+".getTime():"+d+")",e=e.getTime()));return d+" "+b+" "+e}return{quote:function(b){return b&&b.getTime?"new Date("+b.getTime()+")":"string"==typeof b?"'"+a(b)+"'":""+b},Tb:function(a,d,e){return b("==",a,d,e)},ke:function(a,d,e){return b("!=",a,d,e)},Rd:function(a,d,e){return b(">",a,d,e)},Sd:function(a,
d,e){return b(">=",a,d,e)},he:function(a,d,e){return b("<",a,d,e)},ie:function(a,d,e){return b("<=",a,d,e)},Ae:function(b,d,e){e&&(b="("+b+" || '').toLowerCase()",d&&(d=d.toLowerCase()));d&&(d=a(d));return b+".lastIndexOf('"+d+"', 0) == 0"},Fd:function(b,d,e){e&&(b="("+b+" || '').toLowerCase()",d&&(d=d.toLowerCase()));d&&(d=a(d));return b+".indexOf('"+d+"', "+b+".length - "+(d||"").length+") >= 0"},contains:function(b,d,e){e&&(b="("+b+" || '').toLowerCase()",d&&(d=d.toLowerCase()));d&&(d=a(d));return b+
".indexOf('"+d+"') >= 0"},Dd:function(b,d,e){e&&(b="("+b+" || '').toLowerCase()",d&&(d=d.toLowerCase()));d&&(d=a(d));return b+".indexOf('"+d+"') == -1"}}}();q.Vb=function(a){var b=[],c,d,e,f,g=[],h=[],l,w,C=a.filters;c=0;for(d=C.length;c<d;c++)e=C[c],l=e.b,w=e.pb,e.filters?(f=q.Vb(e),e=f.Ub.replace(/__o\[(\d+)\]/g,function(a,b){return"__o["+(h.length+ +b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return"__f["+(g.length+ +b)+"]"}),h.push.apply(h,f.$b),g.push.apply(g,f.j)):("function"===typeof l?
(f="__f["+g.length+"](d)",g.push(l)):f=m.Jd(l),"function"===typeof w?(e="__o["+h.length+"]("+f+", "+va.quote(e.value)+")",h.push(w)):e=va[(w||"eq").toLowerCase()](f,e.value,e.ignoreCase!==k?e.ignoreCase:!0)),b.push(e);return{Ub:"("+b.join({xd:" && ",te:" || "}[a.Mc])+")",j:g,$b:h}};var Ba={"==":"eq",Hd:"eq",Xd:"eq",Id:"eq",Gd:"eq","!=":"neq",je:"neq",oe:"neq",be:"neq",pe:"neq",ne:"neq","<":"lt",$d:"lt",fe:"lt",ee:"lt","<=":"lte",de:"lte",ae:"lte",ge:"lte",">":"gt",Yd:"gt",Pd:"gt",Od:"gt",">=":"gte",
Zd:"gte",Qd:"gte",Nd:"gte",qe:"doesnotcontain"};q.me=Q;q.prototype={F:function(a,b){return new q(this.data.slice(a,a+b))},h:function(a){return new q(this.data.slice(a))},u:function(a){return new q(this.data.slice(0,a))},select:function(a){return new q(X(this.data,a))},Sc:function(a,b){var c={dir:b};a&&(a.compare?c.compare=a.compare:c.b=a);return new q(this.data.slice(0).sort(da.create(c)))},Tc:function(a){return this.Sc(a,"asc")},sort:function(a,b,c){var d=M(a,b),e=[];c=c||da;if(d.length){a=0;for(b=
d.length;a<b;a++)e.push(c.create(d[a]));return this.Tc({compare:c.Dc(e)})}return this},filter:function(a){var b,c,d,e=this.data,f,g,h=[],l;a=Q(a);if(!a||0===a.filters.length)return this;a=q.Vb(a);f=a.j;g=a.$b;d=l=new Function("d, __f, __o","return "+a.Ub);if(f.length||g.length)l=function(a){return d(a,f,g)};a=0;for(c=e.length;a<c;a++)b=e[a],l(b)&&h.push(b);return new q(h)},group:function(a,b){a=N(a||[]);b=b||this.data;var c=new q(this.data),d;0<a.length&&(d=a[0],c=c.Jc(d).select(function(c){var f=
(new q(b)).filter([{b:c.b,pb:"eq",value:c.value,ignoreCase:!1}]);return{b:c.b,value:c.value,items:1<a.length?(new q(c.items)).group(a.slice(1),f.data).data:c.items,R:1<a.length,J:f.i(d.J)}}));return c},Jc:function(a){if(F(a)||!this.data.length)return new q([]);var b=a.b;a=this.wc(b,a.dir||"asc");var c=m.Ac(b),d,e=c.get(a[0],b),f={b:b,value:e,items:[]},g,h,l,k=[f];h=0;for(l=a.length;h<l;h++){d=a[h];g=c.get(d,b);if(e&&e.getTime&&g&&g.getTime?e.getTime()!==g.getTime():e!==g)e=g,f={b:b,value:e,items:[]},
k.push(f);f.items.push(d)}return new q(k)},wc:function(a,b){var c,d,e=this.data;if(!Ja){c=0;for(d=e.length;c<d;c++)e[c].qa=c;e=(new q(e)).sort(a,b,Oa).data;c=0;for(d=e.length;c<d;c++)delete e[c].qa;return e}return this.sort(a,b).data},i:function(a){var b,c,d={},e={};if(a&&a.length)for(b=0,c=this.data.length;b<c;b++)for(var f=d,g=a,h=this.data[b],l=b,k=c,C=e,g=g||[],t=void 0,p=void 0,n=void 0,r=g.length,t=0;t<r;t++)p=g[t],n=p.i,p=p.b,f[p]=f[p]||{},C[p]=C[p]||{},C[p][n]=C[p][n]||{},f[p][n]=Pa[n.toLowerCase()](f[p][n],
h,m.Ac(p),l,k,C[p][n]);return d}};var Pa={Be:function(a,b,c){b=c.get(b);y(a)?y(b)&&(a+=b):a=b;return a},count:function(a){return(a||0)+1},zd:function(a,b,c,d,e,f){b=c.get(b);f.count===k&&(f.count=0);y(a)?y(b)&&(a+=b):a=b;y(b)&&f.count++;d==e-1&&y(a)&&(a/=f.count);return a},max:function(a,b,c){b=c.get(b);y(a)||a&&a.getTime||(a=b);a<b&&(y(b)||b&&b.getTime)&&(a=b);return a},min:function(a,b,c){b=c.get(b);y(a)||a&&a.getTime||(a=b);a>b&&(y(b)||b&&b.getTime)&&(a=b);return a}};q.Xc=function(a,b){b=b||{};
var c=new q(a),d=b.group,e=N(d||[]).concat(M(b.sort||[])),f,g=b.Kd,h=b.filter,l=b.h,m=b.u;h&&(c=c.filter(h),g&&(c=g(c)),f=c.data.length);e&&(c=c.sort(e),d&&(a=c.data));l!==k&&m!==k&&(c=c.F(l,m));d&&(c=c.group(d,a));return{total:f,data:c.data}};var wa=J.extend({l:function(a){this.data=a.data},read:function(a){a.B(this.data)},update:function(a){a.B(a.data)},create:function(a){a.B(a.data)},Na:function(a){a.B(a.data)}}),xa=J.extend({l:function(a){var b;a=this.options=u({},this.options,a);ca(Da,function(b,
d){"string"===typeof a[d]&&(a[d]={url:a[d]})});this.cache=a.cache?P.create(a.cache):{find:H,add:H};b=a.za;z(a.push)&&(this.push=a.push);this.push||(this.push=L);this.za=z(b)?b:function(a){var d={};ca(a,function(a,c){a in b&&(a=b[a],G(a)&&(c=a.value(c),a=a.key));d[a]=c});return d}},options:{za:L},create:function(a){return ba(this.Qa(a,"create"))},read:function(a){var b,c,d=this.cache;a=this.Qa(a,"read");b=a.B||H;c=d.find(a.data);c!==k?b(c):(a.B=function(c){d.add(a.data,c);b(c)},n.Bc(a))},update:function(a){return ba(this.Qa(a,
"update"))},Na:function(a){return ba(this.Qa(a,"destroy"))},Qa:function(a,b){a=a||{};var c;c=this.options[b];var d=z(c.data)?c.data(a.data):c.data;a=u(!0,{},c,a);c=u(!0,{},d,a.data);a.data=this.za(c,b);z(a.url)&&(a.url=a.url(c));return a}}),P=J.extend({l:function(){this.Ka={}},add:function(a,b){a!==k&&(this.Ka[W(a)]=b)},find:function(a){return this.Ka[W(a)]},clear:function(){this.Ka={}},remove:function(a){delete this.Ka[W(a)]}});P.create=function(a){return G(a)&&z(a.find)?a:!0===a?new P:{inmemory:function(){return new P}}[a]()};
var J=J.extend({l:function(a){var b,c;a=a||{};for(b in a)c=a[b],this[b]="string"===typeof c?V(c):c;b=a.Yb||E;G(this.g)&&(this.g=b=b.ya(this.g));c=D(this.data,this);if(this.g){var d=D(this.mb,this),e=D(this.X,this),f={},g={},h={},l={},k=!1,m;b=this.g;b.j&&(ca(b.j,function(a,b){var c;m=a;G(b)&&b.b?m=b.b:"string"===typeof b&&(m=b);G(b)&&b.Wb&&(c=b.Wb);k=k||c&&c!==a||m!==a;g[a]=V(c||m);h[a]=V(a);f[c||m]=a;l[a]=c||m}),!a.X&&k&&(this.X=Y(e,b,Ca,h,f,l)));this.data=Y(c,b,ga,g,f,l);this.mb=Y(d,b,ha,g,f,l)}},
Oa:function(a){return a?a.Oa:null},parse:L,data:L,total:function(a){return a.length},mb:L,J:function(){return{}},X:function(a){return a}}),A=I.extend({l:function(a){var b=this,c;a&&(c=a.data);a=b.options=u({},b.options,a);b.sd={};b.Fb={};b.a=[];b.ba=[];b.o=[];b.wa=[];b.la=0;b.A=[];b.aa=a.m;b.ua=a.page||(a.m?1:k);b.ca=M(a.sort);b.Z=Q(a.filter);b.$=N(a.group);b.V=a.i;b.v=a.total;b.gb=!0;I.w.l.call(b);b.H=Qa.create(a,c,b);z(b.H.push)&&b.H.push({ac:D(b.oc,b),$c:D(b.qc,b),Zc:D(b.pc,b)});if(null!=a.W)if("string"==
typeof a.W){var d=a.W;b.hb={getItem:function(){return JSON.parse(localStorage.getItem(d))},setItem:function(a){localStorage.setItem(d,W(b.f.X(a)))}}}else b.hb=a.W;b.f=new m.data.bd[a.L.type||"json"](a.L);b.ta();b.a=b.ka(b.a);b.Ya=!0},options:{data:null,L:{Yb:E},W:null,fa:!1,G:!1,T:!1,Ba:!1,Y:!1,lb:!1},ob:function(a){return a!==k?this.Ya!=a&&(this.Ya=a)?this.cc():n.U().resolve().Aa():this.Ya},Zb:function(a){return null==this.options.W?null:a!==k?this.hb.setItem(a):this.hb.getItem()||{}},I:function(){var a=
this.group()||[];return this.options.Ba&&a.length},oc:function(a){this.bb(a,"pushCreate")},qc:function(a){this.bb(a,"pushUpdate")},pc:function(a){this.bb(a,"pushDestroy")},bb:function(a,b){var c=this.Ia(a);c||(c=a);this[b](c)},M:function(a,b){if(a){if(this.I())return aa(a);if(!b)for(var c=0;c<a.length;c++)a.s(c)}return a},parent:H,get:function(a){var b,c,d=this.M(this.a);b=0;for(c=d.length;b<c;b++)if(d[b].id==a)return d[b]},Hc:function(a){var b,c,d=this.M(this.a);if(d)for(b=0,c=d.length;b<c;b++)if(d[b].uid==
a)return d[b]},indexOf:function(a){return pa(this.a,a)},s:function(a){return this.a.s(a)},data:function(a){if(a!==k)this.ta(),this.a=this.ka(a),this.ba=a.slice(0),this.La(),this.o=[],this.c("reset"),this.Sa(this.a),this.la=this.v=this.a.length,this.Ga(this.a);else{if(this.a)for(a=0;a<this.a.length;a++)this.a.s(a);return this.a}},view:function(a){if(a===k)return this.wa;this.wa=this.mc(a)},mc:function(a){var b=this;la(a,b.a,b.o,b.f.g||v,b.I());a=new T(a,b.f.g);a.parent=function(){return b.parent()};
return a},Md:function(){return(this.group()||[]).length?aa(this.wa):this.wa},add:function(a){return this.nb(this.a.length,a)},Fa:function(a){return this.f.g?new this.f.g(a):a instanceof v?a:new v(a)},nb:function(a,b){b||(b=a,a=0);b instanceof E||(b=this.Fa(b));this.I()?this.a.splice(a,0,this.jb(b)):this.a.splice(a,0,b);return b},ac:function(a){x(a)||(a=[a]);var b=[],c=this.options.na;this.options.na=!1;try{for(var d=0;d<a.length;d++){var e=this.add(a[d]);b.push(e);var f=e.toJSON();this.I()&&(f=this.jb(f));
this.ba.push(f)}}finally{this.options.na=c}b.length&&this.c("push",{type:"create",items:b})},$c:function(a){x(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var d=a[c],e=this.Fa(d);(e=this.get(e.id))?(b.push(e),e.accept(d),e.c("change"),this.Pb(e,d)):this.ac(d)}b.length&&this.c("push",{type:"update",items:b})},Zc:function(a){a=this.sc(a);a.length&&this.c("push",{type:"destroy",items:a})},sc:function(a){x(a)||(a=[a]);var b=[],c=this.options.na;this.options.na=!1;try{for(var d=0;d<a.length;d++){var e=
this.Fa(a[d]),f=!1;this.ha(this.a,function(a){for(var c=0;c<a.length;c++){var d=a.s(c);if(d.id===e.id){b.push(d);a.splice(c,1);f=!0;break}}});f&&(this.Ib(e),this.A.pop())}}finally{this.options.na=c}return b},remove:function(a){var b,c=this,d=c.I();this.ha(c.a,function(e){if((b=ma(e,a))&&d)return b.K&&b.K()||c.A.push(b),!0});this.tc(a);this.zc();return a},Ec:function(){return this.A},Rb:function(){var a,b,c=[],d=this.M(this.a);a=0;for(b=d.length;a<b;a++)d[a].K&&d[a].K()&&c.push(d[a]);return c},ec:function(){var a,
b,c=[],d=this.M(this.a);a=0;for(b=d.length;a<b;a++)d[a].K&&!d[a].K()&&d[a].da&&c.push(d[a]);return c},cc:function(){var a=this,b=[],c=[],d=a.A;a.M(a.a);b=n.U().resolve().Aa();if(a.ob()){if(!a.f.g)return b;var b=a.Rb(),c=a.ec(),e=[];a.options.lb&&a.H.submit?e=a.uc(b,c,d):(e.push.apply(e,a.fb("create",b)),e.push.apply(e,a.fb("update",c)),e.push.apply(e,a.fb("destroy",d)));b=n.De.apply(null,e).then(function(){var b,c;b=0;for(c=arguments.length;b<c;b++)a.gc(arguments[b]);a.La(!0);a.sa({action:"sync"});
a.c("sync")})}else a.La(!0),a.sa({action:"sync"});return b},Ad:function(a){a instanceof m.data.Ra?this.hc(a):(this.A=[],this.ta(),this.a=this.ka(this.ba),this.options.G&&(this.v=this.la),this.o=[],this.Sa(this.a),this.sa())},Ud:function(){var a,b,c=this.M(this.a);if(this.A.length)return!0;a=0;for(b=c.length;a<b;a++)if(c[a].K&&c[a].K()||c[a].da)return!0;return!1},gc:function(a){var b=a.ea,c=a.response,d=0,e=this.I(),f=this.ba;a=a.type;var g;this.c("requestEnd",{response:c,type:a});if(c&&!F(c)){c=this.f.parse(c);
if(this.Cb(c))return;c=this.f.data(c);x(c)||(c=[c])}else c=n.map(b,function(a){return a.toJSON()});"destroy"===a&&(this.A=[]);d=0;for(g=b.length;d<g;d++)"destroy"!==a?(b[d].accept(c[d]),"create"===a?f.push(e?this.jb(b[d]):c[d]):"update"===a&&this.Pb(b[d],c[d])):this.Ib(b[d])},Pb:function(a,b){this.yb(a,function(a,d){m.Bd(d[a],b)})},yb:function(a,b){this.wb(function(c){var d=na(c,a);if(-1<d)return b(d,c),!0})},Ib:function(a){this.yb(a,function(a,c){c.splice(a,1)})},Ia:function(a){return(this.I()?this.f.mb:
this.f.data).call(this.f,a)},wb:function(a){this.ha(this.ba,a)},ha:function(a,b){a&&a.length&&(this.I()?ja(a,b):b(a))},nc:function(a){var b,c;this.wb(function(d){c=na(d,a);if(-1<c)return b=d[c],!0});return b},hc:function(a){var b=this.nc(a);this.ha(this.a,function(c){var d=pa(c,a);0<=d&&(!b||a.K()&&!b.ra?c.splice(d,1):c[d].accept(b))})},xc:function(a,b){var c=this;c.c("requestStart",{type:"submit"});c.H.submit(u({B:function(b,c){var f=n.Ic(a,function(a){return a.type==c})[0];f&&f.resolve({response:b,
ea:f.ea,type:c})},error:function(b,e,f){for(var g=0;g<a.length;g++)a[g].reject(b);c.error(b,e,f)}},b))},uc:function(a,b,c){var d=[];this.options.lb&&(a.length&&d.push(n.U(function(b){b.type="create";b.ea=a})),b.length&&d.push(n.U(function(a){a.type="update";a.ea=b})),c.length&&d.push(n.U(function(a){a.type="destroy";a.ea=c})),this.xc(d,{data:{Rb:this.f.X(R(a)),ec:this.f.X(R(b)),Ec:this.f.X(R(c))}}));return d},Hb:function(a,b,c){var d=this;return n.U(function(e){d.c("requestStart",{type:c});d.H[c].call(d.H,
u({B:function(a){e.resolve({response:a,ea:b,type:c})},error:function(a,b,c){e.reject(a);d.error(a,b,c)}},a))}).Aa()},fb:function(a,b){var c,d,e=[],f=this.f.X(R(b));if(this.options.lb)b.length&&e.push(this.Hb({data:{ea:f}},b,a));else for(c=0,d=b.length;c<d;c++)e.push(this.Hb({data:f[c]},[b[c]],a));return e},read:function(a){var b=this,c=b.Za(a),d=n.U();b.eb(c,function(){var a=b.c("requestStart",{type:"read"});a?(b.ga(),d.resolve(a)):(b.c("progress"),b.o=[],b.c("reset"),b.ob()?b.H.read({data:c,B:function(a){b.B(a,
c);d.resolve()},error:function(){var a=O.call(arguments);b.error.apply(b,a);d.reject.apply(d,a)}}):null!=b.options.W&&(b.B(b.Zb(),c),d.resolve()))});return d.Aa()},rc:function(a){return this.f.J(a)},B:function(a){var b=this.options;this.c("requestEnd",{response:a,type:"read"});if(this.ob()){a=this.f.parse(a);if(this.Cb(a)){this.ga();return}this.v=this.f.total(a);this.V&&b.Y&&(this.Ta=this.rc(a));a=this.Ia(a)}else{a=this.Ia(a);var b=[],c={},d=this.f.g,d=d?d.D:"id",e;for(e=0;e<this.A.length;e++){var f=
this.A[e][d];c[f]=f}for(e=0;e<a.length;e++)f=a[e],"destroy"==f.ra?c[f[d]]||this.A.push(this.Fa(f)):b.push(f);a=b;this.v=a.length}this.la=this.v;this.ba=a.slice(0);this.ta();this.a=this.ka(a);null!=this.options.W&&this.ha(this.a,function(a){for(var b=0;b<a.length;b++){var c=a.s(b);"update"==c.ra&&(c.da=!0)}});this.La();this.Sa(this.a);this.Ga(this.a);this.ga()},ta:function(){if(this.a&&this.gb)for(var a=0;a<this.a.length;a++)this.a[a].parent&&(this.a[a].parent=H)},La:function(a){function b(a){for(var e=
[],f=0;f<a.length;f++){var g=a.s(f),k=g.toJSON();c&&g.items?k.items=b(g.items):(k.uid=g.uid,d&&(g.K()?k.ra="create":g.da&&(k.ra="update")));e.push(k)}return e}var c=this.I(),d=this.f.g;if(null!=this.options.W){for(var e=b(this.a),f=0;f<this.A.length;f++){var g=this.A[f].toJSON();g.ra="destroy";e.push(g)}this.Zb(e);a&&(this.ba=e)}},Sa:function(a){var b=this.N||0,c=b+this.M(a,!0).length;this.o.push({start:b,end:c,data:a,timestamp:(new Date).getTime()});this.o.sort(function(a,b){return a.start-b.start})},
error:function(a,b,c){this.ga();this.c("requestEnd",{});this.c("error",{dd:a,status:b,Gc:c})},Za:function(a){a=u({u:this.u(),h:this.h(),page:this.page(),m:this.m(),sort:this.ca,filter:this.Z,group:this.$,i:this.V},a);this.options.G||(delete a.u,delete a.h,delete a.page,delete a.m);this.options.Ba?this.f.g&&a.group&&(a.group=U(a.group,this.f.g)):delete a.group;this.options.T?this.f.g&&a.filter&&(a.filter=ra(a.filter,this.f.g)):delete a.filter;this.options.fa?this.f.g&&a.sort&&(a.sort=U(a.sort,this.f.g)):
delete a.sort;this.options.Y?this.f.g&&a.i&&(a.i=U(a.i,this.f.g)):delete a.i;return a},eb:function(a,b){this.Jb?this.va={Cc:D(b,this),options:a}:(this.Jb=!0,this.va=k,b())},ga:function(){this.Jb=!1;this.va&&this.eb(this.va.options,this.va.Cc)},Cb:function(a){return this.f.Oa&&(a=this.f.Oa(a))?(this.c("error",{dd:null,status:"customerror",Gc:"custom error",Oa:a}),!0):!1},vc:function(a){var b=this.f.g;return b&&a.length?!(a[0]instanceof b):!1},ka:function(a){var b=this,c=b.f.g;b.gb=!0;a instanceof B?
(b.gb=!1,b.vc(a)&&(a.type=b.f.g,a.Da(a,a))):(a=new (b.m()&&!b.options.G?T:B)(a,b.f.g),a.parent=function(){return b.parent()});b.I()&&ia(a,c);b.Ua&&b.a&&b.a instanceof B?b.a.sb("change",b.Ua):b.Ua=D(b.sa,b);return a.bind("change",b.Ua)},sa:function(a){var b,c,d=a?a.action:"";if("remove"===d)for(b=0,c=a.items.length;b<c;b++)a.items[b].K&&a.items[b].K()||this.A.push(a.items[b]);!this.options.na||"add"!==d&&"remove"!==d&&"itemchange"!==d?(b=parseInt(this.v,10),y(this.v)||(b=parseInt(this.la,10)),"add"===
d?b+=a.items.length:"remove"===d?b-=a.items.length:"itemchange"===d||"sync"===d||this.options.G?"sync"===d&&(b=this.la=parseInt(this.v,10)):b=this.la,this.v=b,this.Ga(this.a,a)):this.cc()},ub:function(a,b){b=b||{};var c=new q(a),d=b.i,e=b.filter;e&&(c=c.filter(e));return c.i(d)},Ga:function(a,b){var c={};!0!==this.options.G&&(c.h=this.N,c.u=this.ma||this.aa,c.h===k&&this.ua!==k&&this.aa!==k&&(c.h=(this.ua-1)*this.aa));!0!==this.options.fa&&(c.sort=this.ca);!0!==this.options.T&&(c.filter=this.Z);!0!==
this.options.Ba&&(c.group=this.$);!0!==this.options.Y&&(c.i=this.V,this.Ta=this.ub(a,c));c=this.cb(a,c);this.view(c.data);c.total===k||this.options.T||(this.v=c.total);b=b||{};b.items=b.items||this.wa;this.c("change",b)},cb:function(a,b){return q.Xc(a,b)},Db:function(a){if(a!==k&&(this.aa=a.m,this.ua=a.page,this.ca=a.sort,this.Z=a.filter,this.$=a.group,this.V=a.i,this.N=a.h,this.ma=a.u,this.N===k&&(this.N=this.h(),a.h=this.h()),this.ma===k&&this.aa!==k&&(this.ma=this.aa,a.u=this.ma),a.sort&&(this.ca=
a.sort=M(a.sort)),a.filter&&(this.Z=a.filter=Q(a.filter)),a.group&&(this.$=a.group=N(a.group)),a.i)){var b;b=a.i;b=x(b)?b:[b];this.V=a.i=b}return a},ad:function(a){var b;if(this.options.fa||this.options.G||this.options.T||this.options.Ba||this.options.Y||(this.a===k||0===this.a.length)&&!this.A.length)return this.read(this.Db(a));var c=this.c("requestStart",{type:"read"});c||(this.c("progress"),b=this.cb(this.a,this.Db(a)),this.options.T||(this.v=b.total!==k?b.total:this.a.length),this.Ta=this.ub(this.a,
a),this.view(b.data),this.c("requestEnd",{type:"read"}),this.c("change",{items:b.data}));return n.U().resolve(c).Aa()},fetch:function(a){var b=this;return this.O().then(function(c){!0!==c&&z(a)&&a.call(b)})},O:function(a){return this.ad(u({},{page:this.page(),m:this.m(),sort:this.sort(),filter:this.filter(),group:this.group(),i:this.i()},a))},next:function(a){var b=this.page(),c=this.total();a=a||{};if(b&&!(c&&b+1>this.rb()))return this.N=b*this.u(),b+=1,a.page=b,this.O(a),b},ve:function(a){var b=
this.page();a=a||{};if(b&&1!==b)return this.N-=this.u(),--b,a.page=b,this.O(a),b},page:function(a){if(a!==k)a=r.max(r.min(r.max(a,1),this.rb()),1),this.O({page:a});else return a=this.h(),a!==k?r.round((a||0)/(this.u()||1))+1:k},m:function(a){if(a!==k)this.O({m:a,page:1});else return this.u()},sort:function(a){if(a!==k)this.O({sort:a});else return this.ca},filter:function(a){if(a===k)return this.Z;this.O({filter:a,page:1});this.c("reset")},group:function(a){if(a!==k)this.O({group:a});else return this.$},
total:function(){return parseInt(this.v||0,10)},i:function(a){if(a!==k)this.O({i:a});else return this.V},J:function(){var a=this.Ta;F(a)&&(a=this.xb(this.i()));return a},xb:function(a){var b={};if(!F(a)){var c={};x(a)||(a=[a]);for(var d=0;d<a.length;d++)c[a[d].i]=0,b[a[d].b]=c}return b},jb:function(a){var b=this.group(),c,d,e;for(e=b.length-1;0<=e;e--)d=b[e],c={value:a.get(d.b),b:d.b,items:c?[c]:[a],R:!!c,J:this.xb(d.J)};return c},rb:function(){var a=this.m()||this.total();return r.ceil((this.total()||
0)/a)},inRange:function(a,b){var c=r.min(a+b,this.total());return!this.options.G&&0<this.a.length?!0:0<this.Bb(a,c).length},Lc:function(){var a=this.o;return a[a.length-1]||{start:0,end:0,data:[]}},Ld:function(){var a=this.o;return a.length&&a[0].data.length&&a[0].data[0].uid},Fc:function(){this.Lb=!1},ib:function(){return(new Date).getTime()},F:function(a,b){this.jc=this.ib();this.Lb=!0;a=r.min(a||0,this.total());var c=this,d=r.max(r.floor(a/b),0)*b,e=r.min(d+b,c.total()),f;f=c.Bb(a,r.min(a+b,c.total()));
if(f.length){c.va=k;c.N=a>c.h()?r.min(e,(c.rb()-1)*c.u()):d;c.ma=b;var g=c.options.G,h=c.options.fa,l=c.options.T,m=c.options.Y;try{c.options.G=!0,c.I()||c.group()&&c.group().length||(c.options.fa=!0),c.options.T=!0,c.options.G=!0,c.options.Y=!0,g&&(c.ta(),c.a=f=c.ka(f)),c.Ga(f)}finally{c.options.G=g,c.options.fa=h,c.options.T=l,c.options.Y=m}}else b!==k&&(c.Ha(d,e)?d<a&&c.S(e,b,function(){c.F(a,b)}):c.S(d,b,function(){a>d&&e<c.total()&&!c.Ha(e,r.min(e+b,c.total()))?c.S(e,b,function(){c.F(a,b)}):
c.F(a,b)}))},Bb:function(a,b){var c=this.o,d,e=[],f,g,h,l,m;d=this.options;var n=d.fa||d.G||d.T||d.Ba||d.Y,t,p;f=0;for(p=c.length;f<p;f++)if(d=c[f],a>=d.start&&a<=d.end){for(t=0;f<p;f++)if(d=c[f],h=this.M(d.data,!0),h.length&&a+t>=d.start&&(l=d.data,m=d.end,n||(l=N(this.group()||[]).concat(M(this.sort()||[])),g=this.cb(d.data,{sort:l,filter:this.filter()}),h=l=g.data,g.total!==k&&(m=g.total)),g=0,a+t>d.start&&(g=a+t-d.start),h=h.length,m>b&&(h-=m-b),t+=h-g,e=this.lc(e,l,g,h),b<=d.end&&t==b-a))return e;
break}return[]},lc:function(a,b,c,d){if(this.I()){b=b.toJSON();var e;a.length&&(e=a[a.length-1]);Z(e,b,c,d);return a.concat(b)}return a.concat(b.slice(c,d))},h:function(){return this.N===k?this.ua!==k?(this.ua-1)*(this.u()||1):k:this.N},u:function(){return this.ma||this.aa},Gb:function(a,b,c,d){var e=this,f=e.ib();return function(g){var h=!1,l={start:a,end:b,data:[],timestamp:e.ib()},k,m,n;e.ga();e.c("requestEnd",{response:g,type:"read"});g=e.f.parse(g);n=e.Ia(g);if(n.length){k=0;for(m=e.o.length;k<
m;k++)if(e.o[k].start===a){h=!0;l=e.o[k];break}h||e.o.push(l)}l.data=e.ka(n);l.end=l.start+e.M(l.data,!0).length;e.o.sort(function(a,b){return a.start-b.start});e.v=e.f.total(g);if(d||f>=e.jc||!e.Lb)c&&n.length?c():e.c("change",{})}},S:function(a,b,c){var d=this,e=r.min(a+b,d.total()),f={u:b,h:a,page:a/b+1,m:b,sort:d.ca,filter:d.Z,group:d.$,i:d.V};d.Ha(a,e)?c&&c():(clearTimeout(d.yc),d.yc=setTimeout(function(){d.eb(f,function(){d.c("requestStart",{type:"read"})?d.ga():d.H.read({data:d.Za(f),B:d.Gb(a,
e,c),error:function(){var a=O.call(arguments);d.error.apply(d,a)}})})},100))},td:function(a,b,c){var d=r.min(a+b,this.total());b={u:b,h:a,page:a/b+1,m:b,sort:this.ca,filter:this.Z,group:this.$,i:this.V};this.Ha(a,d)?c&&c():this.c("requestStart",{type:"read"})||this.H.read({data:this.Za(b),B:this.Gb(a,d,c,!0)})},Ha:function(a,b){var c=this.o,d,e;d=0;for(e=c.length;d<e;d++)if(c[d].start<=a&&c[d].end>=b)return!0;return!1},tc:function(a){for(var b,c,d,e=0,f=this.o.length;e<f&&(d=this.o[e],this.ha(d.data,
function(d){(b=ma(d,a))&&(c=!0)}),!c);e++);},zc:function(){for(var a=0,b,c,d=0,e=this.o.length;d<e;d++)b=this.o[d],b.start-=a,c=this.M(b.data,!0).length,a=b.end-c,b.end=b.start+c}}),Qa={create:function(a,b,c){var d,e=a.H;e?(e.read="string"===typeof e.read?{url:e.read}:e.read,c&&(e.C=c),a.type&&(m.data.Ca=m.data.Ca||{},m.data.bc=m.data.bc||{},m.data.Ca[a.type]&&!G(m.data.Ca[a.type])?d=new m.data.Ca[a.type](u(e,{data:b})):e=u(!0,{},m.data.Ca[a.type],e),a.L=u(!0,{},m.data.bc[a.type],a.L)),d||(d=z(e.read)?
e:new xa(e))):d=new wa({data:a.data||[]});return d}};A.create=function(a){if(x(a)||a instanceof B)a={data:a};a=a||{};var b=a.data,c=a.j,d=a.table,e=a.select,f={},g;if(!b&&c&&!a.H)if(d){for(var b=(b=n(d)[0].tBodies[0])?b.rows:[],h=c.length,l=[],r,q,t,p,d=0,e=b.length;d<e;d++){q={};p=!0;r=b[d].cells;for(g=0;g<h;g++)t=r[g],"th"!==t.nodeName.toLowerCase()&&(p=!1,q[c[g].b]=t.innerHTML);p||l.push(q)}b=l}else if(e){b=n(e)[0];d=b.options;e=c[0];g=c[1];h=[];l=0;for(r=d.length;l<r;l++)t={},q=d[l],p=q.parentNode,
p===b&&(p=null),q.disabled||p&&p.disabled||(p&&(t.Rc=p.label),t[e.b]=q.text,p=(p=q.attributes.value)&&p.specified?q.value:q.text,t[g.b]=p,h.push(t));b=h;a.group===k&&b[0]&&b[0].Rc!==k&&(a.group="optgroup")}if(m.data.Ra&&c&&(!a.L||!a.L.g)){d=0;for(e=c.length;d<e;d++)g=c[d],g.type&&(f[g.b]=g);F(f)||(a.L=u(!0,a.L,{g:{j:f}}))}a.data=b;a.select=null;a.table=null;return a instanceof A?a:new A(a)};var ya=E.ya({D:"id",l:function(a){var b=this.P||a&&a.P,c="items",d={};m.data.Ra.w.l.call(this,a);"string"===
typeof this.children&&(c=this.children);d={L:{data:c,g:{P:b,id:this.D,j:this.j}}};"string"!==typeof this.children&&u(d,this.children);d.data=a;b||(b=d.L.data);"string"===typeof b&&(b=m.Pa(b));z(b)&&(this.P=!!b.call(this,this));this.vb=d;this.P&&this.ia();this.ja=!(!a||!a[c]&&!a.ja)},ia:function(){var a=this,b,c,d;a.children instanceof K||(b=a.children=new K(a.vb),c=b.H,d=c.za,c.za=function(b,c){b[a.D||"id"]=a.id;d&&(b=d(b,c));return b},b.parent=function(){return a},a.Ob())},append:function(a){this.ia();
this.loaded(!0);this.children.add(a)},P:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},Ob:function(){this[this.vb.L.data||"items"]=this.children.data()},ic:function(){this.ja=!0;this.Ob()},load:function(){var a={},b="_query",c;this.P?(this.ia(),c=this.children,a[this.D||"id"]=this.id,this.ja||(c.a=k,b="read"),c.se("change",D(this.ic,this)),c=c[b](a)):this.loaded(!0);return c||n.U().resolve().Aa()},parentNode:function(){return this.parent().parent()},
loaded:function(a){if(a!==k)this.ja=a;else return this.ja},oa:function(a){return E.w.oa.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),K=A.extend({l:function(a){var b=ya.ya({children:a});A.w.l.call(this,u(!0,{},{L:{Yb:b,g:b}},a))},rd:function(){},remove:function(a){var b=a.parentNode(),c=this;b&&b.ia&&(c=b.children);a=A.w.remove.call(c,a);b&&!c.data().length&&(b.P=!1);return a},B:sa("success"),data:sa("data"),nb:function(a,b){var c=this.parent();c&&c.ia&&
(c.P=!0,c.ia());return A.w.nb.call(this,a,b)},Ab:function(a,b){var c,d,e,f;if(e=A.w[a].call(this,b))return e;if(f=this.M(this.a))for(c=0,d=f.length;c<d;c++)if(e=f[c].children,e instanceof K&&(e=e[a](b)))return e},get:function(a){return this.Ab("get",a)},Hc:function(a){return this.Ab("getByUid",a)}});K.create=function(a){a=(a=a&&a.push?{data:a}:a)||{};var b=a.data,c=a.j,d=a.list;if(b&&b.kc)return b.kc;b||!c||a.H||d&&(b=ta(d,c));a.data=b;return a instanceof K?a:new K(a)};var za=m.Ea.extend({l:function(a,
b,c){m.Ea.w.l.call(this);this.ab=!1;this.C=a;this.S=!c;this.Nb();this.cd(b)},cd:function(a){this.fc=a;this.Ja()},s:function(a){var b=this.m,c=!0;if(a>=this.total())return this.c("endreached",{index:a}),null;if(!this.tb)return this.C.view()[a];if(this.tb){if(a<this.Ma||a>=this.h+b)c=this.F(Math.floor(a/b)*b);a===this.Uc&&this.Fb();a===this.Nc?this.F(this.Pc,!0):a===this.Qc?this.F(this.Oc):a===this.Yc&&(this.offset===this.h?this.F(this.Wc):this.F(this.Vc));if(c)return this.C.s(a-this.Ma);this.c("endreached",
{index:a});return null}},indexOf:function(a){return this.C.data().indexOf(a)+this.Ma},total:function(){return parseInt(this.C.total(),10)},next:function(){var a=this,b=a.m,c=a.h-a.fc+b,d=r.max(r.floor(c/b),0)*b;this.offset=c;this.C.S(d,b,function(){a.Wa(c,!0)})},F:function(a,b){if(this.offset===a)return!0;var c=this,d=this.m,e=r.max(r.floor(a/d),0)*d,f=this.C;b&&(e+=d);if(f.inRange(a,d))this.offset=a,this.Ja(),this.Wa(a);else if(this.S)return f.S(e,d,function(){c.offset=a;c.Ja();c.Wa(a,!0)}),!1;return!0},
dc:function(){var a=this.offset;this.offset=null;this.F(a)},Na:function(){this.sb()},Fb:function(){var a=this,b=this.m,c=this.h+b,d=this.C;d.inRange(c,b)||this.ab||!this.S||(this.ab=!0,this.c("prefetching",{h:c,u:b}),d.S(c,b,function(){a.ab=!1;a.c("prefetched",{h:c,u:b})}))},Wa:function(a,b){this.offset===a&&(this.Ma=a,this.zb=b,this.C.F(a,this.m),this.C.Fc())},vd:function(){this.Mb=!0},sa:function(){var a=this.C;this.length=this.tb?a.Lc().end:a.view().length;this.Mb&&(this.Nb(),this.Ja(),this.Mb=
!1,this.c("reset",{offset:this.offset}));this.c("resize");this.zb&&this.c("expand");delete this.zb},Nb:function(){var a=this.C;this.Ma=this.offset=a.h()||0;this.m=a.m();this.tb=a.options.G},Ja:function(){var a=this.m,b=this.offset,c=this.fc,d=Math.ceil(b/a)*a;this.h=d;this.Nc=d+a-1;this.Qc=d+c-1;this.Uc=d+Math.floor(a/3*2);this.Yc=this.offset-1;this.Pc=d+a-c;this.Oc=d;this.Wc=b-c;this.Vc=d-a}}),Ra=m.Ea.extend({l:function(a,b){m.Ea.w.l.call(this);this.C=a;this.Qb=b;this.v=0;this.buffer=new za(a,3*
b)},dc:function(){this.buffer.dc()},s:function(a){var b=this.buffer;a*=this.Qb;var c=this.Qb,d=[],e;b.offset>a&&b.s(b.offset-1);for(var f=0;f<c;f++){e=b.s(a+f);if(null===e)break;d.push(e)}return d},total:function(){return this.v},Na:function(){this.buffer.Na();this.sb()}});u(!0,m.data,{bd:{json:J},pd:q,jd:A,kd:K,Node:ya,od:v,nd:B,ld:T,md:wa,qd:xa,Cache:P,hd:J,Ra:E,fd:za,ed:Ra})})(window.Xb.ce);return window.Xb}); 
