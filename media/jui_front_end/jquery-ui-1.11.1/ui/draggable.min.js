function y(d){d.hb("ui.draggable",d.f.Ia,{version:"1.11.1",ib:"drag",options:{Ca:!0,J:"parent",axis:!1,Ea:!1,h:!1,cursor:"auto",ma:!1,o:!1,handle:!1,c:"original",pa:!1,opacity:!1,La:!1,w:!1,Na:500,scope:"default",scroll:!0,A:20,B:20,v:!1,sa:"both",Pa:20,stack:!1,zIndex:!1,R:null,start:null,stop:null},Ra:function(){"original"!==this.options.c||/^(?:r|a|f)/.test(this.element.b("position"))||(this.element[0].style.position="relative");this.options.Ca&&this.element.Y("ui-draggable");this.options.disabled&&
this.element.Y("ui-draggable-disabled");this.ka();this.Ua()},Va:function(b,c){this.Wa(b,c);"handle"===b&&(this.ja(),this.ka())},Sa:function(){(this.c||this.element).is(".ui-draggable-dragging")?this.Ga=!0:(this.element.qa("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this.ja(),this.Ta())},za:function(b){var c=this.document[0],a=this.options;try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()&&d(c.activeElement).blur()}catch(g){}if(this.c||a.disabled||0<d(b.target).Da(".ui-resizable-handle").length)return!1;
this.handle=this.wa(b);if(!this.handle)return!1;d(!0===a.pa?"iframe":a.pa).C(function(){d("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").b({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).b(d(this).offset()).J("body")});return!0},Aa:function(b){var c=this.options;this.c=this.va(b);this.c.Y("ui-draggable-dragging");this.ba();d.f.l&&(d.f.l.current=this);this.ua();this.G=this.c.b("position");this.m=this.c.m(!0);this.offsetParent=
this.c.offsetParent();this.Ja=this.offsetParent.b("position");this.offset=this.F=this.element.offset();this.offset={top:this.offset.top-this.g.top,left:this.offset.left-this.g.left};this.offset.scroll=!1;d.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this.ea(),H:this.xa()});this.Z=this.position=this.da(b,!1);this.T=b.pageX;this.U=b.pageY;c.ma&&this.ta(c.ma);this.Ba();if(!1===this.u("start",b))return this.O(),!1;this.ba();d.f.l&&!c.na&&d.f.l.Ka(this,
b);this.ga(b,!0);d.f.l&&d.f.l.$a(this,b);return!0},ga:function(b,c){"fixed"===this.Ja&&(this.offset.parent=this.ea());this.position=this.da(b,!0);this.F=this.s("absolute");if(!c){var a=this.I();if(!1===this.u("drag",b,a))return this.X({}),!1;this.position=a.position}this.c[0].style.left=this.position.left+"px";this.c[0].style.top=this.position.top+"px";d.f.l&&d.f.l.R(this,b);return!1},ha:function(b){var c=this,a=!1;d.f.l&&!this.options.na&&(a=d.f.l.bb(this,b));this.S&&(a=this.S,this.S=!1);"invalid"===
this.options.w&&!a||"valid"===this.options.w&&a||!0===this.options.w||d.Ha(this.options.w)&&this.options.w.call(this.element,a)?d(this.c).Ya(this.Z,parseInt(this.options.Na,10),function(){!1!==c.u("stop",b)&&c.O()}):!1!==this.u("stop",b)&&this.O();return!1},X:function(b){d("div.ui-draggable-iframeFix").C(function(){this.parentNode.removeChild(this)});d.f.l&&d.f.l.ab(this,b);this.element.focus();return d.f.Ia.prototype.X.call(this,b)},cancel:function(){this.c.is(".ui-draggable-dragging")?this.X({}):
this.O();return this},wa:function(b){return this.options.handle?!!d(b.target).Da(this.element.find(this.options.handle)).length:!0},ka:function(){this.oa=this.options.handle?this.element.find(this.options.handle):this.element;this.oa.Y("ui-draggable-handle")},ja:function(){this.oa.qa("ui-draggable-handle")},va:function(b){var c=this.options;b=d.Ha(c.c)?d(c.c.apply(this.element[0],[b])):"clone"===c.c?this.element.clone().Ma("id"):this.element;b.fb("body").length||b.J("parent"===c.J?this.element[0].parentNode:
c.J);b[0]===this.element[0]||/(fixed|absolute)/.test(b.b("position"))||b.b("position","absolute");return b},ta:function(b){"string"===typeof b&&(b=b.split(" "));d.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.g.left);"right"in b&&(this.offset.click.left=this.i.width-b.right+this.g.left);"top"in b&&(this.offset.click.top=b.top+this.g.top);"bottom"in b&&(this.offset.click.top=this.i.height-b.bottom+this.g.top)},P:function(b){return/(html|body)/i.test(b.tagName)||
b===this.document[0]},ea:function(){var b=this.offsetParent.offset(),c=this.document[0];"absolute"===this.G&&this.m[0]!==c&&d.contains(this.m[0],this.offsetParent[0])&&(b.left+=this.m.scrollLeft(),b.top+=this.m.scrollTop());this.P(this.offsetParent[0])&&(b={top:0,left:0});return{top:b.top+(parseInt(this.offsetParent.b("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.b("borderLeftWidth"),10)||0)}},xa:function(){if("relative"!==this.G)return{top:0,left:0};var b=this.element.position(),
c=this.P(this.m[0]);return{top:b.top-(parseInt(this.c.b("top"),10)||0)+(c?0:this.m.scrollTop()),left:b.left-(parseInt(this.c.b("left"),10)||0)+(c?0:this.m.scrollLeft())}},ua:function(){this.g={left:parseInt(this.element.b("marginLeft"),10)||0,top:parseInt(this.element.b("marginTop"),10)||0,right:parseInt(this.element.b("marginRight"),10)||0,bottom:parseInt(this.element.b("marginBottom"),10)||0}},ba:function(){this.i={width:this.c.outerWidth(),height:this.c.outerHeight()}},Ba:function(){var b,c,a;
b=this.options;c=this.document[0];this.$=null;if(b.h)if("window"===b.h)this.h=[d(window).scrollLeft()-this.offset.H.left-this.offset.parent.left,d(window).scrollTop()-this.offset.H.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.i.width-this.g.left,d(window).scrollTop()+(d(window).height()||c.body.parentNode.scrollHeight)-this.i.height-this.g.top];else if("document"===b.h)this.h=[0,0,d(c).width()-this.i.width-this.g.left,(d(c).height()||c.body.parentNode.scrollHeight)-this.i.height-
this.g.top];else if(b.h.constructor===Array)this.h=b.h;else{if("parent"===b.h&&(b.h=this.c[0].parentNode),c=d(b.h),a=c[0])b="hidden"!==c.b("overflow"),this.h=[(parseInt(c.b("borderLeftWidth"),10)||0)+(parseInt(c.b("paddingLeft"),10)||0),(parseInt(c.b("borderTopWidth"),10)||0)+(parseInt(c.b("paddingTop"),10)||0),(b?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c.b("borderRightWidth"),10)||0)-(parseInt(c.b("paddingRight"),10)||0)-this.i.width-this.g.left-this.g.right,(b?Math.max(a.scrollHeight,
a.offsetHeight):a.offsetHeight)-(parseInt(c.b("borderBottomWidth"),10)||0)-(parseInt(c.b("paddingBottom"),10)||0)-this.i.height-this.g.top-this.g.bottom],this.$=c}else this.h=null},s:function(b,c){c||(c=this.position);var a="absolute"===b?1:-1,d=this.P(this.m[0]);return{top:c.top+this.offset.H.top*a+this.offset.parent.top*a-("fixed"===this.G?-this.offset.scroll.top:d?0:this.offset.scroll.top)*a,left:c.left+this.offset.H.left*a+this.offset.parent.left*a-("fixed"===this.G?-this.offset.scroll.left:d?
0:this.offset.scroll.left)*a}},da:function(b,c){var a,d,e,f=this.options,l=this.P(this.m[0]);e=b.pageX;d=b.pageY;l&&this.offset.scroll||(this.offset.scroll={top:this.m.scrollTop(),left:this.m.scrollLeft()});c&&(this.h&&(this.$?(a=this.$.offset(),a=[this.h[0]+a.left,this.h[1]+a.top,this.h[2]+a.left,this.h[3]+a.top]):a=this.h,b.pageX-this.offset.click.left<a[0]&&(e=a[0]+this.offset.click.left),b.pageY-this.offset.click.top<a[1]&&(d=a[1]+this.offset.click.top),b.pageX-this.offset.click.left>a[2]&&(e=
a[2]+this.offset.click.left),b.pageY-this.offset.click.top>a[3]&&(d=a[3]+this.offset.click.top)),f.o&&(d=f.o[1]?this.U+Math.round((d-this.U)/f.o[1])*f.o[1]:this.U,d=a?d-this.offset.click.top>=a[1]||d-this.offset.click.top>a[3]?d:d-this.offset.click.top>=a[1]?d-f.o[1]:d+f.o[1]:d,e=f.o[0]?this.T+Math.round((e-this.T)/f.o[0])*f.o[0]:this.T,e=a?e-this.offset.click.left>=a[0]||e-this.offset.click.left>a[2]?e:e-this.offset.click.left>=a[0]?e-f.o[0]:e+f.o[0]:e),"y"===f.axis&&(e=this.T),"x"===f.axis&&(d=
this.U));return{top:d-this.offset.click.top-this.offset.H.top-this.offset.parent.top+("fixed"===this.G?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.H.left-this.offset.parent.left+("fixed"===this.G?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},O:function(){this.c.qa("ui-draggable-dragging");this.c[0]===this.element[0]||this.K||this.c.remove();this.c=null;this.K=!1;this.Ga&&this.Za()},u:function(b,c,a){a=a||this.I();d.f.D.call(this,b,[c,a,this],
!0);"drag"===b&&(this.F=this.s("absolute"));return d.Qa.prototype.u.call(this,b,c,a)},plugins:{},I:function(){return{c:this.c,position:this.position,Z:this.Z,offset:this.F}}});d.f.D.add("draggable","connectToSortable",{start:function(b,c,a){var g=a.options,e=d.extend({},c,{item:a.element});a.W=[];d(g.Ea).C(function(){var c=d(this).gb("instance");c&&!c.options.disabled&&(a.W.push({a:c,ra:c.options.w}),c.La(),c.u("activate",b,e))})},stop:function(b,c,a){var g=d.extend({},c,{item:a.element});d.C(a.W,
function(){this.a.M?(this.a.M=0,a.K=!0,this.a.K=!1,this.ra&&(this.a.options.w=this.ra),this.a.ha(b),this.a.options.c=this.a.options.fa,"original"===a.options.c&&this.a.L.b({top:"auto",left:"auto"})):(this.a.K=!1,this.a.u("deactivate",b,g))})},R:function(b,c,a){var g=this;d.C(a.W,function(){var e=!1,f=this;this.a.F=a.F;this.a.i=a.i;this.a.offset.click=a.offset.click;this.a.ya(this.a.Fa)&&(e=!0,d.C(a.W,function(){this.a.F=a.F;this.a.i=a.i;this.a.offset.click=a.offset.click;this!==f&&this.a.ya(this.a.Fa)&&
d.contains(f.a.element[0],this.a.element[0])&&(e=!1);return e}));e?(this.a.M||(this.a.M=1,this.a.L=d(g).clone().Ma("id").J(this.a.element).data("ui-sortable-item",!0),this.a.options.fa=this.a.options.c,this.a.options.c=function(){return c.c[0]},b.target=this.a.L[0],this.a.za(b,!0),this.a.Aa(b,!0,!0),this.a.offset.click.top=a.offset.click.top,this.a.offset.click.left=a.offset.click.left,this.a.offset.parent.left-=a.offset.parent.left-this.a.offset.parent.left,this.a.offset.parent.top-=a.offset.parent.top-
this.a.offset.parent.top,a.u("toSortable",b),a.S=this.a.element,a.L=a.element,this.a.cb=a),this.a.L&&this.a.ga(b)):this.a.M&&(this.a.M=0,this.a.K=!0,this.a.options.w=!1,this.a.u("out",b,this.a.I(this.a)),this.a.ha(b,!0),this.a.options.c=this.a.options.fa,this.a.L.remove(),this.a.placeholder&&this.a.placeholder.remove(),a.u("fromSortable",b),a.S=!1)})}});d.f.D.add("draggable","cursor",{start:function(b,c,a){b=d("body");a=a.options;b.b("cursor")&&(a.ca=b.b("cursor"));b.b("cursor",a.cursor)},stop:function(b,
c,a){b=a.options;b.ca&&d("body").b("cursor",b.ca)}});d.f.D.add("draggable","opacity",{start:function(b,c,a){b=d(c.c);a=a.options;b.b("opacity")&&(a.ia=b.b("opacity"));b.b("opacity",a.opacity)},stop:function(b,c,a){b=a.options;b.ia&&d(c.c).b("opacity",b.ia)}});d.f.D.add("draggable","scroll",{start:function(b,c,a){a.N||(a.N=a.c.m(!1));a.N[0]!==a.document[0]&&"HTML"!==a.N[0].tagName&&(a.V=a.N.offset())},R:function(b,c,a){c=a.options;var g=!1,e=a.N[0],f=a.document[0];e!==f&&"HTML"!==e.tagName?(c.axis&&
"x"===c.axis||(a.V.top+e.offsetHeight-b.pageY<c.A?e.scrollTop=g=e.scrollTop+c.B:b.pageY-a.V.top<c.A&&(e.scrollTop=g=e.scrollTop-c.B)),c.axis&&"y"===c.axis||(a.V.left+e.offsetWidth-b.pageX<c.A?e.scrollLeft=g=e.scrollLeft+c.B:b.pageX-a.V.left<c.A&&(e.scrollLeft=g=e.scrollLeft-c.B))):(c.axis&&"x"===c.axis||(b.pageY-d(f).scrollTop()<c.A?g=d(f).scrollTop(d(f).scrollTop()-c.B):d(window).height()-(b.pageY-d(f).scrollTop())<c.A&&(g=d(f).scrollTop(d(f).scrollTop()+c.B))),c.axis&&"y"===c.axis||(b.pageX-d(f).scrollLeft()<
c.A?g=d(f).scrollLeft(d(f).scrollLeft()-c.B):d(window).width()-(b.pageX-d(f).scrollLeft())<c.A&&(g=d(f).scrollLeft(d(f).scrollLeft()+c.B))));!1!==g&&d.f.l&&!c.na&&d.f.l.Ka(a,b)}});d.f.D.add("draggable","snap",{start:function(b,c,a){b=a.options;a.j=[];d(b.v.constructor!==String?b.v.items||":data(ui-draggable)":b.v).C(function(){var b=d(this),c=b.offset();this!==a.element[0]&&a.j.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},R:function(b,c,a){var g,e,f,l,m,p,
n,q,h,u,v=a.options,k=v.Pa,r=c.offset.left,w=r+a.i.width,t=c.offset.top,x=t+a.i.height;for(h=a.j.length-1;0<=h;h--)m=a.j[h].left,p=m+a.j[h].width,n=a.j[h].top,q=n+a.j[h].height,w<m-k||r>p+k||x<n-k||t>q+k||!d.contains(a.j[h].item.ownerDocument,a.j[h].item)?(a.j[h].aa&&a.options.v.release&&a.options.v.release.call(a.element,b,d.extend(a.I(),{Oa:a.j[h].item})),a.j[h].aa=!1):("inner"!==v.sa&&(g=Math.abs(n-x)<=k,e=Math.abs(q-t)<=k,f=Math.abs(m-w)<=k,l=Math.abs(p-r)<=k,g&&(c.position.top=a.s("relative",
{top:n-a.i.height,left:0}).top-a.g.top),e&&(c.position.top=a.s("relative",{top:q,left:0}).top-a.g.top),f&&(c.position.left=a.s("relative",{top:0,left:m-a.i.width}).left-a.g.left),l&&(c.position.left=a.s("relative",{top:0,left:p}).left-a.g.left)),u=g||e||f||l,"outer"!==v.sa&&(g=Math.abs(n-t)<=k,e=Math.abs(q-x)<=k,f=Math.abs(m-r)<=k,l=Math.abs(p-w)<=k,g&&(c.position.top=a.s("relative",{top:n,left:0}).top-a.g.top),e&&(c.position.top=a.s("relative",{top:q-a.i.height,left:0}).top-a.g.top),f&&(c.position.left=
a.s("relative",{top:0,left:m}).left-a.g.left),l&&(c.position.left=a.s("relative",{top:0,left:p-a.i.width}).left-a.g.left)),!a.j[h].aa&&(g||e||f||l||u)&&a.options.v.v&&a.options.v.v.call(a.element,b,d.extend(a.I(),{Oa:a.j[h].item})),a.j[h].aa=g||e||f||l||u)}});d.f.D.add("draggable","stack",{start:function(b,c,a){var g;b=d.eb(d(a.options.stack)).sort(function(a,b){return(parseInt(d(a).b("zIndex"),10)||0)-(parseInt(d(b).b("zIndex"),10)||0)});b.length&&(g=parseInt(d(b[0]).b("zIndex"),10)||0,d(b).C(function(a){d(this).b("zIndex",
g+a)}),this.b("zIndex",g+b.length))}});d.f.D.add("draggable","zIndex",{start:function(b,c,a){b=d(c.c);a=a.options;b.b("zIndex")&&(a.la=b.b("zIndex"));b.b("zIndex",a.zIndex)},stop:function(b,c,a){b=a.options;b.la&&d(c.c).b("zIndex",b.la)}});return d.f.draggable}"function"===typeof define&&define.Xa?define(["jquery","./core","./mouse","./widget"],y):y(jQuery); 
