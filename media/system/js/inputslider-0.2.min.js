(function (c) {
    c.fn.iSlider = function (q) {
        var a = jQuery.extend({id: "", min: 0, max: 100, decimal: !1, decimalno: 10}, q);
        return this.each(function () {
            $ObjEle = c(this);
            var b = $ObjEle.val(), k = $ObjEle.offset(), m = $ObjEle.outerHeight(), n = 0, l = {
                top: 0,
                left: 0
            }, p = 0, d = !1, e = 0, g = !1, h = 0;
            a.decimal && (a.min *= a.decimalno, a.max *= a.decimalno);
            $ObjEle.on("click", function (f) {
                $Obj = c(this);
                !1 == d && (b = $Obj.val(), k = $Obj.offset(), m = $Obj.outerHeight(), p = a.max - a.min, f = c("<div class='scontainer' ></div>").css({
                    top: k.top + m,
                    left: k.left,
                    position: "absolute"
                }).append("<div class='sbar' style='width:" + p + "px' ><div class='shandle'>&nbsp;</div></div>"), f.mousedown(function () {
                    g = !0;
                    return !1
                }).mouseup(function (a) {
                    a.stopPropagation();
                    g = !1
                }), c("body").append(f), l = c(".sbar").offset(), h = c(".shandle").width() / 2, "" == b ? b = a.min : b < a.min ? b = a.min : b > a.max && (b = a.max), e = Math.round(b) - a.min - Math.round(h), c(".shandle").css({left: e}), d = !0);
                return !1
            }).on("keyup", function () {
                !0 == d && (b = $Obj.val(), "" == b ? b = a.min : b < a.min ? b = a.min : b > a.max && (b = a.max), e = Math.round(b) - a.min - Math.round(h), c(".shandle").css({left: e}));
                return !1
            });
            c(document).mousemove(function (f) {
                !0 == d && g && (n = f.pageX, b = Math.round(n - l.left + a.min), b < a.min ? b = a.min : b > a.max && (b = a.max), e = l.left + b - a.min - h, c(".shandle").offset({left: e}), a.decimal ? $Obj.val(b / a.decimalno).change() : $Obj.val(b).change())
            }).mouseup(function (a) {
                g = !1;
                d && (d = !1, c(".scontainer").remove())
            }).keydown(function (a) {
            })
        })
    }
})(jQuery);