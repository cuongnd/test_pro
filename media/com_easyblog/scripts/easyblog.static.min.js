/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
(function(f,d){function m(a){var b=a.length,c=l.type(a);return l.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function a(a){var b=ka[a]={};l.each(a.match(Z)||[],function(a,c){b[c]=!0});return b}function b(a,b,c,e){if(l.acceptData(a)){var h=l.expando,g="string"===typeof b,k=a.nodeType,n=k?l.cache:a,f=k?a[h]:a[h]&&h;if(f&&n[f]&&(e||n[f].data)||!g||c!==d){f||(k?a[h]=f=la.pop()||l.guid++:f=h);n[f]||(n[f]={},k||(n[f].toJSON=l.noop));if("object"===
typeof b||"function"===typeof b)e?n[f]=l.extend(n[f],b):n[f].data=l.extend(n[f].data,b);a=n[f];e||(a.data||(a.data={}),a=a.data);c!==d&&(a[l.camelCase(b)]=c);g?(c=a[b],null==c&&(c=a[l.camelCase(b)])):c=a;return c}}}function g(a,b,e){if(l.acceptData(a)){var d,h,g,k=a.nodeType,n=k?l.cache:a,f=k?a[l.expando]:l.expando;if(n[f]){if(b&&(d=e?n[f]:n[f].data)){l.isArray(b)?b=b.concat(l.map(b,l.camelCase)):b in d?b=[b]:(b=l.camelCase(b),b=b in d?[b]:b.split(" "));h=0;for(g=b.length;h<g;h++)delete d[b[h]];if(!(e?
c:l.isEmptyObject)(d))return}if(!e&&(delete n[f].data,!c(n[f])))return;k?l.cleanData([a],!0):l.support.deleteExpando||n!=n.window?delete n[f]:n[f]=null}}}function k(a,b,c){if(c===d&&1===a.nodeType)if(c="data-"+b.replace(Na,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Gb.test(c)?l.parseJSON(c):c}catch(e){}l.data(a,b,c)}else c=d;return c}function c(a){for(var b in a)if(("data"!==b||!l.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;
return!0}function e(){return!1}function h(){return!0}function n(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function q(a,b,c){b=b||0;if(l.isFunction(b))return l.grep(a,function(a,e){return!!b.call(a,e,a)===c});if(b.nodeType)return l.grep(a,function(a){return a===b===c});if("string"===typeof b){var e=l.grep(a,function(a){return 1===a.nodeType});if(Hb.test(b))return l.filter(b,e,!c);b=l.filter(b,e)}return l.grep(a,function(a){return 0<=l.inArray(a,b)===c})}function p(a){var b=Ya.split("|");a=a.createDocumentFragment();
if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function t(a){var b=a.getAttributeNode("type");a.type=(b&&b.specified)+"/"+a.type;return a}function u(a){var b=Oa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function v(a,b){for(var c,e=0;null!=(c=a[e]);e++)l._data(c,"globalEval",!b||l._data(b[e],"globalEval"))}function s(a,b){if(1===b.nodeType&&l.hasData(a)){var c,e,d;e=l._data(a);var h=l._data(b,e),g=e.events;if(g)for(c in delete h.handle,h.events={},g)for(e=0,
d=g[c].length;e<d;e++)l.event.add(b,c,g[c][e]);h.data&&(h.data=l.extend({},h.data))}}function r(a,b){var c,e,h=0,g="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):d;if(!g)for(g=[],c=a.childNodes||a;null!=(e=c[h]);h++)!b||l.nodeName(e,b)?g.push(e):l.merge(g,r(e,b));return b===d||b&&l.nodeName(a,b)?l.merge([a],g):g}function y(a){Pa.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;
for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=Qa.length;d--;)if(b=Qa[d]+c,b in a)return b;return e}function x(a,b){a=b||a;return"none"===l.css(a,"display")||!l.contains(a.ownerDocument,a)}function C(a,b){for(var c,e=[],d=0,h=a.length;d<h;d++)c=a[d],c.style&&(e[d]=l._data(c,"olddisplay"),b?(e[d]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&x(c)&&(e[d]=l._data(c,"olddisplay",$(c.nodeName)))):e[d]||x(c)||l._data(c,"olddisplay",l.css(c,"display")));for(d=0;d<h;d++)c=a[d],
!c.style||b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[d]||"":"none");return a}function A(a,b,c){return(a=Ra.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function N(a,b,c,e,d){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===c&&(h+=l.css(a,c+aa[b],!0,d)),e?("content"===c&&(h-=l.css(a,"padding"+aa[b],!0,d)),"margin"!==c&&(h-=l.css(a,"border"+aa[b]+"Width",!0,d))):(h+=l.css(a,"padding"+aa[b],!0,d),"padding"!==c&&(h+=l.css(a,"border"+aa[b]+
"Width",!0,d)));return h}function ea(a,b,c){var e=!0,d="width"===b?a.offsetWidth:a.offsetHeight,h=Da(a),g=l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,h);if(0>=d||null==d){d=xa(a,b,h);if(0>d||null==d)d=a.style[b];if(T.test(d))return d;e=g&&(l.support.boxSizingReliable||d===a.style[b]);d=parseFloat(d)||0}return d+N(a,b,c||(g?"border":"content"),e,h)+"px"}function $(a){var b=z,c=Sa[a];c||(c=W(a,b),"none"!==c&&c||(qa=(qa||l("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(qa[0].contentWindow||qa[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=W(a,b),qa.detach()),Sa[a]=c);return c}function W(a,b){var c=l(b.createElement(a)).appendTo(b.body),e=l.css(c[0],"display");c.remove();return e}function E(a,b,c,e){var d;if(l.isArray(b))l.each(b,function(b,d){c||Wb.test(a)?e(a,d):E(a+"["+("object"===typeof d?b:"")+"]",d,c,e)});else if(c||"object"!==l.type(b))e(a,b);else for(d in b)E(a+"["+
d+"]",b[d],c,e)}function S(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var e,d=0,h=b.toLowerCase().match(Z)||[];if(l.isFunction(c))for(;e=h[d++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function I(a,b,c,e){function d(k){var n;h[k]=!0;l.each(a[k]||[],function(a,F){var k=F(b,c,e);if("string"===typeof k&&!g&&!h[k])return b.dataTypes.unshift(k),d(k),!1;if(g)return!(n=k)});return n}var h={},g=a===ya;return d(b.dataTypes[0])||!h["*"]&&d("*")}function ma(a,
b){var c,e,h=l.ajaxSettings.flatOptions||{};for(c in b)b[c]!==d&&((h[c]?a:e||(e={}))[c]=b[c]);e&&l.extend(!0,a,e);return a}function H(){try{return new f.XMLHttpRequest}catch(a){}}function Aa(){setTimeout(function(){fa=d});return fa=l.now()}function Ba(a,b){l.each(b,function(b,c){for(var e=(Ta[b]||[]).concat(Ta["*"]),d=0,h=e.length;d<h&&!e[d].call(a,b,c);d++);})}function Za(a,b,c){var e,d=0,h=$a.length,g=l.Deferred().always(function(){delete k.elem}),k=function(){if(e)return!1;for(var b=fa||Aa(),b=
Math.max(0,n.startTime+n.duration-b),c=1-(b/n.duration||0),d=0,h=n.tweens.length;d<h;d++)n.tweens[d].run(c);g.notifyWith(a,[n,c,b]);if(1>c&&h)return b;g.resolveWith(a,[n]);return!1},n=g.promise({elem:a,props:l.extend({},b),opts:l.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:fa||Aa(),duration:c.duration,tweens:[],createTween:function(b,c){var e=l.Tween(a,n.opts,b,c,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(e);return e},stop:function(b){var c=0,d=b?n.tweens.length:
0;if(e)return this;for(e=!0;c<d;c++)n.tweens[c].run(1);b?g.resolveWith(a,[n,b]):g.rejectWith(a,[n,b]);return this}});c=n.props;for(rb(c,n.opts.specialEasing);d<h;d++)if(b=$a[d].call(n,a,c,n.opts))return b;Ba(n,c);l.isFunction(n.opts.start)&&n.opts.start.call(a,n);l.fx.timer(l.extend(k,{anim:n,queue:n.opts.queue,elem:a}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function rb(a,b){var c,e,d,h,g;for(c in a)if(e=l.camelCase(c),d=b[e],
h=a[c],l.isArray(h)&&(d=h[1],h=a[c]=h[0]),c!==e&&(a[e]=h,delete a[c]),(g=l.cssHooks[e])&&"expand"in g)for(c in h=g.expand(h),delete a[e],h)c in a||(a[c]=h[c],b[c]=d);else b[e]=d}function X(a,b,c,e,d){return new X.prototype.init(a,b,c,e,d)}function ba(a,b){var c,e={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)c=aa[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function D(a){return l.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ga,ha,z=f.document,Ea=f.location,ia={},
la=[],Fa=la.concat,ja=la.push,O=la.slice,Ua=la.indexOf,ca=ia.toString,sb=ia.hasOwnProperty,Ia="1.9.0pre".trim,l=function(a,b){return new l.fn.init(a,b,ga)},ra=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=/\S+/g,Ib=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Xb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,$b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bc=/^[\],:{}\s]*$/,Yb=/(?:^|:|,)(?:\s*\[)+/g,Zb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ab=/^-ms-/,Jb=/-([\da-z])/gi,
Ja=function(a,b){return b.toUpperCase()},na=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",na,!1),l.ready()):"complete"===z.readyState&&(z.detachEvent("onreadystatechange",na),l.ready())};l.fn=l.prototype={jquery:"1.9.0pre",constructor:l,init:function(a,b,c){var e;if(!a)return this;if("string"===typeof a){e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Xb.exec(a);if(!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=
b instanceof l?b[0]:b,l.merge(this,l.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),$b.test(e[1])&&l.isPlainObject(b))for(e in b)if(l.isFunction(this[e]))this[e](b[e]);else this.attr(e,b[e])}else{if((b=z.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return c.find(a);this.length=1;this[0]=b}this.context=z;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(l.isFunction(a))return c.ready(a);a.selector!==d&&(this.selector=a.selector,this.context=
a.context);return l.makeArray(a,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return O.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=l.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return l.each(this,a,b)},ready:function(a){l.ready.promise().done(a);return this},slice:function(){return this.pushStack(O.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(l.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ja,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var a,b,c,e,h,g=arguments[0]||{},k=1,n=arguments.length,f=!1;"boolean"===typeof g&&(f=g,g=arguments[1]||{},k=2);"object"===
typeof g||l.isFunction(g)||(g={});n===k&&(g=this,--k);for(;k<n;k++)if(null!=(a=arguments[k]))for(b in a)c=g[b],e=a[b],g!==e&&(f&&e&&(l.isPlainObject(e)||(h=l.isArray(e)))?(h?(h=!1,c=c&&l.isArray(c)?c:[]):c=c&&l.isPlainObject(c)?c:{},g[b]=l.extend(f,c,e)):e!==d&&(g[b]=e));return g};l.extend({noConflict:function(){return l},isReady:!1,readyWait:1,holdReady:function(a){a?l.readyWait++:l.ready(!0)},ready:function(a){if(!0===a?!--l.readyWait:!l.isReady){if(!z.body)return setTimeout(l.ready);l.isReady=
!0;!0!==a&&0<--l.readyWait||(ha.resolveWith(z,[l]),l.fn.trigger&&l(z).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===l.type(a)},isArray:Array.isArray||function(a){return"array"===l.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?ia[ca.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==l.type(a)||
a.nodeType||l.isWindow(a))return!1;try{if(a.constructor&&!sb.call(a,"constructor")&&!sb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return c===d||sb.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||z;var e=$b.exec(a);c=!c&&[];if(e)return[b.createElement(e[1])];e=l.buildFragment([a],b,c);c&&l(c).remove();
return l.merge([],e.childNodes)},parseJSON:function(a){if(f.JSON&&f.JSON.parse)return f.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=l.trim(a))&&bc.test(a.replace(Zb,"@").replace(tb,"]").replace(Yb,"")))return(new Function("return "+a))();l.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||"string"!==typeof a)return null;try{f.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=
d}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||l.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&l.trim(a)&&(f.execScript||function(a){f.eval.call(f,a)})(a)},camelCase:function(a){return a.replace(ab,"ms-").replace(Jb,Ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,d=0,h=a.length;e=m(a);if(c)if(e)for(;d<h&&(e=b.apply(a[d],c),!1!==e);d++);else for(d in a){if(e=b.apply(a[d],c),
!1===e)break}else if(e)for(;d<h&&(e=b.call(a[d],d,a[d]),!1!==e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:Ia&&!Ia.call("\ufeff\u00a0")?function(a){return null==a?"":Ia.call(a)}:function(a){return null==a?"":(a+"").replace(Ib,"")},makeArray:function(a,b){var c=b||[];null!=a&&(m(Object(a))?l.merge(c,"string"===typeof a?[a]:a):ja.call(c,a));return c},inArray:function(a,b,c){var e;if(b){if(Ua)return Ua.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in
b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,h=0;if("number"===typeof c)for(;h<c;h++)a[e++]=b[h];else for(;b[h]!==d;)a[e++]=b[h++];a.length=e;return a},grep:function(a,b,c){var e,d=[],h=0,g=a.length;for(c=!!c;h<g;h++)e=!!b(a[h],h),c!==e&&d.push(a[h]);return d},map:function(a,b,c){var e,d=0,h=a.length,g=[];if(m(a))for(;d<h;d++)e=b(a[d],d,c),null!=e&&(g[g.length]=e);else for(d in a)e=b(a[d],d,c),null!=e&&(g[g.length]=e);return Fa.apply([],g)},guid:1,proxy:function(a,
b){var c,e;"string"===typeof b&&(c=a[b],b=a,a=c);if(!l.isFunction(a))return d;e=O.call(arguments,2);c=function(){return a.apply(b||this,e.concat(O.call(arguments)))};c.guid=a.guid=a.guid||l.guid++;return c},access:function(a,b,c,e,h,g,k){var n=0,f=a.length,m=null==c;if("object"===l.type(c))for(n in h=!0,c)l.access(a,b,n,c[n],!0,g,k);else if(e!==d&&(h=!0,l.isFunction(e)||(k=!0),m&&(k?(b.call(a,e),b=null):(m=b,b=function(a,b,c){return m.call(l(a),c)})),b))for(;n<f;n++)b(a[n],c,k?e:e.call(a[n],n,b(a[n],
c)));return h?a:m?b.call(a):f?b(a[0],c):g},now:function(){return(new Date).getTime()}});l.ready.promise=function(a){if(!ha)if(ha=l.Deferred(),"complete"===z.readyState)setTimeout(l.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",na,!1),f.addEventListener("load",l.ready,!1);else{z.attachEvent("onreadystatechange",na);f.attachEvent("onload",l.ready);var b=!1;try{b=null==f.frameElement&&z.documentElement}catch(c){}b&&b.doScroll&&function ac(){if(!l.isReady){try{b.doScroll("left")}catch(a){return setTimeout(ac,
50)}l.ready()}}()}return ha.promise(a)};l.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});ga=l(z);var ka={};l.Callbacks=function(b){b="string"===typeof b?ka[b]||a(b):l.extend({},b);var c,e,h,g,k,n,f=[],m=!b.once&&[],q=function(a){c=b.memory&&a;e=!0;n=g||0;g=0;k=f.length;for(h=!0;f&&n<k;n++)if(!1===f[n].apply(a[0],a[1])&&b.stopOnFalse){c=!1;break}h=!1;f&&(m?m.length&&q(m.shift()):c?f=[]:p.disable())},p={add:function(){if(f){var a=
f.length;(function cc(a){l.each(a,function(a,c){var e=l.type(c);"function"===e?b.unique&&p.has(c)||f.push(c):c&&c.length&&"string"!==e&&cc(c)})})(arguments);h?k=f.length:c&&(g=a,q(c))}return this},remove:function(){f&&l.each(arguments,function(a,b){for(var c;-1<(c=l.inArray(b,f,c));)f.splice(c,1),h&&(c<=k&&k--,c<=n&&n--)});return this},has:function(a){return-1<l.inArray(a,f)},empty:function(){f=[];return this},disable:function(){f=m=c=d;return this},disabled:function(){return!f},lock:function(){m=
d;c||p.disable();return this},locked:function(){return!m},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!f||e&&!m||(h?m.push(b):q(b));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!e}};return p};l.extend({Deferred:function(a){var b=[["resolve","done",l.Callbacks("once memory"),"resolved"],["reject","fail",l.Callbacks("once memory"),"rejected"],["notify","progress",l.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){d.done(arguments).fail(arguments);
return this},then:function(){var a=arguments;return l.Deferred(function(c){l.each(b,function(b,h){var g=h[0],k=l.isFunction(a[b])&&a[b];d[h[1]](function(){var a=k&&k.apply(this,arguments);if(a&&l.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[g+"With"](this===e?c.promise():this,k?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?l.extend(a,e):e}},d={};e.pipe=e.then;l.each(b,function(a,h){var g=h[2],k=h[3];e[h[1]]=g.add;k&&g.add(function(){c=
k},b[a^1][2].disable,b[2][2].lock);d[h[0]]=function(){d[h[0]+"With"](this===d?e:this,arguments);return this};d[h[0]+"With"]=g.fireWith});e.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=O.call(arguments),e=c.length,d=1!==e||a&&l.isFunction(a.promise)?e:0,h=1===d?a:l.Deferred(),g=function(a,b,c){return function(e){b[a]=this;c[a]=1<arguments.length?O.call(arguments):e;c===k?h.notifyWith(b,c):--d||h.resolveWith(b,c)}},k,n,f;if(1<e)for(k=Array(e),n=Array(e),f=Array(e);b<e;b++)c[b]&&l.isFunction(c[b].promise)?
c[b].promise().done(g(b,f,c)).fail(h.reject).progress(g(b,n,k)):--d;d||h.resolveWith(f,c);return h.promise()}});l.support=function(){var a,b,c,e,d,h,g,k=z.createElement("div");k.setAttribute("className","t");k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=k.getElementsByTagName("*");c=k.getElementsByTagName("a")[0];if(!b||!c||!b.length)return{};e=z.createElement("select");d=e.appendChild(z.createElement("option"));b=k.getElementsByTagName("input")[0];c.style.cssText=
"top:1px;float:left;opacity:.5";a={getSetAttribute:"t"!==k.className,leadingWhitespace:3===k.firstChild.nodeType,tbody:!k.getElementsByTagName("tbody").length,htmlSerialize:!!k.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:!!b.value,optSelected:d.selected,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,
boxModel:"CSS1Compat"===z.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;e.disabled=!0;a.optDisabled=!d.disabled;try{delete k.test}catch(n){a.deleteExpando=!1}b=z.createElement("input");b.setAttribute("value","");a.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked",
"t");b.setAttribute("name","t");c=z.createDocumentFragment();c.appendChild(b);a.appendChecked=b.checked;a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;k.attachEvent&&(k.attachEvent("onclick",function(){a.noCloneEvent=!1}),k.cloneNode(!0).click());for(g in{submit:!0,change:!0,focusin:!0})k.setAttribute(c="on"+g,"t"),a[g+"Bubbles"]=c in f||!1===k.attributes[c].expando;k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===k.style.backgroundClip;
l(function(){var b,c,e=z.getElementsByTagName("body")[0];e&&(b=z.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(k),k.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=k.getElementsByTagName("td"),c[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",a.reliableHiddenOffsets=h&&0===c[0].offsetHeight,k.innerHTML="",
k.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===k.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==e.offsetTop,f.getComputedStyle&&(a.pixelPosition="1%"!==(f.getComputedStyle(k,null)||{}).top,a.boxSizingReliable="4px"===(f.getComputedStyle(k,null)||{width:"4px"}).width,c=k.appendChild(z.createElement("div")),c.style.cssText=k.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
c.style.marginRight=c.style.width="0",k.style.width="1px",a.reliableMarginRight=!parseFloat((f.getComputedStyle(c,null)||{}).marginRight)),"undefined"!==typeof k.style.zoom&&(k.innerHTML="",k.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===k.offsetWidth,k.style.display="block",k.innerHTML="<div></div>",k.firstChild.style.width="5px",a.shrinkWrapBlocks=
3!==k.offsetWidth,e.style.zoom=1),e.removeChild(b),k=null)});b=e=c=d=c=b=null;return a}();var Gb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Na=/([A-Z])/g;l.extend({cache:{},expando:"jQuery"+("1.9.0pre"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!c(a)},data:function(a,c,e){return b(a,c,e,!1)},removeData:function(a,b){return g(a,b,!1)},_data:function(a,c,e){return b(a,
c,e,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){var b=a.nodeName&&l.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});l.fn.extend({data:function(a,b){var c,e,h=this[0],g=0,n=null;if(a===d){if(this.length&&(n=l.data(h),1===h.nodeType&&!l._data(h,"parsedAttrs"))){for(c=h.attributes;g<c.length;g++)e=c[g].name,e.indexOf("data-")||(e=l.camelCase(e.substring(5)),k(h,e,n[e]));l._data(h,"parsedAttrs",!0)}return n}return"object"===typeof a?this.each(function(){l.data(this,
a)}):l.access(this,function(b){if(b===d)return h?k(h,a,l.data(h,a)):null;this.each(function(){l.data(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){l.removeData(this,a)})}});l.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=l._data(a,b),c&&(!e||l.isArray(c)?e=l._data(a,b,l.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=l.queue(a,b),e=c.length,d=c.shift(),h=l._queueHooks(a,b),g=function(){l.dequeue(a,
b)};"inprogress"===d&&(d=c.shift(),e--);if(h.cur=d)"fx"===b&&c.unshift("inprogress"),delete h.stop,d.call(a,g,h);!e&&h&&h.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return l._data(a,c)||l._data(a,c,{empty:l.Callbacks("once memory").add(function(){l._removeData(a,b+"queue");l._removeData(a,c)})})}});l.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?l.queue(this[0],a):b===d?this:this.each(function(){var c=l.queue(this,a,b);l._queueHooks(this,
a);"fx"===a&&"inprogress"!==c[0]&&l.dequeue(this,a)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,h=l.Deferred(),g=this,k=this.length,n=function(){--e||h.resolveWith(g,[g])};"string"!==typeof a&&(b=a,a=d);for(a=a||"fx";k--;)(c=l._data(g[k],a+
"queueHooks"))&&c.empty&&(e++,c.empty.add(n));n();return h.promise(b)}});var Ga,bb,cb=/[\t\r\n]/g,Kb=/\r/g,db=/^(?:input|select|textarea|button|object)$/i,ub=/^(?:a|area)$/i,Q=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Va=/^(?:checked|selected)$/i,Ca=l.support.getSetAttribute,Wa=l.support.input;l.fn.extend({attr:function(a,b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,
a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(a){a=l.propFix[a]||a;return this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,c,e,d,h,g=0,k=this.length;b="string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Z)||[];g<k;g++)if(c=this[g],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(cb," "):" ")){for(h=0;d=
b[h++];)0>e.indexOf(" "+d+" ")&&(e+=d+" ");c.className=l.trim(e)}return this},removeClass:function(a){var b,c,e,d,h,g=0,k=this.length;b=0===arguments.length||"string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Z)||[];g<k;g++)if(c=this[g],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(cb," "):"")){for(h=0;d=b[h++];)for(;0<=e.indexOf(" "+d+" ");)e=e.replace(" "+d+" "," ");c.className=a?l.trim(e):
""}return this},toggleClass:function(a,b){var c=typeof a,e="boolean"===typeof b;return l.isFunction(a)?this.each(function(c){l(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var d,h=0,g=l(this),k=b,n=a.match(Z)||[];d=n[h++];)k=e?k:!g.hasClass(d),g[k?"addClass":"removeClass"](d);else if("undefined"===c||"boolean"===c)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},
hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(cb," ").indexOf(a))return!0;return!1},val:function(a){var b,c,e,h=this[0];if(arguments.length)return e=l.isFunction(a),this.each(function(c){var h=l(this);1===this.nodeType&&(c=e?a.call(this,c,h.val()):a,null==c?c="":"number"===typeof c?c+="":l.isArray(c)&&(c=l.map(c,function(a){return null==a?"":a+""})),b=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],
b&&"set"in b&&b.set(this,c,"value")!==d||(this.value=c))});if(h){if((b=l.valHooks[h.type]||l.valHooks[h.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(h,"value"))!==d)return c;c=h.value;return"string"===typeof c?c.replace(Kb,""):null==c?"":c}}});l.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,d=(a="select-one"===a.type||0>e)?null:[],h=a?e+1:c.length,g=0>e?h:a?e:0;g<h;g++)if(b=
c[g],!(!b.selected&&g!==e||(l.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){var c=l.makeArray(b);l(a).find("option").each(function(){this.selected=0<=l.inArray(l(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attr:function(a,b,c){var e,h,g;g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if("undefined"===typeof a.getAttribute)return l.prop(a,b,c);if(g=
1!==g||!l.isXMLDoc(a))b=b.toLowerCase(),h=l.attrHooks[b]||(Q.test(b)?bb:Ga);if(c!==d)if(null===c)l.removeAttr(a,b);else{if(h&&g&&"set"in h&&(e=h.set(a,c,b))!==d)return e;a.setAttribute(b,c+"");return c}else{if(h&&g&&"get"in h&&null!==(e=h.get(a,b)))return e;"undefined"!==typeof a.getAttribute&&(e=a.getAttribute(b));return null==e?d:e}}},removeAttr:function(a,b){var c,e,d=0,h=b&&b.match(Z);if(h&&1===a.nodeType)for(;c=h[d++];)e=l.propFix[c]||c,Q.test(c)?!Ca&&Va.test(c)?a[l.camelCase("default-"+c)]=
a[e]=!1:a[e]=!1:l.attr(a,c,""),a.removeAttribute(Ca?c:e)},attrHooks:{type:{set:function(a,b){if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,
b,c){var e,h,g;g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if(g=1!==g||!l.isXMLDoc(a))b=l.propFix[b]||b,h=l.propHooks[b];return c!==d?h&&"set"in h&&(e=h.set(a,c,b))!==d?e:a[b]=c:h&&"get"in h&&null!==(e=h.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):db.test(a.nodeName)||ub.test(a.nodeName)&&a.href?0:d}}}});bb={get:function(a,b){var c=l.prop(a,b),e="boolean"===typeof c&&a.getAttribute(b);return(c="boolean"===typeof c?
Wa&&Ca?null!=e:Va.test(b)?a[l.camelCase("default-"+b)]:!!e:a.getAttributeNode(b))&&!1!==c.value?b.toLowerCase():d},set:function(a,b,c){!1===b?l.removeAttr(a,c):Wa&&Ca||!Va.test(c)?a.setAttribute(!Ca&&l.propFix[c]||c,c):a[l.camelCase("default-"+c)]=a[c]=!0;return c}};Wa&&Ca||(l.attrHooks.value={get:function(a,b){var c=a.getAttributeNode(b);return l.nodeName(a,"input")?a.defaultValue:c&&c.specified?c.value:d},set:function(a,b,c){if(l.nodeName(a,"input"))a.defaultValue=b;else return Ga&&Ga.set(a,b,c)}});
Ca||(Ga=l.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&("id"===b||"name"===b||"coords"===b?""!==c.value:c.specified)?c.value:d},set:function(a,b,c){var e=a.getAttributeNode(c);e||a.setAttributeNode(e=a.ownerDocument.createAttribute(c));e.value=b+="";return"value"===c||b===a.getAttribute(c)?b:d}},l.attrHooks.contenteditable={get:Ga.get,set:function(a,b,c){Ga.set(a,""===b?!1:b,c)}},l.each(["width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{set:function(a,
c){if(""===c)return a.setAttribute(b,"auto"),c}})}));l.support.hrefNormalized||(l.each(["href","src","width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null==a?d:a}})}),l.each(["href","src"],function(a,b){l.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));l.support.style||(l.attrHooks.style={get:function(a){return a.style.cssText||d},set:function(a,b){return a.style.cssText=b+""}});l.support.optSelected||(l.propHooks.selected=
l.extend(l.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));l.support.enctype||(l.propFix.enctype="encoding");l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}})});
var Xa=/^(?:input|select|textarea)$/i,Lb=/^key/,Mb=/^(?:mouse|contextmenu)|click/,vb=/^(?:focusinfocus|focusoutblur)$/,eb=/^([^.]*)(?:\.(.+)|)$/;l.event={add:function(a,b,c,e,h){var g,k,n,f,m,q,p,r,B=0;if(3!==a.nodeType&&8!==a.nodeType&&b&&c&&(g=l._data(a))){c.handler&&(q=c,c=q.handler,h=q.selector);c.guid||(c.guid=l.guid++);n=g.events;n||(g.events=n={});k=g.handle;k||(g.handle=k=function(a){return"undefined"===typeof l||a&&l.event.triggered===a.type?d:l.event.dispatch.apply(k.elem,arguments)},k.elem=
a);for(b=(b||"").match(Z)||[""];B<b.length;B++)f=eb.exec(b[B])||[],g=f[1],m=(f[2]||"").split(".").sort(),r=l.event.special[g]||{},g=(h?r.delegateType:r.bindType)||g,r=l.event.special[g]||{},f=l.extend({type:g,origType:f[1],data:e,handler:c,guid:c.guid,selector:h,needsContext:h&&l.expr.match.needsContext.test(h),namespace:m.join(".")},q),p=n[g],p||(p=n[g]=[],p.delegateCount=0,r.setup&&!1!==r.setup.call(a,e,m,k)||(a.addEventListener?a.addEventListener(g,k,!1):a.attachEvent&&a.attachEvent("on"+g,k))),
r.add&&(r.add.call(a,f),f.handler.guid||(f.handler.guid=c.guid)),h?p.splice(p.delegateCount++,0,f):p.push(f),l.event.global[g]=!0;a=null}},global:{},remove:function(a,b,c,e,h){var d,g,k,n,f,m,q,p,r,B=0,t=l.hasData(a)&&l._data(a);if(t&&(m=t.events)){for(b=(b||"").match(Z)||[""];B<b.length;B++)if(d=eb.exec(b[B])||[],g=k=d[1],d=d[2],g){q=l.event.special[g]||{};g=(e?q.delegateType:q.bindType)||g;p=m[g]||[];n=p.length;d=d?RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(f=
0;f<p.length;f++)r=p[f],!h&&k!==r.origType||c&&c.guid!==r.guid||d&&!d.test(r.namespace)||e&&!(e===r.selector||"**"===e&&r.selector)||(p.splice(f--,1),r.selector&&p.delegateCount--,q.remove&&q.remove.call(a,r));0===p.length&&n!==p.length&&(q.teardown&&!1!==q.teardown.call(a,d,t.handle)||l.removeEvent(a,g,t.handle),delete m[g])}else for(g in m)l.event.remove(a,g+b[B],c,e,!0);l.isEmptyObject(m)&&(delete t.handle,l._removeData(a,"events"))}},trigger:function(a,b,c,e){var h,g,k,n,m,q,p=a.type||a;g=a.namespace?
a.namespace.split("."):[];c=c||z;if(3!==c.nodeType&&8!==c.nodeType&&!vb.test(p+l.event.triggered)&&(0<=p.indexOf(".")&&(g=p.split("."),p=g.shift(),g.sort()),a="object"===typeof a?a[l.expando]?a:new l.Event(p,a):new l.Event(p),a.type=p,a.isTrigger=!0,a.namespace=g.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k=0>p.indexOf(":")?"on"+p:"",a.result=d,a.target||(a.target=c),b=null!=b?l.makeArray(b):[],b.unshift(a),n=l.event.special[p]||{},e||!n.trigger||
!1!==n.trigger.apply(c,b))){q=[[c,n.bindType||p]];if(!e&&!n.noBubble&&!l.isWindow(c)){m=n.delegateType||p;g=vb.test(m+p)?c:c.parentNode;for(h=c;g;g=g.parentNode)q.push([g,m]),h=g;h===(c.ownerDocument||z)&&q.push([h.defaultView||h.parentWindow||f,m])}for(h=0;h<q.length&&!a.isPropagationStopped();h++)g=q[h][0],a.type=q[h][1],(m=(l._data(g,"events")||{})[a.type]&&l._data(g,"handle"))&&m.apply(g,b),(m=k&&g[k])&&l.acceptData(g)&&m.apply&&!1===m.apply(g,b)&&a.preventDefault();a.type=p;if(!(e||a.isDefaultPrevented()||
n._default&&!1!==n._default.apply(c.ownerDocument,b)||"click"===p&&l.nodeName(c,"a"))&&l.acceptData(c)&&k&&c[p]&&!l.isWindow(c)){(h=c[k])&&(c[k]=null);l.event.triggered=p;try{c[p]()}catch(r){}l.event.triggered=d;h&&(c[k]=h)}return a.result}},dispatch:function(a){a=l.event.fix(a);var b,c,e,h,g,k,n=(l._data(this,"events")||{})[a.type]||[],f=n.delegateCount,m=O.call(arguments),q=l.event.special[a.type]||{},p=[];m[0]=a;a.delegateTarget=this;if(!q.preDispatch||!1!==q.preDispatch.call(this,a)){if(f&&(!a.button||
"click"!==a.type))for(c=a.target;c!=this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==a.type){h={};g=[];for(b=0;b<f;b++)e=n[b],k=e.selector,h[k]===d&&(h[k]=e.needsContext?0<=l(k,this).index(c):l.find(k,this,null,[c]).length),h[k]&&g.push(e);g.length&&p.push({elem:c,matches:g})}n.length>f&&p.push({elem:this,matches:n.slice(f)});for(b=0;b<p.length&&!a.isPropagationStopped();b++)for(h=p[b],a.currentTarget=h.elem,c=0;c<h.matches.length&&!a.isImmediatePropagationStopped();c++)if(e=h.matches[c],!a.namespace||
a.namespace_re&&a.namespace_re.test(e.namespace))a.data=e.data,a.handleObj=e,e=((l.event.special[e.origType]||{}).handle||e.handler).apply(h.elem,m),e!==d&&(a.result=e,!1===e&&(a.preventDefault(),a.stopPropagation()));q.postDispatch&&q.postDispatch.call(this,a);return a.result}},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==
a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,h=b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||z,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||
c&&c.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);a.which||h===d||(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[l.expando])return a;var b,c,e=a,h=l.event.fixHooks[a.type]||{},d=h.props?this.props.concat(h.props):this.props;a=l.Event(e);for(b=d.length;b;)c=d[--b],a[c]=e[c];a.target||(a.target=e.srcElement||z);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return h.filter?h.filter(a,e):a},special:{load:{noBubble:!0},click:{trigger:function(){if(l.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==z.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===z.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==d&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,e){a=l.extend(new l.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?l.event.trigger(a,
null,b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};l.event.handle=l.event.dispatch;l.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};l.Event=function(a,b){if(!(this instanceof l.Event))return new l.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||
a.getPreventDefault&&a.getPreventDefault()?h:e):this.type=a;b&&l.extend(this,b);this.timeStamp=a&&a.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
h;this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,e=a.relatedTarget,h=a.handleObj;if(!e||e!==this&&!l.contains(this,e))a.type=h.origType,c=h.handler.apply(this,arguments),a.type=b;return c}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,
"click._submit keypress._submit",function(a){a=a.target;(a=l.nodeName(a,"input")||l.nodeName(a,"button")?a.form:d)&&!l._data(a,"_submit_attached")&&(l.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),l._data(a,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&l.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||
(l.event.special.change={setup:function(){if(Xa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)l.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);l.event.simulate("change",this,a,!0)});return!1}l.event.add(this,"beforeactivate._change",function(a){a=a.target;Xa.test(a.nodeName)&&!l._data(a,"_change_attached")&&
(l.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||l.event.simulate("change",this.parentNode,a,!0)}),l._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){l.event.remove(this,"._change");return!Xa.test(this.nodeName)}});l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,
b){var c=0,e=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]={setup:function(){0===c++&&z.addEventListener(a,e,!0)},teardown:function(){0===--c&&z.removeEventListener(a,e,!0)}}});l.fn.extend({on:function(a,b,c,h,g){var k,n;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=d);for(n in a)this.on(n,b,c,a[n],g);return this}null==c&&null==h?(h=b,c=b=d):null==h&&("string"===typeof b?(h=c,c=d):(h=c,c=b,b=d));if(!1===h)h=e;else if(!h)return this;1===g&&(k=h,h=function(a){l().off(a);
return k.apply(this,arguments)},h.guid=k.guid||(k.guid=l.guid++));return this.each(function(){l.event.add(this,a,h,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var h;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,l(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"===typeof a){for(h in a)this.off(h,b,a[h]);return this}if(!1===b||"function"===typeof b)c=b,b=d;!1===c&&(c=e);return this.each(function(){l.event.remove(this,
a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return l.event.trigger(a,b,this[0],!0)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){l.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};Lb.test(b)&&(l.event.fixHooks[b]=l.event.keyHooks);Mb.test(b)&&(l.event.fixHooks[b]=l.event.mouseHooks)});(function(a,b){function c(a){return T.test(a+"")}function e(){var a,b=[];return a=function(c,e){b.push(c+=" ")>w.cacheLength&&delete a[b.shift()];return a[c]=e}}function h(a){a[H]=!0;return a}function d(a){var b=x.createElement("div");try{return a(b)}catch(c){return!1}finally{}}function g(a,b,c,
e){var h,d,k,n,f;(b?b.ownerDocument||b:C)!==x&&P(b);b=b||x;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(n=b.nodeType)&&9!==n)return[];if(!S&&!e){if(h=ga.exec(a))if(k=h[1])if(9===n)if((d=b.getElementById(k))&&d.parentNode){if(d.id===k)return c.push(d),c}else return c;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(k))&&ma(b,d)&&d.id===k)return c.push(d),c}else{if(h[2])return D.apply(c,Ba.call(b.getElementsByTagName(a),0)),c;if((k=h[3])&&A.getByClassName&&b.getElementsByClassName)return D.apply(c,
Ba.call(b.getElementsByClassName(k),0)),c}if(A.qsa&&!N.test(a)){h=!0;d=H;k=b;f=9===n&&a;if(1===n&&"object"!==b.nodeName.toLowerCase()){n=q(a);(h=b.getAttribute("id"))?d=h.replace(Ea,"\\$&"):b.setAttribute("id",d);d="[id='"+d+"'] ";for(k=n.length;k--;)n[k]=d+p(n[k]);k=Q.test(a)&&b.parentNode||b;f=n.join(",")}if(f)try{return D.apply(c,Ba.call(k.querySelectorAll(f),0)),c}catch(l){}finally{h||b.removeAttribute("id")}}}var m;a:{a=a.replace(ha,"$1");d=q(a);if(!e&&1===d.length){h=d[0]=d[0].slice(0);if(2<
h.length&&"ID"===(m=h[0]).type&&9===b.nodeType&&!S&&w.relative[h[1].type]){b=w.find.ID(m.matches[0].replace(J,L),b)[0];if(!b){m=c;break a}a=a.slice(h.shift().value.length)}for(n=O.needsContext.test(a)?-1:h.length-1;0<=n;n--){m=h[n];if(w.relative[k=m.type])break;if(k=w.find[k])if(e=k(m.matches[0].replace(J,L),Q.test(h[0].type)&&b.parentNode||b)){h.splice(n,1);a=e.length&&p(h);if(!a){D.apply(c,Ba.call(e,0));m=c;break a}break}}}ra(a,d)(e,b,S,c,Q.test(a));m=c}return m}function k(a,b){for(var c=a&&b&&
a.nextSibling;c;c=c.nextSibling)if(c===b)return-1;return a?1:-1}function n(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function m(a){return h(function(b){b=+b;return h(function(c,e){for(var h,d=a([],c.length,b),g=d.length;g--;)c[h=d[g]]&&(c[h]=!(e[h]=c[h]))})})}function q(a,b){var c,e,h,d,k,n,f;if(k=$[a+" "])return b?0:k.slice(0);k=a;n=[];for(f=w.preFilter;k;){if(!c||
(e=rb.exec(k)))e&&(k=k.slice(e[0].length)||k),n.push(h=[]);c=!1;if(e=K.exec(k))c=e.shift(),h.push({value:c,type:e[0].replace(ha," ")}),k=k.slice(c.length);for(d in w.filter)!(e=O[d].exec(k))||f[d]&&!(e=f[d](e))||(c=e.shift(),h.push({value:c,type:d,matches:e}),k=k.slice(c.length));if(!c)break}return b?k.length:k?g.error(a):$(a,n).slice(0)}function p(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function r(a,b,c){var e=b.dir,h=c&&"parentNode"===b.dir,d=$a++;return b.first?function(b,
c,d){for(;b=b[e];)if(1===b.nodeType||h)return a(b,c,d)}:function(b,c,g){var k,n,f,l=z+" "+d;if(g)for(;b=b[e];){if((1===b.nodeType||h)&&a(b,c,g))return!0}else for(;b=b[e];)if(1===b.nodeType||h)if(f=b[H]||(b[H]={}),(n=f[e])&&n[0]===l){if(!0===(k=n[1])||k===s)return!0===k}else if(n=f[e]=[l],n[1]=a(b,c,g)||s,!0===n[1])return!0}}function B(a){return 1<a.length?function(b,c,e){for(var h=a.length;h--;)if(!a[h](b,c,e))return!1;return!0}:a[0]}function t(a,b,c,e,h){for(var d,g=[],k=0,n=a.length,f=null!=b;k<
n;k++)if(d=a[k])if(!c||c(d,e,h))g.push(d),f&&b.push(k);return g}function G(a,b,c,e,d,k){e&&!e[H]&&(e=G(e));d&&!d[H]&&(d=G(d,k));return h(function(h,k,n,f){var l,m,q=[],p=[],F=k.length,r;if(!(r=h)){r=b||"*";for(var B=n.nodeType?[n]:n,G=[],wa=0,v=B.length;wa<v;wa++)g(r,B[wa],G);r=G}r=!a||!h&&b?r:t(r,q,a,n,f);B=c?d||(h?a:F||e)?[]:k:r;c&&c(r,B,n,f);if(e)for(l=t(B,p),e(l,[],n,f),n=l.length;n--;)if(m=l[n])B[p[n]]=!(r[p[n]]=m);if(h){if(d||a){if(d){l=[];for(n=B.length;n--;)(m=B[n])&&l.push(r[n]=m);d(null,
B=[],l,f)}for(n=B.length;n--;)(m=B[n])&&-1<(l=d?X.call(h,m):q[n])&&(h[l]=!(k[l]=m))}}else B=t(B===k?B.splice(F,B.length):B),d?d(null,k,B,f):D.apply(k,B)})}function v(a){var b,c,e,h=a.length,d=w.relative[a[0].type];c=d||w.relative[" "];for(var g=d?1:0,k=r(function(a){return a===b},c,!0),n=r(function(a){return-1<X.call(b,a)},c,!0),f=[function(a,c,e){return!d&&(e||c!==fa)||((b=c).nodeType?k(a,c,e):n(a,c,e))}];g<h;g++)if(c=w.relative[a[g].type])f=[r(B(f),c)];else{c=w.filter[a[g].type].apply(null,a[g].matches);
if(c[H]){for(e=++g;e<h&&!w.relative[a[e].type];e++);return G(1<g&&B(f),1<g&&p(a.slice(0,g-1)).replace(ha,"$1"),c,g<e&&v(a.slice(g,e)),e<h&&v(a=a.slice(e)),e<h&&p(a))}f.push(c)}return B(f)}function y(a,b){var c=0,e=0<b.length,d=0<a.length,k=function(h,k,n,f,l){var m,q,p=[],F=0,r="0",B=h&&[],G=null!=l,wa=fa,v=h||d&&w.find.TAG("*",l&&k.parentNode||k),y=z+=null==wa?1:Math.E;G&&(fa=k!==x&&k,s=c);for(;null!=(l=v[r]);r++){if(d&&l){for(m=0;q=a[m];m++)if(q(l,k,n)){f.push(l);break}G&&(z=y,s=++c)}e&&((l=!q&&
l)&&F--,h&&B.push(l))}F+=r;if(e&&r!==F){for(m=0;q=b[m];m++)q(B,p,k,n);if(h){if(0<F)for(;r--;)B[r]||p[r]||(p[r]=Ta.call(f));p=t(p)}D.apply(f,p);G&&!h&&0<p.length&&1<F+b.length&&g.uniqueSort(f)}G&&(z=y,fa=wa);return B};return e?h(k):k}function M(){}var u,s,w,Y,R,ra,E,fa,P,x,I,S,N,Ma,qb,ma,Fb,H="sizzle"+-new Date,C=a.document,A={},z=0,$a=0,ea=e(),$=e(),Aa=e(),W=typeof b,Z=[],Ta=Z.pop,D=Z.push,Ba=Z.slice,X=Z.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w",
"w#"),Ib="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Z+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ba=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ib.replace(3,8)+")*)|.*)\\)|)",ha=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,rb=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,K=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Za=RegExp(ba),ia=RegExp("^"+
Z+"$"),O={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ib),PSEUDO:RegExp("^"+ba),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Q=/[\x20\t\r\n\f]*[+~]/,T=/\{\s*\[native code\]\s*\}/,ga=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,U=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,Ea=/'|\\/g,Xb=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,J=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,L=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,c&1023|56320)};try{Ba.call(I.childNodes,0)[0].nodeType}catch(la){Ba=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}R=g.isXML=
function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};P=g.setDocument=function(a){var e=a?a.ownerDocument||a:C;if(e===x||9!==e.nodeType||!e.documentElement)return x;x=e;I=e.documentElement;S=R(e);A.tagNameNoComments=d(function(a){a.appendChild(e.createComment(""));return!a.getElementsByTagName("*").length});A.attributes=d(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});A.getByClassName=d(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length});A.getByName=d(function(a){a.id=H+0;a.innerHTML="<a name='"+H+"'></a><div name='"+H+"'></div>";I.insertBefore(a,I.firstChild);var b=e.getElementsByName&&e.getElementsByName(H).length===2+e.getElementsByName(H+0).length;A.getIdNotName=!e.getElementById(H);I.removeChild(a);return b});w.attrHandle=
d(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&typeof a.firstChild.getAttribute!==W&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};A.getIdNotName?(w.find.ID=function(a,b){if(typeof b.getElementById!==W&&!S){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(J,L);return function(a){return a.getAttribute("id")===b}}):(w.find.ID=function(a,
c){if(typeof c.getElementById!==W&&!S){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==W&&e.getAttributeNode("id").value===a?[e]:b:[]}},w.filter.ID=function(a){var b=a.replace(J,L);return function(a){return(a=typeof a.getAttributeNode!==W&&a.getAttributeNode("id"))&&a.value===b}});w.find.TAG=A.tagNameNoComments?function(a,b){if(typeof b.getElementsByTagName!==W)return b.getElementsByTagName(a)}:function(a,b){var c,e=[],h=0,d=b.getElementsByTagName(a);if("*"===a){for(;c=d[h];h++)1===
c.nodeType&&e.push(c);return e}return d};w.find.NAME=A.getByName&&function(a,b){if(typeof b.getElementsByName!==W)return b.getElementsByName(name)};w.find.CLASS=A.getByClassName&&function(a,b){if(typeof b.getElementsByClassName!==W&&!S)return b.getElementsByClassName(a)};Ma=[];N=[":focus"];if(A.qsa=c(e.querySelectorAll))d(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
a.querySelectorAll(":checked").length||N.push(":checked")}),d(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled");a.querySelectorAll("*,:x");N.push(",.*:")});(A.matchesSelector=c(qb=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&d(function(a){A.disconnectedMatch=qb.call(a,"div");qb.call(a,
"[s!='']:x");Ma.push("!=",ba)});N=RegExp(N.join("|"));Ma=RegExp(Ma.join("|"));ma=c(I.contains)||I.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(c.contains?c.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Fb=I.compareDocumentPosition?function(a,b){var c;return a===b?(E=!0,0):(c=b.compareDocumentPosition&&a.compareDocumentPosition&&
a.compareDocumentPosition(b))?c&1||a.parentNode&&11===a.parentNode.nodeType?a===e||ma(C,a)?-1:b===e||ma(C,b)?1:0:c&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,h=0;c=a.parentNode;var d=b.parentNode,g=[a],n=[b];if(a===b)return E=!0,0;if(a.sourceIndex&&b.sourceIndex)return(~b.sourceIndex||-2147483648)-(ma(C,a)&&~a.sourceIndex||-2147483648);if(!c||!d)return a===e?-1:b===e?1:c?-1:d?1:0;if(c===d)return k(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)n.unshift(c);for(;g[h]===
n[h];)h++;return h?k(g[h],n[h]):g[h]===C?-1:n[h]===C?1:0};E=!1;[0,0].sort(Fb);A.detectDuplicates=E;return x};g.matches=function(a,b){return g(a,null,null,b)};g.matchesSelector=function(a,b){(a.ownerDocument||a)!==x&&P(a);b=b.replace(Xb,"='$1']");if(A.matchesSelector&&!(S||Ma&&Ma.test(b)||N.test(b)))try{var c=qb.call(a,b);if(c||A.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(e){}return 0<g(b,x,null,[a]).length};g.contains=function(a,b){(a.ownerDocument||a)!==x&&P(a);return ma(a,
b)};g.attr=function(a,b){var c;(a.ownerDocument||a)!==x&&P(a);S||(b=b.toLowerCase());return(c=w.attrHandle[b])?c(a):S||A.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:c&&c.specified?c.value:null};g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};g.uniqueSort=function(a){var b,c=[],e=1,h=0;E=!A.detectDuplicates;a.sort(Fb);if(E){for(;b=a[e];e++)b===a[e-1]&&(h=c.push(e));for(;h--;)a.splice(c[h],1)}return a};Y=g.getText=function(a){var b,
c="",e=0;b=a.nodeType;if(!b)for(;b=a[e];e++)c+=Y(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Y(a)}else if(3===b||4===b)return a.nodeValue;return c};w=g.selectors={cacheLength:50,createPseudo:h,match:O,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(J,L);a[3]=(a[4]||a[5]||"").replace(J,
L);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(O.CHILD.test(a[0]))return null;a[4]?a[2]=a[4]:c&&Za.test(c)&&(b=q(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){if("*"===
a)return function(){return!0};a=a.replace(J,L).toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=ea[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ea(a,function(a){return b.test(a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(e){e=g.attr(e,a);if(null==e)return"!="===b;if(!b)return!0;e+="";return"="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):
"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.substr(e.length-c.length)===c:"~="===b?-1<(" "+e+" ").indexOf(c):"|="===b?e===c||e.substr(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,e,h){var d="nth"!==a.slice(0,3),g="last"!==a.slice(-4),k="of-type"===b;return 1===e&&0===h?function(a){return!!a.parentNode}:function(b,c,n){var f,l,m,q,p;c=d!==g?"nextSibling":"previousSibling";var F=b.parentNode,r=k&&b.nodeName.toLowerCase();n=!n&&!k;if(F){if(d){for(;c;){for(l=b;l=l[c];)if(k?l.nodeName.toLowerCase()===
r:1===l.nodeType)return!1;p=c="only"===a&&!p&&"nextSibling"}return!0}p=[g?F.firstChild:F.lastChild];if(g&&n)for(n=F[H]||(F[H]={}),f=n[a]||[],q=f[0]===z&&f[1],m=f[0]===z&&f[2],l=q&&F.childNodes[q];l=++q&&l&&l[c]||(m=q=0)||p.pop();){if(1===l.nodeType&&++m&&l===b){n[a]=[z,q,m];break}}else if(n&&(f=(b[H]||(b[H]={}))[a])&&f[0]===z)m=f[1];else for(;(l=++q&&l&&l[c]||(m=q=0)||p.pop())&&((k?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(n&&((l[H]||(l[H]={}))[a]=[z,m]),l!==b)););m-=h;return m===e||0===
m%e&&0<=m/e}}},PSEUDO:function(a,b){var c,e=w.pseudos[a]||w.setFilters[a.toLowerCase()]||g.error("unsupported pseudo: "+a);return e[H]?e(b):1<e.length?(c=[a,a,"",b],w.setFilters.hasOwnProperty(a.toLowerCase())?h(function(a,c){for(var h,d=e(a,b),g=d.length;g--;)h=X.call(a,d[g]),a[h]=!(c[h]=d[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:h(function(a){var b=[],c=[],e=ra(a.replace(ha,"$1"));return e[H]?h(function(a,b,c,h){h=e(a,null,h,[]);for(var d=a.length;d--;)if(c=h[d])a[d]=!(b[d]=c)}):function(a,
h,d){b[0]=a;e(b,null,d,c);return!c.pop()}}),has:h(function(a){return function(b){return 0<g(a,b).length}}),contains:h(function(a){return function(b){return-1<(b.textContent||b.innerText||Y(b)).indexOf(a)}}),lang:h(function(a){ia.test(a||"")||g.error("unsupported lang: "+a);a=a.replace(J,L).toLowerCase();return function(b){var c;do if(c=S?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),
target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},
empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return V.test(a.nodeName)},input:function(a){return U.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},
first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,c){return[0>c?c+b:c]}),even:m(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:m(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:m(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:m(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=n(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=f(u);ra=g.compile=
function(a,b){var c,e=[],h=[],d=Aa[a+" "];if(!d){b||(b=q(a));for(c=b.length;c--;)d=v(b[c]),d[H]?e.push(d):h.push(d);d=Aa(a,y(h,e))}return d};w.pseudos.nth=w.pseudos.eq;w.filters=M.prototype=w.pseudos;w.setFilters=new M;P();g.attr=l.attr;l.find=g;l.expr=g.selectors;l.expr[":"]=l.expr.pseudos;l.unique=g.uniqueSort;l.text=g.getText;l.isXMLDoc=g.isXML;l.contains=g.contains})(f);var Nb=/Until$/,wb=/^(?:parents|prev(?:Until|All))/,Hb=/^.[^:#\[\.,]*$/,xb=l.expr.match.needsContext,Ob={children:!0,contents:!0,
next:!0,prev:!0};l.fn.extend({find:function(a){var b,c,e;if("string"!==typeof a)return e=this,this.pushStack(l(a).filter(function(){for(b=0;b<e.length;b++)if(l.contains(e[b],this))return!0}));c=[];for(b=0;b<this.length;b++)l.find(a,this[b],c);c=this.pushStack(l.unique(c));c.selector=(this.selector?this.selector+" ":"")+a;return c},has:function(a){var b,c=l(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(l.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(q(this,
a,!1))},filter:function(a){return this.pushStack(q(this,a,!0))},is:function(a){return!!a&&("string"===typeof a?xb.test(a)?0<=l(a,this.context).index(this[0]):0<l.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,e=0,h=this.length,d=[],g=xb.test(a)||"string"!==typeof a?l(a,b||this.context):0;e<h;e++)for(c=this[e];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?-1<g.index(c):l.find.matchesSelector(c,a)){d.push(c);break}c=c.parentNode}return this.pushStack(1<d.length?
l.unique(d):d)},index:function(a){return a?"string"===typeof a?l.inArray(this[0],l(a)):l.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"===typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),c=l.merge(this.get(),c);return this.pushStack(l.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});l.fn.andSelf=l.fn.addBack;l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?
a:null},parents:function(a){return l.dir(a,"parentNode")},parentsUntil:function(a,b,c){return l.dir(a,"parentNode",c)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,c){return l.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return l.dir(a,"previousSibling",c)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,
a)},children:function(a){return l.sibling(a.firstChild)},contents:function(a){return l.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:l.merge([],a.childNodes)}},function(a,b){l.fn[a]=function(c,e){var h=l.map(this,b,c);Nb.test(a)||(e=c);e&&"string"===typeof e&&(h=l.filter(e,h));h=1<this.length&&!Ob[a]?l.unique(h):h;1<this.length&&wb.test(a)&&(h=h.reverse());return this.pushStack(h)}});l.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?l.find.matchesSelector(b[0],
a)?[b[0]]:[]:l.find.matches(a,b)},dir:function(a,b,c){var e=[];for(a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!l(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ya="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:null|\d+)"/g,yb=RegExp("<(?:"+Ya+")[\\s/>]","i"),
Ha=/^\s+/,fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gb=/<([\w:]+)/,J=/<tbody/i,Ka=/<|&#?\w+;/,hb=/<(?:script|style|link)/i,Pa=/^(?:checkbox|radio)$/i,sa=/checked\s*(?:[^=]|=\s*.checked.)/i,zb=/^$|\/(?:java|ecma)script/i,Oa=/^true\/(.*)/,Ab=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,K={option:[1,"<select multiple='multiple'>"],legend:[1,"<fieldset>"],area:[1,"<map>"],param:[1,"<object>"],thead:[1,"<table>"],tr:[2,"<table><tbody>"],col:[2,"<table><tbody></tbody><colgroup>",
"</table>"],td:[3,"<table><tbody><tr>"],_default:l.support.htmlSerialize?[0,""]:[1,"X<div>"]},Bb=p(z),L=Bb.appendChild(z.createElement("div"));K.optgroup=K.option;K.tbody=K.tfoot=K.colgroup=K.caption=K.thead;K.th=K.td;l.fn.extend({text:function(a){return l.access(this,function(a){return a===d?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,
b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=l(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(c){l(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,
!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=0;null!=(c=this[e]);e++)if(!a||0<l.filter(a,[c]).length)b||1!==c.nodeType||l.cleanData(r(c)),c.parentNode&&(b&&l.contains(c.ownerDocument,c)&&v(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&
l.cleanData(r(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&l.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,a,b)})},html:function(a){return l.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(Pb,""):d;if("string"===typeof a&&!(hb.test(a)||!l.support.htmlSerialize&&yb.test(a)||!l.support.leadingWhitespace&&Ha.test(a)||K[(gb.exec(a)||
["",""])[1].toLowerCase()])){a=a.replace(fb,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},1===b.nodeType&&(l.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(h){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){l.isFunction(a)||"string"===typeof a||(a=l(a).not(this).detach());return this.domManip([a],!0,function(a){var b=this.nextSibling,c=this.parentNode;if(c&&1===this.nodeType||11===this.nodeType)l(this).remove(),b?b.parentNode.insertBefore(a,b):c.appendChild(a)})},detach:function(a){return this.remove(a,
!0)},domManip:function(a,b,c){a=Fa.apply([],a);var e,h,g,k,n=0,f=this.length,m=this,q=f-1,p=a[0],B=l.isFunction(p);if(B||!(1>=f||"string"!==typeof p||l.support.checkClone)&&sa.test(p))return this.each(function(e){var h=m.eq(e);B&&(a[0]=p.call(this,e,b?h.html():d));h.domManip(a,b,c)});if(this[0]&&(e=this[0].ownerDocument,e=l.buildFragment(a,e,!1,this),h=e.firstChild,1===e.childNodes.length&&(e=h),h)){b=b&&l.nodeName(h,"tr");h=l.map(r(e,"script"),t);for(g=h.length;n<f;n++)k=e,n!==q&&(k=l.clone(k,!0,
!0),g&&l.merge(h,r(k,"script"))),c.call(b&&l.nodeName(this[n],"table")?this[n].getElementsByTagName("tbody")[0]||this[n].appendChild(this[n].ownerDocument.createElement("tbody")):this[n],k,n);if(g)for(e=h[h.length-1].ownerDocument,l.map(h,u),n=0;n<g;n++)k=h[n],zb.test(k.type||"")&&!l._data(k,"globalEval")&&l.contains(e,k)&&(k.src?l.ajax({url:k.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):l.globalEval((k.text||k.textContent||k.innerHTML||"").replace(Ab,"")));e=h=null}return this}});
l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(a){for(var c=0,e=[],h=l(a),d=h.length-1;c<=d;c++)a=c===d?this:this.clone(!0),l(h[c])[b](a),ja.apply(e,a.get());return this.pushStack(e)}});l.extend({clone:function(a,b,c){var e,h,d,g,k,n=l.contains(a.ownerDocument,a);l.support.html5Clone||l.isXMLDoc(a)||!yb.test("<"+a.nodeName+">")?k=a.cloneNode(!0):(L.innerHTML=a.outerHTML,L.removeChild(k=L.firstChild));
if(!(l.support.noCloneEvent&&l.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||l.isXMLDoc(a)))for(e=r(k),h=r(a),g=0;null!=(d=h[g]);++g)if(e[g]){var f=e[g],m=void 0,q=void 0,p=void 0;if(1===f.nodeType){m=f.nodeName.toLowerCase();if(!l.support.noCloneEvent&&f[l.expando]){q=l._data(f);for(p in q.events)l.removeEvent(f,p,q.handle);f.removeAttribute(l.expando)}if("script"===m&&f.text!==d.text)t(f).text=d.text,u(f);else if("object"===m)f.parentNode&&(f.outerHTML=d.outerHTML),l.support.html5Clone&&
d.innerHTML&&!l.trim(f.innerHTML)&&(f.innerHTML=d.innerHTML);else if("input"===m&&Pa.test(d.type))f.defaultChecked=f.checked=d.checked,f.value!==d.value&&(f.value=d.value);else if("option"===m)f.defaultSelected=f.selected=d.defaultSelected;else if("input"===m||"textarea"===m)f.defaultValue=d.defaultValue}}if(b)if(c)for(h=h||r(a),e=e||r(k),g=0;null!=(d=h[g]);g++)s(d,e[g]);else s(a,k);e=r(k,"script");0<e.length&&v(e,!n&&r(a,"script"));return k},buildFragment:function(a,b,c,e){var h,d,g,k,n,f,m=[],q=
0,B=a.length,t=b.createDocumentFragment(),G=b===z&&Bb;for(b&&"undefined"!==typeof b.createDocumentFragment||(b=z);q<B;q++)if((h=a[q])||0===h)if("object"===l.type(h))l.merge(m,h.nodeType?[h]:h);else if(Ka.test(h)){G=G||p(b);g=g||G.appendChild(b.createElement("div"));k=(gb.exec(h)||["",""])[1].toLowerCase();n=K[k]||K._default;g.innerHTML=n[1]+h.replace(fb,"<$1></$2>")+(n[2]||"");for(d=n[0];d--;)g=g.lastChild;!l.support.leadingWhitespace&&Ha.test(h)&&m.push(b.createTextNode(Ha.exec(h)[0]));if(!l.support.tbody)for(d=
(h="table"!==k||J.test(h)?"<table>"!==n[1]||J.test(h)?0:g:g.firstChild)&&h.childNodes.length;d--;)l.nodeName(f=h.childNodes[d],"tbody")&&!f.childNodes.length&&h.removeChild(f);l.merge(m,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=G.lastChild}else m.push(b.createTextNode(h));g&&G.removeChild(g);l.support.appendChecked||l.grep(r(m,"input"),y);for(q=0;h=m[q++];)if(G=l.contains(h.ownerDocument,h),e&&-1!==l.inArray(h,e)||t.appendChild(h),g=r(h,"script"),G&&v(g),c)for(d=
0;h=g[d++];)zb.test(h.type||"")&&c.push(h);return t},clean:function(a,b,c,e){var h,d,g,k,n,f,m=b===z&&Bb,q=[];b&&"undefined"!==typeof b.createDocumentFragment||(b=z);for(h=0;null!=(g=a[h]);h++)if("number"===typeof g&&(g+=""),g){if("string"===typeof g)if(Ka.test(g)){m=m||p(b);f=b.createElement("div");m.appendChild(f);g=g.replace(fb,"<$1></$2>");d=(gb.exec(g)||["",""])[1].toLowerCase();k=K[d]||K._default;n=k[0];for(f.innerHTML=k[1]+g+k[2];n--;)f=f.lastChild;if(!l.support.tbody)for(n=J.test(g),k="table"!==
d||n?"<table>"!==k[1]||n?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,d=k.length-1;0<=d;--d)l.nodeName(k[d],"tbody")&&!k[d].childNodes.length&&k[d].parentNode.removeChild(k[d]);!l.support.leadingWhitespace&&Ha.test(g)&&f.insertBefore(b.createTextNode(Ha.exec(g)[0]),f.firstChild);g=f.childNodes;f.parentNode.removeChild(f)}else g=b.createTextNode(g);g.nodeType?q.push(g):l.merge(q,g)}f&&(g=f=m=null);if(!l.support.appendChecked)for(h=0;null!=(g=q[h]);h++)l.nodeName(g,"input")?y(g):"undefined"!==
typeof g.getElementsByTagName&&l.grep(g.getElementsByTagName("input"),y);if(c)for(a=function(a){if(!a.type||zb.test(a.type))return e?e.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},h=0;null!=(g=q[h]);h++)l.nodeName(g,"script")&&a(g)||(c.appendChild(g),"undefined"!==typeof g.getElementsByTagName&&(g=l.grep(l.merge([],g.getElementsByTagName("script")),a),q.splice.apply(q,[h+1,0].concat(g)),h+=g.length));return q},cleanData:function(a,b){for(var c,e,h,d,g=0,k=l.expando,n=l.cache,
f=l.support.deleteExpando,m=l.event.special;null!=(h=a[g]);g++)if(b||l.acceptData(h))if(c=(e=h[k])&&n[e]){if(c.events)for(d in c.events)m[d]?l.event.remove(h,d):l.removeEvent(h,d,c.handle);n[e]&&(delete n[e],f?delete h[k]:"undefined"!==typeof h.removeAttribute?h.removeAttribute(k):h[k]=null,la.push(e))}}});var xa,Da,qa,Cb=/alpha\([^)]*\)/i,ib=/opacity\s*=\s*([^)]*)/,La=/^(top|right|bottom|left)$/,Qb=/^(none|table(?!-c[ea]).+)/,Rb=/^margin/,Ra=RegExp("^("+ra+")(.*)$","i"),T=RegExp("^("+ra+")(?!px)[a-z%]+$",
"i"),jb=RegExp("^([+-])=("+ra+")","i"),Sa={BODY:"block"},kb={position:"absolute",visibility:"hidden",display:"block"},da={letterSpacing:0,fontWeight:400},aa=["Top","Right","Bottom","Left"],Qa=["Webkit","O","Moz","ms"];l.fn.extend({css:function(a,b){return l.access(this,function(a,b,c){var e,h={},g=0;if(l.isArray(b)){c=Da(a);for(e=b.length;g<e;g++)h[b[g]]=l.css(a,b[g],!1,c);return h}return c!==d?l.style(a,b,c):l.css(a,b)},a,b,1<arguments.length)},show:function(){return C(this,!0)},hide:function(){return C(this)},
toggle:function(a){var b="boolean"===typeof a;return this.each(function(){(b?a:x(this))?l(this).show():l(this).hide()})}});l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,g,k,n=l.camelCase(b),
f=a.style;b=l.cssProps[n]||(l.cssProps[n]=w(f,n));k=l.cssHooks[b]||l.cssHooks[n];if(c!==d){if(g=typeof c,"string"===g&&(h=jb.exec(c))&&(c=(h[1]+1)*h[2]+parseFloat(l.css(a,b)),g="number"),!(null==c||"number"===g&&isNaN(c)||("number"!==g||l.cssNumber[n]||(c+="px"),l.support.clearCloneStyle||""!==c||0!==b.indexOf("background")||(f[b]="inherit"),k&&"set"in k&&(c=k.set(a,c,e))===d)))try{f[b]=c}catch(m){}}else return k&&"get"in k&&(h=k.get(a,!1,e))!==d?h:f[b]}},css:function(a,b,c,e){var h,g;g=l.camelCase(b);
b=l.cssProps[g]||(l.cssProps[g]=w(a.style,g));(g=l.cssHooks[b]||l.cssHooks[g])&&"get"in g&&(h=g.get(a,!0,c));h===d&&(h=xa(a,b,e));"normal"===h&&b in da&&(h=da[b]);return c?(a=parseFloat(h),!0===c||l.isNumeric(a)?a||0:h):h},swap:function(a,b,c,e){var h,d={};for(h in b)d[h]=a.style[h],a.style[h]=b[h];c=c.apply(a,e||[]);for(h in b)a.style[h]=d[h];return c}});f.getComputedStyle?(Da=function(a){return f.getComputedStyle(a,null)},xa=function(a,b,c){var e,h=(c=c||Da(a))?c.getPropertyValue(b)||c[b]:d,g=a.style;
c&&(""!==h||l.contains(a.ownerDocument,a)||(h=l.style(a,b)),T.test(h)&&Rb.test(b)&&(a=g.width,b=g.minWidth,e=g.maxWidth,g.minWidth=g.maxWidth=g.width=h,h=c.width,g.width=a,g.minWidth=b,g.maxWidth=e));return h}):z.documentElement.currentStyle&&(Da=function(a){return a.currentStyle},xa=function(a,b,c){var e,h,g=(c=c||Da(a))?c[b]:d,k=a.style;null==g&&k&&k[b]&&(g=k[b]);if(T.test(g)&&!La.test(b)){c=k.left;if(h=(e=a.runtimeStyle)&&e.left)e.left=a.currentStyle.left;k.left="fontSize"===b?"1em":g;g=k.pixelLeft+
"px";k.left=c;h&&(e.left=h)}return""===g?"auto":g});l.each(["height","width"],function(a,b){l.cssHooks[b]={get:function(a,c,e){if(c)return 0===a.offsetWidth&&Qb.test(l.css(a,"display"))?l.swap(a,kb,function(){return ea(a,b,e)}):ea(a,b,e)},set:function(a,c,e){var h=e&&Da(a);return A(a,c,e?N(a,b,e,l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,h),h):0)}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?
0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,h=l.isNumeric(b)?"alpha(opacity="+100*b+")":"",d=e&&e.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===l.trim(d.replace(Cb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||e&&!e.filter))return;c.filter=Cb.test(d)?d.replace(Cb,h):d+" "+h}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){if(b)return l.swap(a,{display:"inline-block"},xa,[a,"marginRight"])}});
!l.support.pixelPosition&&l.fn.position&&l.each(["top","left"],function(a,b){l.cssHooks[b]={get:function(a,c){if(c)return c=xa(a,b),T.test(c)?l(a).position()[b]+"px":c}}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!l.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||l.css(a,"display"))},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,b){l.cssHooks[a+
b]={expand:function(c){var e=0,h={};for(c="string"===typeof c?c.split(" "):[c];4>e;e++)h[a+aa[e]+b]=c[e]||c[e-2]||c[0];return h}};Rb.test(a)||(l.cssHooks[a+b].set=A)});var Db=/%20/g,Wb=/\[\]$/,Sb=/\r?\n/g,lb=/^(?:submit|button|image|reset)$/i,ta=/^(?:input|select|textarea|keygen)/i;l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=l.prop(this,"elements");return a?l.makeArray(a):this}).filter(function(){var a=this.type;
return this.name&&!l(this).is(":disabled")&&ta.test(this.nodeName)&&!lb.test(a)&&(this.checked||!Pa.test(a))}).map(function(a,b){var c=l(this).val();return null==c?null:l.isArray(c)?l.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}});l.param=function(a,b){var c,e=[],h=function(a,b){b=l.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=l.ajaxSettings&&l.ajaxSettings.traditional);
if(l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){h(this.name,this.value)});else for(c in a)E(c,a[c],b,h);return e.join("&").replace(Db,"+")};var ua,va,mb=l.now(),U=/\?/,za=/#.*$/,Eb=/([?&])_=[^&]*/,oa=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,pa=/^(?:GET|HEAD)$/,Tb=/^\/\//,Ub=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nb=l.fn.load,ob={},ya={},V="*/".concat("*");try{va=Ea.href}catch(Vb){va=z.createElement("a"),va.href="",va=va.href}ua=Ub.exec(va.toLowerCase())||[];l.fn.load=function(a,b,
c){if("string"!==typeof a&&nb)return nb.apply(this,arguments);var e,h,g,k=this,n=a.indexOf(" ");0<=n&&(e=a.slice(n,a.length),a=a.slice(0,n));l.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(h="POST");0<k.length&&l.ajax({url:a,type:h,dataType:"html",data:b}).done(function(a){g=arguments;k.html(e?l("<div>").append(l.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){k.each(c,g||[a.responseText,b,a])});return this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){l.fn[b]=function(a){return this.on(b,a)}});l.each(["get","post"],function(a,b){l[b]=function(a,c,e,h){l.isFunction(c)&&(h=h||e,e=c,c=d);return l.ajax({url:a,type:b,dataType:h,data:c,success:e})}});l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:va,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ua[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":V,text:"text/plain",html:"text/html",
xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":f.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ma(ma(a,l.ajaxSettings),b):ma(l.ajaxSettings,a)},ajaxPrefilter:S(ob),ajaxTransport:S(ya),ajax:function(a,b){function c(a,b,k,f){var q,y,w,F,M=b;if(2!==u){u=2;n&&clearTimeout(n);
e=d;g=f||"";s.readyState=0<a?4:0;if(k){F=p;f=s;var Y,R,E,ra,fa=F.contents,x=F.dataTypes,I=F.responseFields;for(R in I)R in k&&(f[I[R]]=k[R]);for(;"*"===x[0];)x.shift(),Y===d&&(Y=F.mimeType||f.getResponseHeader("Content-Type"));if(Y)for(R in fa)if(fa[R]&&fa[R].test(Y)){x.unshift(R);break}if(x[0]in k)E=x[0];else{for(R in k){if(!x[0]||F.converters[R+" "+x[0]]){E=R;break}ra||(ra=R)}E=E||ra}E?(E!==x[0]&&x.unshift(E),F=k[E]):F=void 0}if(200<=a&&300>a||304===a)if(p.ifModified&&((k=s.getResponseHeader("Last-Modified"))&&
(l.lastModified[h]=k),(k=s.getResponseHeader("etag"))&&(l.etag[h]=k)),304===a)q=!0,M="notmodified";else{a:{y=p;w=F;var P,wa,M={};Y=0;R=y.dataTypes.slice();E=R[0];y.dataFilter&&(w=y.dataFilter(w,y.dataType));if(R[1])for(P in y.converters)M[P.toLowerCase()]=y.converters[P];for(;k=R[++Y];)if("*"!==k){if("*"!==E&&E!==k){P=M[E+" "+k]||M["* "+k];if(!P)for(wa in M)if(q=wa.split(" "),q[1]===k&&(P=M[E+" "+q[0]]||M["* "+q[0]])){!0===P?P=M[wa]:!0!==M[wa]&&(k=q[0],R.splice(Y--,0,k));break}if(!0!==P)if(P&&y["throws"])w=
P(w);else try{w=P(w)}catch(S){q={state:"parsererror",error:P?S:"No conversion from "+E+" to "+k};break a}}E=k}q={state:"success",data:w}}M=q.state;y=q.data;w=q.error;q=!w}else if(w=M,a||!M)M="error",0>a&&(a=0);s.status=a;s.statusText=(b||M)+"";q?t.resolveWith(r,[y,M,s]):t.rejectWith(r,[s,M,w]);s.statusCode(v);v=d;m&&B.trigger(q?"ajaxSuccess":"ajaxError",[s,p,q?y:w]);G.fireWith(r,[s,M]);m&&(B.trigger("ajaxComplete",[s,p]),--l.active||l.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);b=b||
{};var e,h,g,k,n,f,m,q,p=l.ajaxSetup({},b),r=p.context||p,B=p.context&&(r.nodeType||r.jquery)?l(r):l.event,t=l.Deferred(),G=l.Callbacks("once memory"),v=p.statusCode||{},y={},w={},u=0,M="canceled",s={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k)for(k={};b=oa.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();u||(a=w[c]=w[c]||a,y[a]=b);return this},
overrideMimeType:function(a){u||(p.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)v[b]=[v[b],a[b]];else s.always(a[s.status]);return this},abort:function(a){a=a||M;e&&e.abort(a);c(0,a);return this}};t.promise(s).complete=G.add;s.success=s.done;s.error=s.fail;p.url=((a||p.url||va)+"").replace(za,"").replace(Tb,ua[1]+"//");p.type=b.method||b.type||p.method||p.type;p.dataTypes=l.trim(p.dataType||"*").toLowerCase().match(Z)||[""];null==p.crossDomain&&(f=Ub.exec(p.url.toLowerCase()),
p.crossDomain=!(!f||f[1]===ua[1]&&f[2]===ua[2]&&(f[3]||("http:"===f[1]?80:443))==(ua[3]||("http:"===ua[1]?80:443))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=l.param(p.data,p.traditional));I(ob,p,b,s);if(2===u)return s;(m=p.global)&&0===l.active++&&l.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!pa.test(p.type);h=p.url;p.hasContent||(p.data&&(h=p.url+=(U.test(h)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Eb.test(h)?h.replace(Eb,"$1_="+mb++):h+(U.test(h)?
"&":"?")+"_="+mb++));p.ifModified&&(l.lastModified[h]&&s.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&s.setRequestHeader("If-None-Match",l.etag[h]));(p.data&&p.hasContent&&!1!==p.contentType||b.contentType)&&s.setRequestHeader("Content-Type",p.contentType);s.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+V+"; q=0.01":""):p.accepts["*"]);for(q in p.headers)s.setRequestHeader(q,p.headers[q]);if(p.beforeSend&&
(!1===p.beforeSend.call(r,s,p)||2===u))return s.abort();M="abort";for(q in{success:1,error:1,complete:1})s[q](p[q]);if(e=I(ya,p,b,s)){s.readyState=1;m&&B.trigger("ajaxSend",[s,p]);p.async&&0<p.timeout&&(n=setTimeout(function(){s.abort("timeout")},p.timeout));try{u=1,e.send(y,c)}catch(Y){if(2>u)c(-1,Y);else throw Y;}}else c(-1,"No Transport");return s},getScript:function(a,b){return l.get(a,d,b,"script")},getJSON:function(a,b,c){return l.get(a,b,c,"json")}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){l.globalEval(a);return a}}});l.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});l.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||l("head")[0]||z.documentElement;return{send:function(e,h){b=z.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||
/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||h(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(d,!0)}}}});var pb=[],R=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=pb.pop()||l.expando+"_"+mb++;this[a]=!0;return a}});l.ajaxPrefilter("json jsonp",function(a,b,c){var e,h,g,k=!1!==a.jsonp&&(R.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
R.test(a.data)&&"data");if(k||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=l.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,k?a[k]=a[k].replace(R,"$1"+e):!1!==a.jsonp&&(a.url+=(U.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){g||l.error(e+" was not called");return g[0]},a.dataTypes[0]="json",h=f[e],f[e]=function(){g=arguments},c.always(function(){f[e]=h;a[e]&&(a.jsonpCallback=b.jsonpCallback,pb.push(e));g&&l.isFunction(h)&&h(g[0]);g=h=d}),"script"});
var B,G,M=0,Y=f.ActiveXObject&&function(){for(var a in B)B[a](d,!0)};l.ajaxSettings.xhr=f.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&H()))a:{try{a=new f.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:H;G=l.ajaxSettings.xhr();l.support.cors=!!G&&"withCredentials"in G;(G=l.support.ajax=!!G)&&l.ajaxTransport(function(a){if(!a.crossDomain||l.support.cors){var b;return{send:function(c,e){var h,g,k=a.xhr();a.username?k.open(a.type,a.url,a.async,a.username,a.password):
k.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)k[g]=a.xhrFields[g];a.mimeType&&k.overrideMimeType&&k.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(g in c)k.setRequestHeader(g,c[g])}catch(n){}k.send(a.hasContent&&a.data||null);b=function(c,g){var n,f,m,q,p;try{if(b&&(g||4===k.readyState))if(b=d,h&&(k.onreadystatechange=l.noop,Y&&delete B[h]),g)4!==k.readyState&&k.abort();else{q={};n=k.status;p=k.responseXML;m=k.getAllResponseHeaders();
p&&p.documentElement&&(q.xml=p);"string"===typeof k.responseText&&(q.text=k.responseText);try{f=k.statusText}catch(r){f=""}n||!a.isLocal||a.crossDomain?1223===n&&(n=204):n=q.text?200:404}}catch(t){g||e(-1,t)}q&&e(n,f,q,m)};a.async?4===k.readyState?setTimeout(b):(h=++M,Y&&(B||(B={},l(f).unload(Y)),B[h]=b),k.onreadystatechange=b):b()},abort:function(){b&&b(d,!0)}}}});var fa,P,Ma=/^(?:toggle|show|hide)$/,qb=RegExp("^(?:([+-])=|)("+ra+")([a-z%]*)$","i"),Fb=/queueHooks$/,$a=[function(a,b,c){var e,h,g,
d,k,n,f=this,m=a.style,q={},p=[],r=a.nodeType&&x(a);c.queue||(k=l._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,n=k.empty.fire,k.empty.fire=function(){k.unqueued||n()}),k.unqueued++,f.always(function(){f.always(function(){k.unqueued--;l.queue(a,"fx").length||k.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===l.css(a,"display")&&"none"===l.css(a,"float")&&(l.support.inlineBlockNeedsLayout&&"inline"!==$(a.nodeName)?m.zoom=
1:m.display="inline-block"));c.overflow&&(m.overflow="hidden",l.support.shrinkWrapBlocks||f.done(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(e in b)g=b[e],Ma.exec(g)&&(delete b[e],h=h||"toggle"===g,g!==(r?"hide":"show")&&p.push(e));if(b=p.length)for(g=l._data(a,"fxshow")||l._data(a,"fxshow",{}),("hidden"in g)&&(r=g.hidden),h&&(g.hidden=!r),r?l(a).show():f.done(function(){l(a).hide()}),f.done(function(){var b;l._removeData(a,"fxshow");for(b in q)l.style(a,
b,q[b])}),e=0;e<b;e++)h=p[e],d=f.createTween(h,r?g[h]:0),q[h]=g[h]||l.style(a,h),h in g||(g[h]=d.start,r&&(d.end=d.start,d.start="width"===h||"height"===h?1:0))}],Ta={"*":[function(a,b){var c,e,h=this.createTween(a,b),g=qb.exec(b),d=h.cur(),k=+d||0,n=1,f=20;if(g){c=+g[2];e=g[3]||(l.cssNumber[a]?"":"px");if("px"!==e&&k){k=l.css(h.elem,a,!0)||c||1;do n=n||".5",k/=n,l.style(h.elem,a,k+e);while(n!==(n=h.cur()/d)&&1!==n&&--f)}h.unit=e;h.start=k;h.end=g[1]?k+(g[1]+1)*c:c}return h}]};l.Animation=l.extend(Za,
{tweener:function(a,b){l.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,h=a.length;e<h;e++)c=a[e],Ta[c]=Ta[c]||[],Ta[c].unshift(b)},prefilter:function(a,b){b?$a.unshift(a):$a.push(a)}});l.Tween=X;X.prototype={constructor:X,init:function(a,b,c,e,h,g){this.elem=a;this.prop=c;this.easing=h||"swing";this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=g||(l.cssNumber[c]?"":"px")},cur:function(){var a=X.propHooks[this.prop];return a&&a.get?a.get(this):X.propHooks._default.get(this)},
run:function(a){var b,c=X.propHooks[this.prop];this.pos=this.options.duration?b=l.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):X.propHooks._default.set(this);return this}};X.prototype.init.prototype=X.prototype;X.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=l.css(a.elem,a.prop,
"auto"))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(l.fx.step[a.prop])l.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[l.cssProps[a.prop]]||l.cssHooks[a.prop])?l.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};l.each(["toggle","show","hide"],function(a,b){var c=l.fn[b];l.fn[b]=function(a,e,h){return null==a||"boolean"===typeof a?c.apply(this,arguments):
this.animate(ba(b,!0),a,e,h)}});l.fn.extend({fadeTo:function(a,b,c,e){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var h=l.isEmptyObject(a),g=l.speed(b,c,e),d=function(){var b=Za(this,l.extend({},a),g);d.finish=function(){b.stop(!0)};(h||l._data(this,"finish"))&&b.stop(!0)};d.finish=d;return h||!1===g.queue?this.each(d):this.queue(g.queue,d)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=
b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,h=null!=a&&a+"queueHooks",g=l.timers,d=l._data(this);if(h)d[h]&&d[h].stop&&e(d[h]);else for(h in d)d[h]&&d[h].stop&&Fb.test(h)&&e(d[h]);for(h=g.length;h--;)g[h].elem!==this||null!=a&&g[h].queue!==a||(g[h].anim.stop(c),b=!1,g.splice(h,1));!b&&c||l.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=l._data(this),e=c[a+"queue"];b=c[a+"queueHooks"];var h=l.timers,g=e?e.length:0;
c.finish=!0;l.queue(this,a,[]);b&&b.cur&&b.cur.finish&&b.cur.finish.call(this);for(b=h.length;b--;)h[b].elem===this&&h[b].queue===a&&(h[b].anim.stop(!0),h.splice(b,1));for(b=0;b<g;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});l.each({slideDown:ba("show"),slideUp:ba("hide"),slideToggle:ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){l.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});l.speed=function(a,b,c){var e=a&&
"object"===typeof a?l.extend({},a):{complete:c||!c&&b||l.isFunction(a)&&a,duration:a,easing:c&&b||b&&!l.isFunction(b)&&b};e.duration=l.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in l.fx.speeds?l.fx.speeds[e.duration]:l.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){l.isFunction(e.old)&&e.old.call(this);e.queue&&l.dequeue(this,e.queue)};return e};l.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/
2}};l.timers=[];l.fx=X.prototype.init;l.fx.tick=function(){var a,b=l.timers,c=0;for(fa=l.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||l.fx.stop();fa=d};l.fx.timer=function(a){a()&&l.timers.push(a)&&l.fx.start()};l.fx.interval=13;l.fx.start=function(){P||(P=setInterval(l.fx.tick,l.fx.interval))};l.fx.stop=function(){clearInterval(P);P=null};l.fx.speeds={slow:600,fast:200,_default:400};l.fx.step={};l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,
function(b){return a===b.elem}).length});l.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){l.offset.setOffset(this,a,b)});var b,c,e={top:0,left:0},h=(c=this[0])&&c.ownerDocument;if(h){b=h.documentElement;if(!l.contains(b,c))return e;"undefined"!==typeof c.getBoundingClientRect&&(e=c.getBoundingClientRect());c=D(h);return{top:e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};l.offset={setOffset:function(a,
b,c){var e=l.css(a,"position");"static"===e&&(a.style.position="relative");var h=l(a),g=h.offset(),d=l.css(a,"top"),k=l.css(a,"left"),n={},f={};("absolute"===e||"fixed"===e)&&-1<l.inArray("auto",[d,k])?(f=h.position(),e=f.top,k=f.left):(e=parseFloat(d)||0,k=parseFloat(k)||0);l.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(n.top=b.top-g.top+e);null!=b.left&&(n.left=b.left-g.left+k);"using"in b?b.using.call(a,n):h.css(n)}};l.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},e=this[0];
"fixed"===l.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),l.nodeName(a[0],"html")||(c=a.offset()),c.top+=l.css(a[0],"borderTopWidth",!0),c.left+=l.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-l.css(e,"marginTop",!0),left:b.left-c.left-l.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||z.documentElement;a&&!l.nodeName(a,"html")&&"static"===l.css(a,"position");)a=a.offsetParent;return a||z.documentElement})}});
l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);l.fn[a]=function(e){return l.access(this,function(a,e,h){var g=D(a);if(h===d)return g?b in g?g[b]:g.document.documentElement[e]:a[e];g?g.scrollTo(c?l(g).scrollLeft():h,c?h:l(g).scrollTop()):a[e]=h},a,e,arguments.length,null)}});l.each({Height:"height",Width:"width"},function(a,b){l.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){l.fn[e]=function(e,h){var g=arguments.length&&(c||"boolean"!==typeof e),
k=c||(!0===e||!0===h?"margin":"border");return l.access(this,function(b,c,e){return l.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):e===d?l.css(b,c,k):l.style(b,c,e,k)},b,g?e:d,g,null)}})});(function(){var a,b,c,e,h=l.fn.toggle,g=/(?:^|\s)hover(\.\S+|)\b/,d=function(a){return l.event.special.hover?a:a.replace(g,"mouseenter$1 mouseleave$1")};l.uaMatch=function(a){a=a.toLowerCase();
a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=l.uaMatch(navigator.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);l.browser=b;l.sub=function(){function a(b,c){return new a.fn.init(b,c)}l.extend(!0,a,this);a.superclass=this;a.fn=
a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,e){e&&e instanceof l&&!(e instanceof a)&&(e=a(e));return l.fn.init.call(this,c,e,b)};a.fn.init.prototype=a.fn;var b=a(z);return a};l.fn.toggle=function(a,b){if(!l.isFunction(a)||!l.isFunction(b))return h.apply(this,arguments);var c=arguments,e=a.guid||l.guid++,g=0,d=function(b){var e=(l._data(this,"lastToggle"+a.guid)||0)%g;l._data(this,"lastToggle"+a.guid,e+1);b.preventDefault();return c[e].apply(this,arguments)||!1};for(d.guid=
e;g<c.length;)c[g++].guid=e;return this.click(d)};c=l.event.add;l.event.add=function(a,b,e,h,g){b&&(b=d(b));c.call(this,a,b,e,h,g)};e=l.event.remove;l.event.remove=function(a,b,c,h,g){b&&(b=d(b));e.call(this,a,b,c,h,g)};l.attrFn={}})();l.version="3.1";l.long_version="3.1.0";l.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")};l.globalNamespace=l.uid("Foundry");f[l.globalNamespace]=l;l.run=function(a){return l.isFunction(a)?a(l):null};l.initialize=function(a){l.initialized||
(l.extend(l,a),"development"==l.environment&&(f.F=l),l.initialized=!0,FD31.module.execute())};FD31.jquery(l)})(window);
FD31.plugin("lodash",function(f){function d(a,b,c){c=(c||0)-1;for(var e=a.length;++c<e;)if(a[c]===b)return c;return-1}function m(a,b){var c=typeof b;a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:w+b;a=a[c]||(a[c]={});return"object"==c?a[e]&&-1<d(a[e],b)?0:-1:a[e]?0:-1}function a(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var e="number"==c?a:w+a,h=b[c]||(b[c]={});"object"==c?
(h[e]||(h[e]=[])).push(a)==this.array.length&&(b[c]=!1):h[e]=!0}}function b(a){return a.charCodeAt(0)}function g(a,b){var c=a.index,e=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<e?-1:1}function k(b){var c=-1,e=b.length,g=h();g["false"]=g["null"]=g["true"]=g.undefined=!1;var d=h();d.array=b;d.cache=g;for(d.push=a;++c<e;)d.push(b[c]);return!1===g.object?(q(d),null):d}function c(a){return"\\"+Ua[a]}function e(){return v.pop()||
[]}function h(){return s.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function n(a){a.length=0;v.length<C&&v.push(a)}function q(a){var b=a.cache;b&&q(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;s.length<C&&s.push(a)}function p(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var e=-1;c=c-b||0;for(var h=Array(0>c?0:c);++e<c;)h[e]=
a[b+e];return h}function t(a){function f(a){return a&&"object"==typeof a&&!oa(a)&&T.call(a,"__wrapped__")?a:new v(a)}function v(a){this.__wrapped__=a}function s(a,b,c,e){function h(){var e=arguments,n=d?this:b;g||(a=b[k]);c.length&&(e=e.length?(e=U.call(e),f?e.concat(c):c.concat(e)):c);return this instanceof h?(n=ka(a.prototype)?Qa(a.prototype):{},e=a.apply(n,e),ka(e)?e:n):a.apply(n,e)}var g=na(a),d=!c,k=b;if(d){var f=e;c=b}else if(!g){if(!e)throw new Bb;b=a}return h}function C(a){return Tb[a]}function ca(a,
b,c){var e=(e=f.indexOf)===Nb?d:e;return e}function Ua(a){return function(b,c,e,h){"boolean"!=typeof c&&null!=c&&(e=(h=e)&&h[c]===b?u:c,c=!1);null!=e&&(e=f.createCallback(e,h));return a(b,c,e,h)}}function Yb(a){var b,c;if(!a||da.call(a)!=ia||(b=a.constructor,na(b)&&!(b instanceof b)))return!1;ya(a,function(a,b){c=b});return c===u||T.call(a,c)}function Zb(a){return Ub[a]}function tb(a,b,c,h,g,d){var k=a;"boolean"!=typeof b&&null!=b&&(h=c,c=b,b=!1);if("function"==typeof c){c="undefined"==typeof h?c:
f.createCallback(c,h,1);k=c(k);if("undefined"!=typeof k)return k;k=a}if(h=ka(k)){var m=da.call(k);if(!ja[m])return k;var q=oa(k)}if(!h||!b)return h?q?p(k):nb({},k):k;h=za[m];switch(m){case ga:case ha:return new h(+k);case Ea:case Fa:return new h(k);case la:return h(k.source,E.exec(k))}m=!g;g||(g=e());d||(d=e());for(var l=g.length;l--;)if(g[l]==a)return d[l];k=q?h(k.length):{};q&&(T.call(a,"index")&&(k.index=a.index),T.call(a,"input")&&(k.input=a.input));g.push(a);d.push(k);(q?Q:V)(a,function(a,e){k[e]=
tb(a,b,c,u,g,d)});m&&(n(g),n(d));return k}function ab(a){var b=[];ya(a,function(a,c){na(a)&&b.push(c)});return b.sort()}function Jb(a){for(var b=-1,c=pa(a),e=c.length,h={};++b<e;){var g=c[b];h[a[g]]=g}return h}function Ja(a,b,c,h,g,d){var k=c===y;if("function"==typeof c&&!k){c=f.createCallback(c,h,2);var m=c(a,b);if("undefined"!=typeof m)return!!m}if(a===b)return 0!==a||1/a==1/b;var q=typeof a,l=typeof b;if(a===a&&(!a||"function"!=q&&"object"!=q)&&(!b||"function"!=l&&"object"!=l))return!1;if(null==
a||null==b)return a===b;l=da.call(a);q=da.call(b);l==ba&&(l=ia);q==ba&&(q=ia);if(l!=q)return!1;switch(l){case ga:case ha:return+a==+b;case Ea:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case la:case Fa:return a==K(b)}q=l==D;if(!q){if(T.call(a,"__wrapped__ ")||T.call(b,"__wrapped__"))return Ja(a.__wrapped__||a,b.__wrapped__||b,c,h,g,d);if(l!=ia)return!1;var l=a.constructor,p=b.constructor;if(l!=p&&!(na(l)&&l instanceof l&&na(p)&&p instanceof p))return!1}p=!g;g||(g=e());d||(d=e());for(l=g.length;l--;)if(g[l]==
a)return d[l]==b;var r=0,m=!0;g.push(a);d.push(b);if(q){l=a.length;r=b.length;m=r==a.length;if(!m&&!k)return m;for(;r--;)if(q=l,p=b[r],k)for(;q--&&!(m=Ja(a[q],p,c,h,g,d)););else if(!(m=Ja(a[r],p,c,h,g,d)))break;return m}ya(b,function(b,e,k){if(T.call(k,e))return r++,m=T.call(a,e)&&Ja(a[e],b,c,h,g,d)});m&&!k&&ya(a,function(a,b,c){if(T.call(c,b))return m=-1<--r});p&&(n(g),n(d));return m}function na(a){return"function"==typeof a}function ka(a){return!(!a||!O[typeof a])}function Gb(a){return"number"==
typeof a||da.call(a)==Ea}function Na(a){return"string"==typeof a||da.call(a)==Fa}function Ga(a,b,c){var h=arguments,g=0,d=2;if(!ka(a))return a;if(c===y)var k=h[3],m=h[4],l=h[5];else{var q=!0,m=e(),l=e();"number"!=typeof c&&(d=h.length);3<d&&"function"==typeof h[d-2]?k=f.createCallback(h[--d-1],h[d--],2):2<d&&"function"==typeof h[d-1]&&(k=h[--d])}for(;++g<d;)(oa(h[g])?Q:V)(h[g],function(b,c){var e,h,g=b,d=a[c];if(b&&((h=oa(b))||Vb(b))){for(g=m.length;g--;)if(e=m[g]==b){d=l[g];break}if(!e){var f;k&&
(g=k(d,b),f="undefined"!=typeof g)&&(d=g);f||(d=h?oa(d)?d:[]:Vb(d)?d:{});m.push(b);l.push(d);f||(d=Ga(d,b,y,k,m,l))}}else k&&(g=k(d,b),"undefined"==typeof g&&(g=b)),"undefined"!=typeof g&&(d=g);a[c]=d});q&&(n(m),n(l));return a}function bb(a){for(var b=-1,c=pa(a),e=c.length,h=J(e);++b<e;)h[b]=a[c[b]];return h}function cb(a,b,c){var e=-1,h=ca(),g=a?a.length:0,d=!1;c=(0>c?ta(0,g+c):c)||0;g&&"number"==typeof g?d=-1<(Na(a)?a.indexOf(b,c):h(a,b,c)):V(a,function(a){if(++e>=c)return!(d=a===b)});return d}
function Kb(a,b,c){var e=!0;b=f.createCallback(b,c);c=-1;var h=a?a.length:0;if("number"==typeof h)for(;++c<h&&(e=!!b(a[c],c,a)););else V(a,function(a,c,h){return e=!!b(a,c,h)});return e}function db(a,b,c){var e=[];b=f.createCallback(b,c);c=-1;var h=a?a.length:0;if("number"==typeof h)for(;++c<h;){var g=a[c];b(g,c,a)&&e.push(g)}else V(a,function(a,c,h){b(a,c,h)&&e.push(a)});return e}function ub(a,b,c){b=f.createCallback(b,c);c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var h=a[c];if(b(h,
c,a))return h}else{var g;V(a,function(a,c,e){if(b(a,c,e))return g=a,!1});return g}}function Q(a,b,c){var e=-1,h=a?a.length:0;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);if("number"==typeof h)for(;++e<h&&!1!==b(a[e],e,a););else V(a,b);return a}function Va(a,b,c){var e=-1,h=a?a.length:0;b=f.createCallback(b,c);if("number"==typeof h)for(var g=J(h);++e<h;)g[e]=b(a[e],e,a);else g=[],V(a,function(a,c,h){g[++e]=b(a,c,h)});return g}function Ca(a,c,e){var h=-Infinity,g=h;if(!c&&oa(a)){e=-1;for(var d=
a.length;++e<d;){var k=a[e];k>g&&(g=k)}}else c=!c&&Na(a)?b:f.createCallback(c,e),Q(a,function(a,b,e){b=c(a,b,e);b>h&&(h=b,g=a)});return g}function Wa(a,b){var c=-1,e=a?a.length:0;if("number"==typeof e)for(var h=J(e);++c<e;)h[c]=a[c][b];return h||Va(a,b)}function Xa(a,b,c,e){if(!a)return c;var h=3>arguments.length;b=f.createCallback(b,e,4);var g=-1,d=a.length;if("number"==typeof d)for(h&&(c=a[++g]);++g<d;)c=b(c,a[g],g,a);else V(a,function(a,e,g){c=h?(h=!1,a):b(c,a,e,g)});return c}function Lb(a,b,c,
e){var h=a?a.length:0,g=3>arguments.length;if("number"!=typeof h)var d=pa(a),h=d.length;b=f.createCallback(b,e,4);Q(a,function(e,k,f){k=d?d[--h]:--h;c=g?(g=!1,a[k]):b(c,a[k],k,f)});return c}function Mb(a,b,c){var e;b=f.createCallback(b,c);c=-1;var h=a?a.length:0;if("number"==typeof h)for(;++c<h&&!(e=b(a[c],c,a)););else V(a,function(a,c,h){return!(e=b(a,c,h))});return!!e}function vb(a){var b=-1,c=ca(),e=a?a.length:0,h=La.apply(L,U.call(arguments,1)),g=[],f=e>=x&&c===d;if(f){var n=k(h);n?(c=m,h=n):
f=!1}for(;++b<e;)n=a[b],0>c(h,n)&&g.push(n);f&&q(h);return g}function eb(a,b,c){if(a){var e=0,h=a.length;if("number"!=typeof b&&null!=b){var g=-1;for(b=f.createCallback(b,c);++g<h&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a[0];return p(a,0,ua(ta(0,e),h))}}function Nb(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?ta(0,e+c):c||0}else if(c)return c=Hb(a,b),a[c]===b?c:-1;return a?d(a,b,c):-1}function wb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,h=-1,g=a?a.length:0;for(b=f.createCallback(b,
c);++h<g&&b(a[h],h,a);)e++}else e=null==b||c?1:ta(0,b);return p(a,e)}function Hb(a,b,c,e){var h=0,g=a?a.length:h;c=c?f.createCallback(c,e,1):Ha;for(b=c(b);h<g;)e=h+g>>>1,c(a[e])<b?h=e+1:g=e;return h}function xb(a){for(var b=-1,c=a?Ca(Wa(a,"length")):0,e=J(0>c?0:c);++b<c;)e[b]=Wa(a,b);return e}function Ob(a,b){for(var c=-1,e=a?a.length:0,h={};++c<e;){var g=a[c];b?h[g]=b[c]:h[g[0]]=g[1]}return h}function Ya(a,b){return Eb.fastBind||aa&&2<arguments.length?aa.call.apply(aa,arguments):s(a,b,U.call(arguments,
2))}function Pb(a,b,c){function e(){ib(q);ib(p);n=0;q=p=null}function h(){var b=r&&(!t||1<n);e();b&&(!1!==l&&(m=new hb),k=a.apply(f,d))}function g(){e();if(r||l!==b)m=new hb,k=a.apply(f,d)}var d,k,f,n=0,m=0,l=!1,q=null,p=null,r=!0;b=ta(0,b||0);if(!0===c)var t=!0,r=!1;else ka(c)&&(t=c.leading,l="maxWait"in c&&ta(b,c.maxWait||0),r="trailing"in c?c.trailing:r);return function(){d=arguments;f=this;n++;ib(p);if(!1===l)t&&2>n&&(k=a.apply(f,d));else{var c=new hb;q||t||(m=c);var e=l-(c-m);0>=e?(ib(q),q=null,
m=c,k=a.apply(f,d)):q||(q=kb(g,e))}b!==l&&(p=kb(h,b));return k}}function yb(a){var b=U.call(arguments,1);return kb(function(){a.apply(u,b)},1)}function Ha(a){return a}function fb(a){Q(ab(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=this.__wrapped__,b=[a];jb.apply(b,arguments);b=c.apply(f,b);return a&&"object"==typeof a&&a===b?this:new v(b)}})}function gb(){return this.__wrapped__}a=a?Ia.defaults(window.Object(),a,Ia.pick(window,rb)):window;var J=a.Array,Ka=a.Boolean,hb=a.Date,Pa=
a.Function,sa=a.Math,zb=a.Number,Oa=a.Object,Ab=a.RegExp,K=a.String,Bb=a.TypeError,L=[],xa=Oa.prototype,Da=a._,qa=Ab("^"+K(xa.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Cb=sa.ceil,ib=a.clearTimeout,La=L.concat,Qb=sa.floor,Rb=Pa.prototype.toString,Ra=qa.test(Ra=Oa.getPrototypeOf)&&Ra,T=xa.hasOwnProperty,jb=L.push,Sa=a.setImmediate,kb=a.setTimeout,da=xa.toString,aa=qa.test(aa=da.bind)&&aa,Qa=qa.test(Qa=Oa.create)&&Qa,Db=qa.test(Db=J.isArray)&&Db,Wb=a.isFinite,
Sb=a.isNaN,lb=qa.test(lb=Oa.keys)&&lb,ta=sa.max,ua=sa.min,va=a.parseInt,mb=sa.random,U=L.slice,sa=qa.test(a.attachEvent),sa=aa&&!/\n|true/.test(aa+sa),za={};za[D]=J;za[ga]=Ka;za[ha]=hb;za[z]=Pa;za[ia]=Oa;za[Ea]=zb;za[la]=Ab;za[Fa]=K;v.prototype=f.prototype;var Eb=f.support={};Eb.fastBind=aa&&!sa;f.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:S,variable:"",imports:{_:f}};var oa=Db,Ka=function(a){var b,c=[];if(!a||!O[typeof a])return c;for(b in a)T.call(a,b)&&c.push(b);
return c},pa=lb?function(a){return ka(a)?lb(a):[]}:Ka,Tb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ub=Jb(Tb),nb=function(a,b,c){var e,h=a,g=h;if(!h)return g;var d=arguments,k=0,n="number"==typeof c?2:d.length;if(3<n&&"function"==typeof d[n-2])var m=f.createCallback(d[--n-1],d[n--],2);else 2<n&&"function"==typeof d[n-1]&&(m=d[--n]);for(;++k<n;)if((h=d[k])&&O[typeof h])for(var l=-1,q=O[typeof h]&&pa(h),p=q?q.length:0;++l<p;)e=q[l],g[e]=m?m(g[e],h[e]):h[e];return g},ob=function(a,
b,c){var e,h=a,g=h;if(!h)return g;for(var d=arguments,k=0,f="number"==typeof c?2:d.length;++k<f;)if((h=d[k])&&O[typeof h])for(var n=-1,m=O[typeof h]&&pa(h),l=m?m.length:0;++n<l;)e=m[n],"undefined"==typeof g[e]&&(g[e]=h[e]);return g},ya=function(a,b,c){var e;if(!a||!O[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(e in a)if(!1===b(a[e],e,a))break;return a},V=function(a,b,c){if(!a||!O[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(var e=-1,h=O[typeof a]&&
pa(a),g=h?h.length:0;++e<g&&(c=h[e],!1!==b(a[c],c,a)););return a},Vb=function(a){if(!a||da.call(a)!=ia)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Ra(b))&&Ra(c);return c?a==c||Ra(a)==c:Yb(a)},Ka=Ua(function B(a,b,c){for(var e=-1,h=a?a.length:0,g=[];++e<h;){var d=a[e];c&&(d=c(d,e,a));oa(d)?jb.apply(g,b?d:B(d)):g.push(d)}return g}),pb=Ua(function(a,b,c){var h=-1,g=ca(),f=a?a.length:0,l=[],p=!b&&f>=x&&g===d,r=c||p?e():l;if(p){var t=k(r);t?(g=m,r=t):(p=!1,r=c?r:(n(r),l))}for(;++h<f;){var t=a[h],
v=c?c(t,h,a):t;if(b?!h||r[r.length-1]!==v:0>g(r,v))(c||p)&&r.push(v),l.push(t)}p?(n(r.array),q(r)):c&&n(r);return l});sa&&sb&&"function"==typeof Sa&&(yb=Ya(Sa,a));Sa=8==va(ma+"08")?va:function(a,b){return va(Na(a)?a.replace(H,""):a,b||0)};f.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};f.assign=nb;f.at=function(a){for(var b=-1,c=La.apply(L,U.call(arguments,1)),e=c.length,h=J(e);++b<e;)h[b]=a[c[b]];return h};f.bind=Ya;f.bindAll=function(a){for(var b=1<arguments.length?
La.apply(L,U.call(arguments,1)):ab(a),c=-1,e=b.length;++c<e;){var h=b[c];a[h]=Ya(a[h],a)}return a};f.bindKey=function(a,b){return s(a,b,U.call(arguments,2),y)};f.compact=function(a){for(var b=-1,c=a?a.length:0,e=[];++b<c;){var h=a[b];h&&e.push(h)}return e};f.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};f.countBy=function(a,b,c){var e={};b=f.createCallback(b,c);Q(a,function(a,c,h){c=K(b(a,c,h));T.call(e,c)?e[c]++:e[c]=
1});return e};f.createCallback=function(a,b,c){if(null==a)return Ha;var e=typeof a;if("function"!=e){if("object"!=e)return function(b){return b[a]};var h=pa(a);return function(b){for(var c=h.length,e=!1;c--&&(e=Ja(b[h[c]],a[h[c]],y)););return e}}return"undefined"==typeof b||I&&!I.test(Rb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,e){return a.call(b,c,e)}:4===c?function(c,e,h,g){return a.call(b,c,e,h,g)}:function(c,e,h){return a.call(b,c,e,h)}};f.debounce=Pb;f.defaults=ob;f.defer=
yb;f.delay=function(a,b){var c=U.call(arguments,2);return kb(function(){a.apply(u,c)},b)};f.difference=vb;f.filter=db;f.flatten=Ka;f.forEach=Q;f.forIn=ya;f.forOwn=V;f.functions=ab;f.groupBy=function(a,b,c){var e={};b=f.createCallback(b,c);Q(a,function(a,c,h){c=K(b(a,c,h));(T.call(e,c)?e[c]:e[c]=[]).push(a)});return e};f.initial=function(a,b,c){if(!a)return[];var e=0,h=a.length;if("number"!=typeof b&&null!=b){var g=h;for(b=f.createCallback(b,c);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return p(a,
0,ua(ta(0,h-e),h))};f.intersection=function(a){for(var b=arguments,c=b.length,h=-1,g=e(),f=-1,l=ca(),p=a?a.length:0,r=[],t=e();++h<c;){var v=b[h];g[h]=l===d&&(v?v.length:0)>=x&&k(h?b[h]:t)}a:for(;++f<p;){var y=g[0],v=a[f];if(0>(y?m(y,v):l(t,v))){h=c;for((y||t).push(v);--h;)if(y=g[h],0>(y?m(y,v):l(b[h],v)))continue a;r.push(v)}}for(;c--;)(y=g[c])&&q(y);n(g);n(t);return r};f.invert=Jb;f.invoke=function(a,b){var c=U.call(arguments,2),e=-1,h="function"==typeof b,g=a?a.length:0,d=J("number"==typeof g?
g:0);Q(a,function(a){d[++e]=(h?b:a[b]).apply(a,c)});return d};f.keys=pa;f.map=Va;f.max=Ca;f.memoize=function(a,b){function c(){var e=c.cache,h=w+(b?b.apply(this,arguments):arguments[0]);return T.call(e,h)?e[h]:e[h]=a.apply(this,arguments)}c.cache={};return c};f.merge=Ga;f.min=function(a,c,e){var h=Infinity,g=h;if(!c&&oa(a)){e=-1;for(var d=a.length;++e<d;){var k=a[e];k<g&&(g=k)}}else c=!c&&Na(a)?b:f.createCallback(c,e),Q(a,function(a,b,e){b=c(a,b,e);b<h&&(h=b,g=a)});return g};f.omit=function(a,b,c){var e=
ca(),h="function"==typeof b,g={};if(h)b=f.createCallback(b,c);else var d=La.apply(L,U.call(arguments,1));ya(a,function(a,c,k){if(h?!b(a,c,k):0>e(d,c))g[c]=a});return g};f.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};f.pairs=function(a){for(var b=-1,c=pa(a),e=c.length,h=J(e);++b<e;){var g=c[b];h[b]=[g,a[g]]}return h};f.partial=function(a){return s(a,U.call(arguments,1))};f.partialRight=function(a){return s(a,U.call(arguments,1),null,y)};
f.pick=function(a,b,c){var e={};if("function"!=typeof b)for(var h=-1,g=La.apply(L,U.call(arguments,1)),d=ka(a)?g.length:0;++h<d;){var k=g[h];k in a&&(e[k]=a[k])}else b=f.createCallback(b,c),ya(a,function(a,c,h){b(a,c,h)&&(e[c]=a)});return e};f.pluck=Wa;f.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var e=-1;b=ta(0,Cb((b-a)/c));for(var h=J(b);++e<b;)h[e]=a,a+=c;return h};f.reject=function(a,b,c){b=f.createCallback(b,c);return db(a,function(a,c,e){return!b(a,c,e)})};f.rest=wb;f.shuffle=
function(a){var b=-1,c=a?a.length:0,e=J("number"==typeof c?c:0);Q(a,function(a){var c=Qb(mb()*(++b+1));e[b]=e[c];e[c]=a});return e};f.sortBy=function(a,b,c){var e=-1,d=a?a.length:0,k=J("number"==typeof d?d:0);b=f.createCallback(b,c);Q(a,function(a,c,g){var d=k[++e]=h();d.criteria=b(a,c,g);d.index=e;d.value=a});d=k.length;for(k.sort(g);d--;)a=k[d],k[d]=a.value,q(a);return k};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,c){var e=!0,g=!0;!1===c?e=!1:ka(c)&&(e="leading"in c?c.leading:e,
g="trailing"in c?c.trailing:g);c=h();c.leading=e;c.maxWait=b;c.trailing=g;a=Pb(a,b,c);q(c);return a};f.times=function(a,b,c){a=-1<(a=+a)?a:0;var e=-1,h=J(a);for(b=f.createCallback(b,c,1);++e<a;)h[e]=b(e);return h};f.toArray=function(a){return a&&"number"==typeof a.length?p(a):bb(a)};f.transform=function(a,b,c,e){var h=oa(a);b=f.createCallback(b,e,4);null==c&&(h?c=[]:(e=(e=a&&a.constructor)&&e.prototype,c=ka(e)?Qa(e):{}));(h?Q:V)(a,function(a,e,h){return b(c,a,e,h)});return c};f.union=function(a){oa(a)||
(arguments[0]=a?U.call(a):L);return pb(La.apply(L,arguments))};f.uniq=pb;f.unzip=xb;f.values=bb;f.where=db;f.without=function(a){return vb(a,U.call(arguments,1))};f.wrap=function(a,b){return function(){var c=[a];jb.apply(c,arguments);return b.apply(this,c)}};f.zip=function(a){return a?xb(arguments):[]};f.zipObject=Ob;f.collect=Va;f.drop=wb;f.each=Q;f.extend=nb;f.methods=ab;f.object=Ob;f.select=db;f.tail=wb;f.unique=pb;fb(f);f.chain=f;f.prototype.chain=function(){return this};f.clone=tb;f.cloneDeep=
function(a,b,c){return tb(a,!0,b,c)};f.contains=cb;f.escape=function(a){return null==a?"":K(a).replace(Ba,C)};f.every=Kb;f.find=ub;f.findIndex=function(a,b,c){var e=-1,h=a?a.length:0;for(b=f.createCallback(b,c);++e<h;)if(b(a[e],e,a))return e;return-1};f.findKey=function(a,b,c){var e;b=f.createCallback(b,c);V(a,function(a,c,h){if(b(a,c,h))return e=c,!1});return e};f.has=function(a,b){return a?T.call(a,b):!1};f.identity=Ha;f.indexOf=Nb;f.isArguments=function(a){return da.call(a)==ba};f.isArray=oa;f.isBoolean=
function(a){return!0===a||!1===a||da.call(a)==ga};f.isDate=function(a){return a?"object"==typeof a&&da.call(a)==ha:!1};f.isElement=function(a){return a?1===a.nodeType:!1};f.isEmpty=function(a){var b=!0;if(!a)return b;var c=da.call(a),e=a.length;if(c==D||c==Fa||c==ba||c==ia&&"number"==typeof e&&na(a.splice))return!e;V(a,function(){return b=!1});return b};f.isEqual=Ja;f.isFinite=function(a){return Wb(a)&&!Sb(parseFloat(a))};f.isFunction=na;f.isNaN=function(a){return Gb(a)&&a!=+a};f.isNull=function(a){return null===
a};f.isNumber=Gb;f.isObject=ka;f.isPlainObject=Vb;f.isRegExp=function(a){return a?"object"==typeof a&&da.call(a)==la:!1};f.isString=Na;f.isUndefined=function(a){return"undefined"==typeof a};f.lastIndexOf=function(a,b,c){var e=a?a.length:0;for("number"==typeof c&&(e=(0>c?ta(0,e+c):ua(c,e-1))+1);e--;)if(a[e]===b)return e;return-1};f.mixin=fb;f.noConflict=function(){a._=Da;return this};f.parseInt=Sa;f.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=mb();return a%
1||b%1?a+ua(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Qb(c*(b-a+1))};f.reduce=Xa;f.reduceRight=Lb;f.result=function(a,b){var c=a?a[b]:u;return na(c)?a[b]():c};f.runInContext=t;f.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:pa(a).length};f.some=Mb;f.sortedIndex=Hb;f.template=function(a,b,e){var h=f.templateSettings;a||(a="");e=ob({},e,h);var g=ob({},e.imports,h.imports),h=pa(g),g=bb(g),d,k=0,n=e.interpolate||Aa,m="__p += '",n=Ab((e.escape||Aa).source+"|"+n.source+"|"+(n===
S?W:Aa).source+"|"+(e.evaluate||Aa).source+"|$","g");a.replace(n,function(b,e,h,g,f,n){h||(h=g);m+=a.slice(k,n).replace(Za,c);e&&(m+="' +\n__e("+e+") +\n'");f&&(d=!0,m+="';\n"+f+";\n__p += '");h&&(m+="' +\n((__t = ("+h+")) == null ? '' : __t) +\n'");k=n+b.length;return b});var m=m+"';\n",l=n=e.variable;l||(n="obj",m="with ("+n+") {\n"+m+"\n}\n");m=(d?m.replace(A,""):m).replace(N,"$1").replace(ea,"$1;");m="function("+n+") {\n"+(l?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(d?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+m+"return __p\n}";e="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+X++ +"]")+"\n*/";try{var q=Pa(h,"return "+m+e).apply(u,g)}catch(p){throw p.source=m,p;}if(b)return q(b);q.source=m;return q};f.unescape=function(a){return null==a?"":K(a).replace($,Zb)};f.uniqueId=function(a){var b=++r;return K(null==a?"":a)+b};f.all=Kb;f.any=Mb;f.detect=ub;f.findWhere=ub;f.foldl=Xa;f.foldr=Lb;f.include=cb;f.inject=Xa;V(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(){var b=[this.__wrapped__];
jb.apply(b,arguments);return a.apply(f,b)})});f.first=eb;f.last=function(a,b,c){if(a){var e=0,h=a.length;if("number"!=typeof b&&null!=b){var g=h;for(b=f.createCallback(b,c);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a[h-1];return p(a,ta(0,h-e))}};f.take=eb;f.head=eb;V(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(b,c){var e=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?e:new v(e)})});f.VERSION="1.3.1";f.prototype.toString=function(){return K(this.__wrapped__)};
f.prototype.value=gb;f.prototype.valueOf=gb;Q(["join","pop","shift"],function(a){var b=L[a];f.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});Q(["push","reverse","sort","unshift"],function(a){var b=L[a];f.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});Q(["concat","slice","splice"],function(a){var b=L[a];f.prototype[a]=function(){return new v(b.apply(this.__wrapped__,arguments))}});return f}var u,v=[],s=[],r=0,y={},w=+new Date+"",x=75,C=40,A=/\b__p \+= '';/g,
N=/\b(__p \+=) '' \+/g,ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,W=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,E=/\w*$/,S=/<%=([\s\S]+?)%>/g,I=(I=/\bthis\b/)&&I.test(t)&&I,ma=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",H=RegExp("^["+ma+"]*0+(?=.$)"),Aa=/($^)/,Ba=/[&<>"']/g,Za=/['\n\r\t\u2028\u2029\\]/g,rb="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
X=0,ba="[object Arguments]",D="[object Array]",ga="[object Boolean]",ha="[object Date]",z="[object Function]",Ea="[object Number]",ia="[object Object]",la="[object RegExp]",Fa="[object String]",ja={};ja[z]=!1;ja[ba]=ja[D]=ja[ga]=ja[ha]=ja[Ea]=ja[ia]=ja[la]=ja[Fa]=!0;var O={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ua={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ca=O[typeof exports]&&exports,sb=O[typeof module]&&module&&module.exports==
ca&&module,ca=O[typeof global]&&global;!ca||ca.global!==ca&&ca.window!==ca||(window=ca);var Ia=f._=t();f.each(Ia,function(a,b){Object.hasOwnProperty.call(Ia,a)&&!/VERSION/.test(name)&&(f[a]||(f[a]=b))})});
FD31.plugin("bootstrap",function(f){!function(d){d(function(){var f=d.support,a;a:{a=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in b)if(void 0!==a.style[g]){a=b[g];break a}a=void 0}f.transition=a&&{end:a}})}(f);!function(d){var f=function(a){d(a).on("click",'[data-foundry-dismiss="alert"]',this.close)};f.prototype.close=function(a){function b(){c.trigger("closed").remove()}
var g=d(this),k=g.attr("data-target"),c;k||(k=(k=g.attr("href"))&&k.replace(/.*(?=#[^\s]*$)/,""));c=d(k);a&&a.preventDefault();c.length||(c=g.hasClass("alert")?g:g.parent());c.trigger(a=d.Event("close"));a.isDefaultPrevented()||(c.removeClass("in"),d.support.transition&&c.hasClass("fade")?c.on(d.support.transition.end,b):b())};d.fn.alert=function(a){return this.each(function(){var b=d(this),g=b.data("alert");g||b.data("alert",g=new f(this));"string"==typeof a&&g[a].call(b)})};d.fn.alert.Constructor=
f;d(document).on("click.alert.data-api",'[data-foundry-dismiss="alert"]',f.prototype.close)}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.button.defaults,b)};f.prototype.setState=function(a){var b=this.$element,g=b.data(),d=b.is("input")?"val":"html";a+="Text";g.resetText||b.data("resetText",b[d]());b[d](g[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},
0)};f.prototype.toggle=function(){var a=this.$element.closest('[data-foundry-toggle="buttons-radio"]');a.hasClass("disabled")||(a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active"))};d.fn.button=function(a){return this.each(function(){var b=d(this),g=b.data("button"),k="object"==typeof a&&a;g||b.data("button",g=new f(this,k));"toggle"==a?g.toggle():a&&g.setState(a)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=f;d(document).on("click.button.data-api",
"[data-foundry-toggle^=button]",function(a){a=d(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=b;this.options.slide&&this.slide(this.options.slide);"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};f.prototype={cycle:function(a){a||(this.paused=!1);this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,
this),this.options.interval));return this},to:function(a){var b=this.$element.find(".item.active"),g=b.parent().children(),b=g.index(b),k=this;if(!(a>g.length-1||0>a))return this.sliding?this.$element.one("slid",function(){k.to(a)}):b==a?this.pause().cycle():this.slide(a>b?"next":"prev",d(g[a]))},pause:function(a){a||(this.paused=!0);this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle());clearInterval(this.interval);this.interval=
null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(a,b){var g=this.$element.find(".item.active"),k=b||g[a](),c=this.interval,e="next"==a?"left":"right",h="next"==a?"first":"last",f=this;this.sliding=!0;c&&this.pause();k=k.length?k:this.$element.find(".item")[h]();h=d.Event("slide",{relatedTarget:k[0]});if(!k.hasClass("active")){if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);
if(h.isDefaultPrevented())return;k.addClass(a);k[0].offsetWidth;g.addClass(e);k.addClass(e);this.$element.one(d.support.transition.end,function(){k.removeClass([a,e].join(" ")).addClass("active");g.removeClass(["active",e].join(" "));f.sliding=!1;setTimeout(function(){f.$element.trigger("slid")},0)})}else{this.$element.trigger(h);if(h.isDefaultPrevented())return;g.removeClass("active");k.addClass("active");this.sliding=!1;this.$element.trigger("slid")}c&&this.cycle();return this}}};d.fn.carousel=
function(a){return this.each(function(){var b=d(this),g=b.data("carousel"),k=d.extend({},d.fn.carousel.defaults,"object"==typeof a&&a),c="string"==typeof a?a:k.slide;g||b.data("carousel",g=new f(this,k));if("number"==typeof a)g.to(a);else if(c)g[c]();else k.interval&&g.cycle()})};d.fn.carousel.defaults={interval:5E3,pause:"hover"};d.fn.carousel.Constructor=f;d(document).on("click.carousel.data-api","[data-foundry-slide]",function(a){var b=d(this),g,k=d(b.attr("data-target")||(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,
"")),b=d.extend({},k.data(),b.data());k.carousel(b);a.preventDefault()})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.collapse.defaults,b);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,b,g,k;if(!this.transitioning){a=this.dimension();b=d.camelCase(["scroll",a].join("-"));if((g=this.$parent&&
this.$parent.find("> .accordion-group > .in"))&&g.length){if((k=g.data("collapse"))&&k.transitioning)return;g.collapse("hide");k||g.data("collapse",null)}this.$element[a](0);d.support.transition&&this.$element[a](this.$element[0][b]);this.transition("addClass",d.Event("bootstrap-show"),"shown")}},hide:function(){var a;this.transitioning||(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",d.Event("bootstrap-hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=
this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth;this.$element[null!==a?"addClass":"removeClass"]("collapse");return this},transition:function(a,b,g){var k=this,c=function(){"bootstrap-show"==b.type&&k.reset();k.transitioning=0;k.$element.trigger(g)};this.$element.trigger(b);b.isDefaultPrevented()||(this.transitioning=1,this.$element[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,c):c())},toggle:function(){this[this.$element.hasClass("in")?
"hide":"show"]()}};d.fn.collapse=function(a){return this.each(function(){var b=d(this),g=b.data("collapse"),k="object"==typeof a&&a;g||b.data("collapse",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=f;d(document).on("click.collapse.data-api","[data-foundry-toggle=collapse]",function(a){var b=d(this),g;a=b.attr("data-target")||a.preventDefault()||(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");g=d(a).data("collapse")?"toggle":b.data();
b[d(a).hasClass("in")?"addClass":"removeClass"]("collapsed");d(a).collapse(g)})}(f);!function(d){function f(g){d(b).each(function(){var b=a(d(this)),e=b.hasClass("open");b.removeClass("open");e&&b.trigger("dropdownClose",[g.target])})}function a(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));b=d(b);b.length||(b=a.parent());return b}var b="[data-foundry-toggle=dropdown]",g=function(a){var b=d(a).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",
function(){b.parent().removeClass("open")})};g.prototype={constructor:g,toggle:function(b){var c=d(this),e,h;if(!c.is(".disabled, :disabled"))return e=a(c),h=e.hasClass("open"),f(b),h||(e.toggleClass("open"),e.trigger("dropdownOpen",[b.target]),c.focus()),!1},keydown:function(b){var c,e,h;if(/(38|40|27)/.test(b.keyCode)&&(c=d(this),b.preventDefault(),b.stopPropagation(),!c.is(".disabled, :disabled"))){e=a(c);h=e.hasClass("open");if(!h||h&&27==b.keyCode)return c.click();c=d("[role=menu] li:not(.divider) a",
e);c.length&&(e=c.index(c.filter(":focus")),38==b.keyCode&&0<e&&e--,40==b.keyCode&&e<c.length-1&&e++,~e||(e=0),c.eq(e).focus())}}};d.fn.dropdown=function(a){return this.each(function(){var b=d(this),e=b.data("dropdown");e||b.data("dropdown",e=new g(this));"string"==typeof a&&e[a].call(b)})};d.fn.dropdown.Constructor=g;d(document).on("click.dropdown.data-api",f).on("click.dropdown",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,g.prototype.toggle).on("keydown.dropdown.data-api",
b+", [role=menu]",g.prototype.keydown)}(f);!function(d){var f=function(a,b){this.options=b;this.$element=d(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,b=d.Event("show");this.$element.trigger(b);this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var b=
d.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body);a.$element.show();b&&a.$element[0].offsetWidth;a.$element.addClass("in").attr("aria-hidden",!1).focus();a.enforceFocus();b?a.$element.one(d.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")}))},hide:function(a){a&&a.preventDefault();a=d.Event("hide");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,
this.escape(),d(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;d(document).on("focusin.modal",function(b){a.$element[0]===b.target||a.$element.has(b.target).length||a.$element.focus()})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()});
else this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,b=setTimeout(function(){a.$element.off(d.support.transition.end);a.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(b);a.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var g=d.support.transition&&b;this.$backdrop=d('<div class="modal-backdrop '+b+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this));g&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");g?this.$backdrop.one(d.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,
d.proxy(this.removeBackdrop,this)):this.removeBackdrop()):a&&a()}};d.fn.modal=function(a){return this.each(function(){var b=d(this),g=b.data("modal"),k=d.extend({},d.fn.modal.defaults,b.data(),"object"==typeof a&&a);g||b.data("modal",g=new f(this,k));if("string"==typeof a)g[a]();else k.show&&g.show()})};d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};d.fn.modal.Constructor=f;d(document).on("click.modal.data-api",'[data-foundry-toggle="modal"]',function(a){var b=d(this),g=b.attr("href"),k=d(b.attr("data-target")||
g&&g.replace(/.*(?=#[^\s]+$)/,"")),g=k.data("modal")?"toggle":d.extend({remote:!/#/.test(g)&&g},k.data(),b.data());a.preventDefault();k.modal(g).one("hide",function(){b.focus()})})}(f);!function(d){var f=function(a,b){this.init("tooltip",a,b)};f.prototype={constructor:f,init:function(a,b,g){this.type=a;this.$element=d(b);this.options=this.getOptions(g);this.enabled=!0;if("click"==this.options.trigger)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else"manual"!=
this.options.trigger&&(a="hover"==this.options.trigger?"mouseenter":"focus",b="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,a,this.$element.data());a.delay&&"number"==
typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();
b.hoverState="out";this.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)},show:function(){var a,b,g,k,c,e,h;if(this.hasContent()&&this.enabled){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");e="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;b=/in/.test(e);a.detach().css({top:0,left:0,display:"block"});switch(this.options.container||"parent"){case "parent":a.insertAfter(this.$element);
break;case "body":a.appendTo(document.body);break;default:g=d(this.options.container),g.length?a.appendTo(g):a.insertAfter(this.$element)}g=this.getPosition(b);k=a[0].offsetWidth;c=a[0].offsetHeight;switch(b?e.split(" ")[1]:e){case "bottom":h={top:g.top+g.height,left:g.left+g.width/2-k/2};break;case "top":h={top:g.top-c,left:g.left+g.width/2-k/2};break;case "left":h={top:g.top+g.height/2-c/2,left:g.left-k};break;case "right":h={top:g.top+g.height/2-c/2,left:g.left+g.width}}a.offset(h).addClass(e).addClass("in")}},
setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var a=setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(a);b.detach()})}var b=this.tip();b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();return this},fixTitle:function(){var a=this.$element;(a.attr("title")||
"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=
this.$tip||d(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=d(a.currentTarget)[this.type](this._options).data(this.type);a[a.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};d.fn.tooltip=function(a){return this.each(function(){var b=
d(this),g=b.data("tooltip"),k="object"==typeof a&&a;g||b.data("tooltip",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.tooltip.Constructor=f;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1,container:"parent"}}(f);!function(d){var f=function(a,b){this.init("popover",a,b)};f.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:f,
setContent:function(){var a=this.tip(),b=this.getTitle(),g=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content > *")[this.options.html?"html":"text"](g);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},tip:function(){this.$tip||(this.$tip=
d(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});d.fn.popover=function(a){return this.each(function(){var b=d(this),g=b.data("popover"),k="object"==typeof a&&a;g||b.data("popover",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.popover.Constructor=f;d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover popover-fd"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(f);
!function(d){function f(a,b){var g=d.proxy(this.process,this),k=d(a).is("body")?d(window):d(a),c;this.options=d.extend({},d.fn.scrollspy.defaults,b);this.$scrollElement=k.on("scroll.scroll-spy.data-api",g);this.selector=(this.options.target||(c=d(a).attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.refresh();this.process()}f.prototype={constructor:f,refresh:function(){var a=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).map(function(){var a=
d(this),a=a.data("target")||a.attr("href"),g=/^#\w/.test(a)&&d(a);return g&&g.length&&[[g.position().top,a]]||null}).sort(function(a,g){return a[0]-g[0]}).each(function(){a.offsets.push(this[0]);a.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),g=this.offsets,d=this.targets,c=this.activeTarget,e;if(a>=b)return c!=(e=d.last()[0])&&this.activate(e);for(e=
g.length;e--;)c!=d[e]&&a>=g[e]&&(!g[e+1]||a<=g[e+1])&&this.activate(d[e])},activate:function(a){this.activeTarget=a;d(this.selector).parent(".active").removeClass("active");a=d(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parent("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));a.trigger("activate")}};d.fn.scrollspy=function(a){return this.each(function(){var b=d(this),g=b.data("scrollspy"),k="object"==typeof a&&a;
g||b.data("scrollspy",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.scrollspy.Constructor=f;d.fn.scrollspy.defaults={offset:10};d(window).on("load",function(){d('[data-foundry-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(f);!function(d){var f=function(a){this.element=d(a)};f.prototype={constructor:f,show:function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),g=a.attr("data-target"),k,c;g||(g=(g=a.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));a.parent("li").hasClass("active")||
(k=b.find(".active:last a")[0],c=d.Event("show",{relatedTarget:k}),a.trigger(c),c.isDefaultPrevented()||(g=d(g),this.activate(a.parent("li"),b),this.activate(g,g.parent(),function(){a.trigger({type:"shown",relatedTarget:k})})))},activate:function(a,b,g){function k(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");a.addClass("active");e?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active");
g&&g()}var c=b.find("> .active"),e=g&&d.support.transition&&c.hasClass("fade");e?c.one(d.support.transition.end,k):k();c.removeClass("in")}};d.fn.tab=function(a){return this.each(function(){var b=d(this),g=b.data("tab");g||b.data("tab",g=new f(this));if("string"==typeof a)g[a]()})};d.fn.tab.Constructor=f;d(document).on("click.tab.data-api",'[data-foundry-toggle="tab"], [data-foundry-toggle="pill"]',function(a){a.preventDefault();d(this).tab("show")})}(f);!function(d){var f=function(a,b){this.$element=
d(a);this.options=d.extend({},d.fn.typeahead.defaults,b);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=d(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=!1;this.listen()};f.prototype={constructor:f,select:function(){var a=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(a)).change();
return this.hide()},updater:function(a){return a},show:function(){var a=d.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:a.top+a.height,left:a.left});this.$menu.show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(a){this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(a=d.isFunction(this.source)?this.source(this.query,d.proxy(this.process,
this)):this.source)?this.process(a):this},process:function(a){var b=this;a=d.grep(a,function(a){return b.matcher(a)});a=this.sorter(a);return a.length?this.render(a.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b=[],g=[],d=[],c;c=a.shift();)c.toLowerCase().indexOf(this.query.toLowerCase())?~c.indexOf(this.query)?g.push(c):d.push(c):b.push(c);return b.concat(g,d)},highlighter:function(a){var b=
this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var b=this;a=d(a).map(function(a,k){a=d(b.options.item).attr("data-value",k);a.find("a").html(b.highlighter(k));return a[0]});a.first().addClass("active");this.$menu.html(a);return this},next:function(a){a=this.$menu.find(".active").removeClass("active").next();a.length||(a=d(this.$menu.find("li")[0]));a.addClass("active")},prev:function(a){a=
this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",d.proxy(this.keydown,this));this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",d.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;
b||(this.$element.setAttribute(a,"return;"),b="function"===typeof this.$element[a]);return b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=!~d.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;
case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active");d(a.currentTarget).addClass("active")}};d.fn.typeahead=function(a){return this.each(function(){var b=d(this),g=b.data("typeahead"),
k="object"==typeof a&&a;g||b.data("typeahead",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};d.fn.typeahead.Constructor=f;d(document).on("focus.typeahead.data-api",'[data-foundry-provide="typeahead"]',function(a){var b=d(this);b.data("typeahead")||(a.preventDefault(),b.typeahead(b.data()))})}(f);!function(d){var f=function(a,b){this.options=d.extend({},d.fn.affix.defaults,
b);this.$window=d(window).on("scroll.affix.data-api",d.proxy(this.checkPosition,this)).on("click.affix.data-api",d.proxy(function(){setTimeout(d.proxy(this.checkPosition,this),1)},this));this.$element=d(a);this.checkPosition()};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=d(document).height(),b=this.$window.scrollTop(),g=this.$element.offset(),k=this.options.offset,c=k.bottom,e=k.top;"object"!=typeof k&&(c=e=k);"function"==typeof e&&(e=k.top());"function"==typeof c&&
(c=k.bottom());a=null!=this.unpin&&b+this.unpin<=g.top?!1:null!=c&&g.top+this.$element.height()>=a-c?"bottom":null!=e&&b<=e?"top":!1;this.affixed!==a&&(this.affixed=a,this.unpin="bottom"==a?g.top-b:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(a?"-"+a:"")))}};d.fn.affix=function(a){return this.each(function(){var b=d(this),g=b.data("affix"),k="object"==typeof a&&a;g||b.data("affix",g=new f(this,k));if("string"==typeof a)g[a]()})};d.fn.affix.Constructor=f;d.fn.affix.defaults=
{offset:0};d(window).on("load",function(){d('[data-foundry-spy="affix"]').each(function(){var a=d(this),b=a.data();b.offset=b.offset||{};b.offsetBottom&&(b.offset.bottom=b.offsetBottom);b.offsetTop&&(b.offset.top=b.offsetTop);a.affix(b)})})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.$note=d('<div class="alert"></div>');this.options=d.extend(!0,d.fn.notify.defaults,b);this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):
this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in");this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success");this.options.message||""===this.$element.data("message")?"object"===typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message"));
if(this.options.closable)var g=d('<a class="close pull-right" href="javascript: void(0);">&times;</a>');d(g).on("click",d.proxy(onClose,this));this.$note.prepend(g);return this};onClose=function(){this.options.onClose();d(this.$note).remove();this.options.onClosed()};f.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this));this.$element.append(this.$note);this.$note.alert()};f.prototype.hide=function(){this.options.fadeOut.enabled?
this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this)):onClose.call(this)};d.fn.notify=function(a){return new f(this,a)};d.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3E3},message:null,onClose:function(){},onClosed:function(){}}}(f)});
FD31.plugin("responsive",function(f){f.responsive=function(b,g){return new a(b,g)};f.fn.responsive=function(a){if(a){var g=this;f.responsive(g,{elementWidth:function(){return g.outerWidth(!0)},conditions:a})}return this};var d=f(window),m=f.isFunction,a=function(a,g){var k=this;a=f(a);var c=a.data("$responsive");c&&c.destroy();f.extend(k,{elem:a,options:g,conditions:f.sortBy(f.makeArray(g.conditions),function(a){return a.at}),event:"resize.responsive"+f.uid(),handler:f.debounce(function(){k.set()},
250)});delete g.conditions;a.data("$responsive",k);f(function(){d.on(k.event,k.handler);k.set()});f(window).load(function(){k.set()})};f.extend(a.prototype,{set:function(){var a=this;a.removeCondition(a.currentCondition);var g=a.options.elementWidth,d=m(g)?g():g;f.each(a.conditions,function(c,e){if(d<=e.at)return a.applyCondition(e),!1})},applyCondition:function(a){var g,d,c,e;(g=a.switchTo)&&this.elem.addClass(g);(d=a.alsoSwitch)&&f.each(d,function(a,b){f(a).addClass(b)});(c=a.switchStylesheet)&&
f.each(f.makeArray(c),function(a,b){1>f('link[href$="'+b+'"]').length&&f("<link/>").attr({rel:"stylesheet",type:"text/css",href:b}).appendTo("head")});(e=a.whenApplied)&&m(e)&&e();this.currentCondition=a;this.elem.trigger("responsive",[a])},removeCondition:function(a){if(a){var g,d,c,e;(g=a.switchTo)&&this.elem.removeClass(g);(d=a.alsoSwitch)&&f.each(d,function(a,b){f(a).removeClass(b)});(c=a.switchStylesheet)&&f.each(f.makeArray(c),function(a,b){f('link[href$="'+b+'"]').remove()});(e=a.whenRemoved)&&
m(e)&&e()}},resetToDefault:function(a){f.each(this.conditions,function(g,d){a&&g==a||this.removeCondition(d)})},destroy:function(){d.off(this.event);this.removeCondition(this.currentCondition)}})});
FD31.plugin("utils",function(f){f.IE=function(){if(-1!=navigator.appVersion.indexOf("MSIE 10"))return 10;for(var d=3,f=document.createElement("div"),a=f.getElementsByTagName("i");d++,f.innerHTML="\x3c!--[if gt IE "+d+"]><i></i><![endif]--\x3e",a[0];);return 4<d?d:void 0}();f.uid=function(d,f){return(d?d:"")+Math.random().toString().replace(".","")+(f?f:"")};f.isDeferred=function(d){return d&&f.isFunction(d.always)};f.distinct=function(d){var m=f.unique;if(!(1>d.length)){if(d[0].nodeType)return m.apply(this,
arguments);if("object"==typeof d[0]){var a=Math.random(),b=[];f.each(d,function(g){d[g][a]||(b.push(d[g]),d[g][a]=!0)});f.each(b,function(g){delete b[g][a]});return b}return f.grep(d,function(a,b){return f.inArray(a,d)===b})}};f.trimSeparators=function(d,m,a){d=d.replace(RegExp("^["+m+"\\s]+|["+m+",\\s]+$","g"),"").replace(RegExp(m+"["+m+"\\s]*"+m,"g"),m).replace(RegExp("[\\s]+"+m,"g"),m).replace(RegExp(m+"[\\s]+","g"),m);a&&(d=f.distinct(d.split(m)).join(m));return d};f.isNumeric=function(d){return!isNaN(parseFloat(d))&&
isFinite(d)};f.Number={rotate:function(d,f,a,b){void 0===b&&(b=0);d+=b;d<f?d+=a+1:d>a&&(d-=a+1);return d}};f.fn.stretchToFit=function(){return f.each(this,function(){var d=f(this);d.css("width","100%").css("width",2*d.width()-d.outerWidth(!0)-parseInt(d.css("borderLeftWidth"))-parseInt(d.css("borderRightWidth")))})};f.fn.serializeObject=function(){var d={};f.each(f(this).serializeArray(),function(m,a){d.hasOwnProperty(a.name)?(f.isArray(d[a.name])||(d[a.name]=[d[a.name]]),d[a.name].push(a.value)):
d[a.name]=a.value});return d};f.fn.serializeJSON=function(){return JSON.stringify(f(this).serializeObject())};f.fn.toHTML=function(){return f("<div>").html(this).html()};(function(){var d=function(d){this.items=d;this.start=0;this.end=d.length-1;this.node=null;this.stopped=!1};f.extend(d.prototype,{isLooping:function(){return this.stopped?!1:1<Math.abs(this.start-this.end)?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(d){d?this.end=this.node-1:this.start=this.node+1},stop:function(){this.stop=
!0}});f.Bloop=function(f){return new d(f)}})();f.remap=function(d,m,a){f.each(a,function(a,g){d[g]=m[g]});return obj};f.deletes=function(d,m){f.each(m,function(a,b){delete d[b]})};(function(){var d=function(d){this.threads=[];this.threadCount=0;this.threadLimit=d.threadLimit||1;this.threadDelay=d.threadDelay||0};f.extend(d.prototype,{add:function(d,a){f.isFunction(d)&&(d.type=a||"normal","deferred"==a&&(d.deferred=f.Deferred().always(f.proxy(this.next,this))),this.threads.push(d),this.run())},addDeferred:function(d){return this.add(d,
"deferred")},next:function(){this.threadCount--;this.run()},run:function(){var d=this;setTimeout(function(){if(!(1>d.threads.length)&&d.threadCount<d.threadLimit){d.threadCount++;var a=d.threads.shift();try{a.call(a,a.deferred)}catch(b){console.error(b)}!a.deferred&&d.next()}},d.threadDelay)}});f.Threads=function(f){return new d(f)}})();(function(){var d=f.isFunction,m=function(){this.lastId=0};m.prototype.queue=function(a){var b=this,g=f.uid();b.lastId=g;return function(){if(b.lastId===g){var k=
arguments,k=d(a)?a.apply(this,k):k;return d(b.fn)?b.fn.apply(this,k):k}}};f.Enqueue=function(a){var b=new m;f.isFunction(a)&&(b.fn=a);a=f.proxy(b.queue,b);a.reset=function(){b.lastId=0};return a}})();(function(){var d=["on","off","fire"],m=function(a){this.fnList={};this.events={};this.mode=a};f.extend(m.prototype,{createEvent:function(a){return this.events[a]=f.Callbacks(this.mode)},on:function(a,b){if(!a||!f.isFunction(b))return this;var g=this.fnList;(g[a]||(g[a]=[])).push(b);g=a.split(".")[0];
(this.events[g]||this.createEvent(g)).add(b);return this},off:function(a){if(!a)return this;var b=a.split(".")[0],g=this.events[b];if(!g)return this;var d=function(a){f.each(a,function(a,b){g.remove(b)})};b!==a?f.each(this.fnList,function(a,e){-1<a.indexOf(b)&&d(e)}):d(this.fnList[a]);return this},fire:function(a){var b=this.events[a];if(b)return b.fire.apply(b,f.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()}});f.eventable=function(a,b){var g=
a.___eventable;if(g&&"destroy"===b)return g.destroy(),f.deletes(a,d),delete a.___eventable;g=a.___eventable=new m(b);a.on=f.proxy(g.on,g);a.off=f.proxy(g.off,g);a.fire=f.proxy(g.fire,g);return a}})();f.Chunk=function(d,m){f.isArray(d)&&(d=[]);m=f.extend({},{size:256,every:1E3},m);var a=f.extend(f.Deferred(),{size:m.size,every:m.every,from:0,to:d.length,process:function(b){a.process.fn=b;return a},chunkStart:function(b){a.chunkStart.fn=b;return a},chunkEnd:function(b){a.chunkEnd.fn=b;return a},start:function(){a.stopped=
!1;a.iterate();return a},iterate:function(){if(!a.stopped){var b=a.process.fn;if(b){a.to=from.size+a.size;var g=d.length;a.to>g&&(a.to=g);var g=a.from,k=a.to;for(a.chunkStart.fn&&a.chunkStart.fn.call(a,g,k);a.from<a.to&&!a.stopped;)b.call(a,d[a.from]),a.from++;a.chunkEnd.fn&&a.chunkEnd.fn.call(a,g,k);a.completed=a.from>=d.length-1;a.completed?a.resolveWith(a):a.nextIteration=setTimeout(a.iterate,a.every);return a}}},pause:function(){a.stopped=!0;clearTimeout(a.nextIteration);return a},restart:function(){if("rejected"===
a.state())return a;a.from=0;a.start();return a},stop:function(){a.pause();a.rejectWith(a,[a.from]);return a}});return a};f.fn.disabled=function(d){return void 0===d?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!d).toggleClass("disabled",!!d)};f.fn.enabled=function(d){return void 0===d?!this.disabled():this.disabled(!d)};(function(){var d=f.Ajax=function(m){var a=f.Deferred(),b=arguments;f.isPlainObject(m)&&f.isFunction(m.beforeCreate)&&m.beforeCreate(a);d.queue.addDeferred(function(g){a.xhr=
f.ajax.apply(null,b).pipe(a.resolve,a.reject,a.notify);setTimeout(g.resolve,d.requestInterval)});return a};d.queue=f.Threads({threadLimit:1});d.requestInterval=1200})();f.callback=function(d,m){if(f.isFunction(d)){var a=f.uid("cb");window[a]=function(){m||delete window[a];return d.apply(null,arguments)};return a}if(f.isString(d))switch(d){case "destroy":a=m,delete window[a]}};f.fn.visible=function(d){var m=f(this),a=f(window);if(!(1>m.length)){var b=a.scrollTop(),a=b+a.height(),g=m.offset().top,m=
g+m.height();return(!0===d?g:m)<=a&&(!0===d?m:g)>=b}};f.fn.selectAll=function(){return this.each(function(){this.select()})};f.fn.unselect=function(){return this.each(function(){var d=this.value;this.value+=" ";this.value=d})};f.fn.addTransitionClass=function(d,f){var a=this.addClass(d);setTimeout(function(){a.removeClass(d)},f||0);return this};f.fn.switchClass=function(d,m){m=m||"-";var a=d.split(m)[0]+m,b=a.length;return this.each(function(){var g=f(this),k=f.map(g.attr("class").split(" "),function(c){return c.slice(0,
b)==a||""==c?null:c});k.push(d);g.attr("class",k.join(" "))})};f.sanitizeHTML=function(d){var m=document.createElement("div"),a=document.createDocumentFragment();f.clean([d],document,a);m.appendChild(a);return m.innerHTML};f.buildHTML=function(d,m){var a,b=[];m||(a=document.createElement("script"),a.text=f.callback(function(){f(b).remove()})+"();");a=f.buildFragment([d,a],document,b);return f(f.merge([],a.childNodes))};f.fn.filterBy=function(d,f,a){a=a||"=";d="[data-"+d.replace(/([a-z])([A-Z])/g,
"$1-$2").toLowerCase()+a+f+"]";return this.filter(d)};f.intersects=function(d,m){f.isArray(m)&&(m={top:m.y,left:m.x,bottom:m.y,right:m.x});return m.left<=d.right&&d.left<=m.right&&m.top<=d.bottom&&d.top<=m.bottom};f.fn.intersectsWith=function(d,m,a,b){var g=this.offset(),g={top:g.top,left:g.left,bottom:g.top+(sourceHeight=this.height()),right:g.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight};d={top:d,left:m,bottom:d+(b||(b=0)),right:m+(a||(a=0)),width:a,height:b};return f.intersects(g,
d)?{reference:g,subject:d}:!1};f.download=function(d){return f("<iframe>").hide().appendTo("body").bind("load",function(){f(this).remove()}).attr("src",d)}});
FD31.plugin("uri",function(f){f.isUrl=function(a){return/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)};var d=function(a){var b=function(a){var b=[],c,g,d,k;if("undefined"===typeof a||null===a||""===a)return b;0===a.indexOf("?")&&(a=a.substring(1));c=a.toString().split(/[&;]/);for(a=0;a<c.length;a++)g=c[a],d=g.split("="),k=d[0],g=-1===g.indexOf("=")?null:null===d[1]?"":d[1],b.push([k,g]);return b}(a),g=function(a){a=decodeURIComponent(a);return a=a.replace("+",
" ")},d=function(a,c){var d=[],k,f,m,u;for(k=0;k<b.length;k++)f=b[k],m=g(f[0])===g(a),u=g(f[1])===g(c),(1===arguments.length&&!m||2===arguments.length&&!m&&!u)&&d.push(f);b=d;return this},c=function(a,c,g){3===arguments.length&&-1!==g?(g=Math.min(g,b.length),b.splice(g,0,[a,c])):0<arguments.length&&b.push([a,c]);return this};return{getParamValue:function(a){var c,d;for(d=0;d<b.length;d++)if(c=b[d],g(a)===g(c[0]))return c[1]},getParamValues:function(a){var c=[],d,k;for(d=0;d<b.length;d++)k=b[d],g(a)===
g(k[0])&&c.push(k[1]);return c},deleteParam:d,addParam:c,replaceParam:function(a,h,f){var q=-1,p,m;if(3===arguments.length){for(p=0;p<b.length;p++)if(m=b[p],g(m[0])===g(a)&&decodeURIComponent(m[1])===g(f)){q=p;break}d(a,f).addParam(a,h,q)}else{for(p=0;p<b.length;p++)if(m=b[p],g(m[0])===g(a)){q=p;break}d(a);c(a,h,q)}return this},toString:function(){var a="",c,g;for(c=0;c<b.length;c++)g=b[c],0<a.length&&(a+="&"),a=null===g[1]?a+g[0]:a+g.join("=");return 0<a.length?"?"+a:a}}},m=function(a){var b=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,
g=function(a){var b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);for(var c={},e=14;e--;)c[b[e]]=a[e]||"";c.queryKey={};c[b[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,b,e){b&&(c.queryKey[b]=e)});return c}(a||""),k=new d(g.query),
c=function(a){"undefined"!==typeof a&&(g.protocol=a);return g.protocol},e=null,h=function(a){"undefined"!==typeof a&&(e=a);return null===e?-1!==g.source.indexOf("//"):e},f=function(a){"undefined"!==typeof a&&(g.userInfo=a);return g.userInfo},q=function(a){"undefined"!==typeof a&&(g.host=a);return g.host},p=function(a){"undefined"!==typeof a&&(g.port=a);return g.port},t=function(a){"undefined"!==typeof a&&(g.path=a);return g.path},u=function(a){"undefined"!==typeof a&&(k=new d(a));return k},v=function(a){"undefined"!==
typeof a&&(g.anchor=a);return g.anchor},s=function(){var a="",b=function(a){return null!==a&&""!==a};b(c())?(a+=c(),c().indexOf(":")!==c().length-1&&(a+=":"),a+="//"):h()&&b(q())&&(a+="//");b(f())&&b(q())&&(a+=f(),f().indexOf("@")!==f().length-1&&(a+="@"));b(q())&&(a+=q(),b(p())&&(a+=":"+p()));b(t())?a+=t():b(q())&&(b(u().toString())||b(v()))&&(a+="/");b(u().toString())&&(0!==u().toString().indexOf("?")&&(a+="?"),a+=u().toString());b(v())&&(0!==v().indexOf("#")&&(a+="#"),a+=v());return a};return{protocol:c,
hasAuthorityPrefix:h,userInfo:f,host:q,port:p,path:t,query:u,anchor:v,setProtocol:function(a){c(a);return this},setHasAuthorityPrefix:function(a){h(a);return this},setUserInfo:function(a){f(a);return this},setHost:function(a){q(a);return this},setPort:function(a){p(a);return this},setPath:function(a){t(a);return this},setQuery:function(a){u(a);return this},setAnchor:function(a){v(a);return this},getQueryParamValue:function(a){return u().getParamValue(a)},getQueryParamValues:function(a){return u().getParamValues(a)},
deleteQueryParam:function(a,b){2===arguments.length?u().deleteParam(a,b):u().deleteParam(a);return this},addQueryParam:function(a,b,c){3===arguments.length?u().addParam(a,b,c):u().addParam(a,b);return this},replaceQueryParam:function(a,b,c){3===arguments.length?u().replaceParam(a,b,c):u().replaceParam(a,b);return this},extract:function(c){var e=a.match(b)||[];return void 0===c?e:e[c]||""},toPath:function(a){if(void 0===a)return g.path;if("/"==a.substring(0,1))return g.path=a;var b=g.path.split("/");
a=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var c;c=a.shift();)switch(c){case "..":1<b.length&&b.pop();break;case ".":break;default:b.push(c)}g.path=b.join("/");return this},toString:s,clone:function(){return new m(s())}}};f.uri=function(a){return new m(a)}});
FD31.plugin("mvc",function(f){(function(){var d={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},m=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},a,b=f.String=f.extend(f.String||{},{getObject:a=function(a,b,c){a=a?a.split(d.dot):[];var e=a.length,h,n,q,p=0;b=f.isArray(b)?b:[b||window];if(0==e)return b[0];for(;h=b[p++];){for(q=0;q<e-1&&m(h);q++)h=void 0!==h[a[q]]?h[a[q]]:c&&(h[a[q]]={});
if(m(h)&&(n=void 0!==h[a[q]]?h[a[q]]:c&&(h[a[q]]={}),void 0!==n))return!1===c&&delete h[a[q]],n}},capitalize:function(a,b){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=b.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,k){for(var c=a.split(d.undHash),e=0;e<c.length;e++)c[e]=b.capitalize(c[e]);return c.join(k||"")},niceName:function(a){return b.classize(a," ")},underscore:function(a){return a.replace(d.colons,"/").replace(d.words,"$1_$2").replace(d.lowUp,
"$1_$2").replace(d.dash,"_").toLowerCase()},sub:function(b,k,c){var e=[];e.push(b.replace(d.replacer,function(b,g){var d=a(b,k,"boolean"==typeof c?!c:c)||a(g,k,"boolean"==typeof c?!c:c),f=typeof d;if("object"!==f&&"function"!==f||null===f)return""+d;e.push(d);return""}));return 1>=e.length?e[0]:e},_regs:d})})();(function(){f.String.rsplit=function(d,f){for(var a=f.exec(d),b=[],g;null!==a;)g=a.index,0!==g&&(b.push(d.substring(0,g)),d=d.slice(g)),b.push(a[0]),d=d.slice(a[0].length),a=f.exec(d);""!==
d&&b.push(d);return b}})();(function(){var d=/^\d+$/,m=/([^\[\]]+)|(\[\])/g,a=/\+/g,b=/([^?#]*)(#.*)?$/;f.String=f.extend(f.String||{},{deparam:function(g){if(!g||!b.test(g))return{};var k={};g=g.split("&");for(var c,e=0;e<g.length;e++){c=k;var h=g[e].split("=");2!=h.length&&(h=[h[0],h.slice(1).join("=")]);for(var f=decodeURIComponent(h[0].replace(a," ")),h=decodeURIComponent(h[1].replace(a," ")),f=f.match(m),q=0;q<f.length-1;q++){var p=f[q];c[p]||(c[p]=d.test(f[q+1])||"[]"==f[q+1]?[]:{});c=c[p]}lastPart=
f[f.length-1];"[]"==lastPart?c.push(h):c[lastPart]=h}return k}})})();(function(){f.fn.triggerAsync=function(a,d,k,c){"function"==typeof d&&(k=d,d=void 0);if(this[0]){var e=f.Event(a),h=e.preventDefault;e.preventDefault=function(){h.apply(this,arguments);c&&c(this)};f.event.trigger({type:a,_success:k},d,this[0])}else k.call(this);return this};var d=/\.(.*)$/,m=f.event;m.special["default"]={add:function(a){a.namespace.replace(d,"")},setup:function(){return!0}};var a=m.trigger;m.trigger=function(b,d,
k,c){var e=b.type||b;b="object"===typeof b?b[f.expando]?b:new f.Event(e,b):new f.Event(e);e=a.call(f.event,b,d,k,c);c||b.isDefaultPrevented()||0===b.type.indexOf("default")||(a("default."+b.type,d,k),b._success&&b._success(b));b.isPaused&&b.isPaused()&&(b.isDefaultPrevented=b.pausedState.isDefaultPrevented,b.isPropagationStopped=b.pausedState.isPropagationStopped);return e}})();(function(){var d=f.cleanData;f.cleanData=function(m){for(var a=0,b;void 0!==(b=m[a]);a++)f(b).triggerHandler("destroyed");
d(m)}})();(function(){function d(a){a=a||window[b][g];return a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var m,a=f.event.special,b="location",g="href",k=document.documentMode,c=f.browser.msie&&(void 0===k||8>k),e="onhashchange"in window&&!c;f.hashchangeDelay=100;a.hashchange=f.extend(a.hashchange,{setup:function(){if(e)return!1;f(m.start)},teardown:function(){if(e)return!1;f(m.stop)}});m=function(){function a(){t=u=function(a){return a};c&&(m=f('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,
u=function(){return d(m.document[b][g])},t=function(a,c){if(a!==c){var e=m.document;e.open().close();e[b].hash="#"+a}},t(d()))}var e={},k,m,t,u;e.start=function(){if(!k){var c=d();t||a();navigator.userAgent.match(/Rhino/)||function r(){var a=d(),e=u(c);a!==c?(t(c=a,e),f(window).trigger("hashchange")):e!==c&&(window[b][g]=window[b][g].replace(/#.*/,"")+"#"+e);k=setTimeout(r,f.hashchangeDelay)}()}};e.stop=function(){m||(k&&clearTimeout(k),k=0)};return e}()})();(function(){var d={},m={};f.event.key=
function(a){f.extend(d,a);for(var b in a)m[a[b]]=b};f.event.key({"\b":"8","\t":"9","\r":"13",shift:"16",ctrl:"17",alt:"18","pause-break":"19",caps:"20",escape:"27","num-lock":"144","scroll-lock":"145",print:"44","page-up":"33","page-down":"34",end:"35",home:"36",left:"37",up:"38",right:"39",down:"40",insert:"45","delete":"46"," ":"32",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",a:"65",b:"66",c:"67",d:"68",e:"69",f:"70",g:"71",h:"72",i:"73",j:"74",k:"75",l:"76",m:"77",n:"78",
o:"79",p:"80",q:"81",r:"82",s:"83",t:"84",u:"85",v:"86",w:"87",x:"88",y:"89",z:"90",num0:"96",num1:"97",num2:"98",num3:"99",num4:"100",num5:"101",num6:"102",num7:"103",num8:"104",num9:"105","*":"106","+":"107","-":"109",".":"110","/":"111",";":"186","=":"187",",":"188","-":"189",".":"190","/":"191","`":"192","[":"219","\\":"220","]":"221","'":"222","left window key":"91","right window key":"92","select key":"93",f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",
f11:"122",f12:"123"});f.Event.prototype.keyName=function(){var a=/\w/,b=m[(this.keyCode||this.which)+""],d=String.fromCharCode(this.keyCode||this.which),k=this.charCode&&m[this.charCode+""],c=this.charCode&&String.fromCharCode(this.charCode);return c&&a.test(c)||k&&a.test(k)?c.toLowerCase():d&&a.test(d)?d.toLowerCase():b&&a.test(b)?b.toLowerCase():"keypress"==this.type?this.keyCode?String.fromCharCode(this.keyCode):String.fromCharCode(this.which):!this.keyCode&&this.which?String.fromCharCode(this.which):
m[this.keyCode+""]}})();(function(){var d=f.event,m=function(a,b,d,k){var c,e,h,f,q,m,t,u;for(c=0;c<b.length;c++)for(e=b[c],f=0>e.indexOf("."),f||(h=e.split("."),e=h.shift(),t=RegExp("(^|\\.)"+h.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),h=(a[e]||[]).slice(0),q=0;q<h.length;q++)m=h[q],(u=f||t.test(m.namespace))&&(k?m.selector===k&&d(e,m.origHandler||m.handler):null===k?d(e,m.origHandler||m.handler,m.selector):m.selector||d(e,m.origHandler||m.handler))};d.find=function(a,b,d){a=(f._data(a)||
{}).events;var k=[];if(!a)return k;m(a,b,function(a,b){k.push(b)},d);return k};d.findBySelector=function(a,b){var d=f._data(a).events,k={};if(!d)return k;m(d,b,function(a,b,h){h=h||"";h=k[h]||(k[h]={});(h[a]||(h[a]=[])).push(b)},null);return k};d.supportTouch="ontouchend"in document;f.fn.respondsTo=function(a){return this.length?0<d.find(this[0],f.isArray(a)?a:[a]).length:!1};f.fn.triggerHandled=function(a,b){a="string"==typeof a?f.Event(a):a;this.trigger(a,b);return a.handled};d.setupHelper=function(a,
b,g){g||(g=b,b=null);var k=function(c){var h=c.selector||"";h?(c=d.find(this,a,h),c.length||f(this).delegate(h,b,g)):d.find(this,a,h).length||d.add(this,b,g,{selector:h,delegate:this})},c=function(c){var h=c.selector||"";h?(c=d.find(this,a,h),c.length||f(this).undelegate(h,b,g)):d.find(this,a,h).length||d.remove(this,b,g,{selector:h,delegate:this})};f.each(a,function(){d.special[this]={add:k,remove:c,setup:function(){},teardown:function(){}}})}})();(function(){var d=function(){return!1},m=function(){return!0};
f.Event.prototype.isPaused=d;f.Event.prototype.pause=function(){this.pausedState={isDefaultPrevented:this.isDefaultPrevented()?m:d,isPropagationStopped:this.isPropagationStopped()?m:d};this.stopImmediatePropagation();this.preventDefault();this.isPaused=m};f.Event.prototype.resume=function(){var a=this.handleObj,b=this.currentTarget,g=f.event.special[a.origType],k=g&&g.handle;g||(f.event.special[a.origType]={});f.event.special[a.origType].handle=function(c){c.handleObj===a&&c.currentTarget===b&&(g?
f.event.special[a.origType].handle=k:delete f.event.special[a.origType])};delete this.pausedState;this.isPaused=this.isImmediatePropagationStopped=d;this.isPropagationStopped()||f.event.trigger(this,[],this.target)}})();(function(){var d=f(),m=0,a=f(window),b=0,g=0,k;f(function(){b=a.width();g=a.height()});f.event.special.resize={setup:function(a){this!==window&&(d.push(this),f.unique(d));return this!==window},teardown:function(){d=d.not(this);return this!==window},add:function(c){c.origHandler=c.handler;
c.handler=function(e,h){var n=this===window;if(n&&e.originalEvent){var n=a.width(),q=a.height();if(n!=b||q!=g)b=n,g=q,clearTimeout(k),k=setTimeout(function(){a.trigger("resize")},1)}else if(0===m){m++;q=!1===h?e.target:this;f.event.handle.call(q,e);if(!e.isPropagationStopped()){for(var p=d.index(this),t=d.length,u,v;++p<t&&(u=d[p])&&(n||f.contains(q,u));)if(f.event.handle.call(u,e),e.isPropagationStopped())for(;++p<t&&(v=d[p]);)if(!f.contains(u,v)){p--;break}e.stopImmediatePropagation()}m--}else c.origHandler.call(this,
e,h)}}};f([document,window]).bind("resize",function(){})})();(function(){var d=f.fn.closest;f.fn.closest=function(m,a){var b={},g,k,c,e,h=!0,n=m;"string"==typeof m&&(n=[m]);f.each(n,function(a,c){if(0==c.indexOf(">")){if(-1!=c.indexOf(" "))throw" closest does not work with > followed by spaces!";b[n[a]=c.substr(1)]=c;"string"==typeof m&&(m=c.substr(1));h=!1}});g=d.call(this,m,a);if(h)return g;for(c=0;c<g.length;){k=g[c];e=k.selector;if(void 0!==b[e]&&(k.selector=b[e],b[e]=!1,"string"!==typeof k.selector||
k.elem.parentNode!==a)){g.splice(c,1);continue}c++}return g}})();(function(){f.cookie=function(d,f,a){if("undefined"!=typeof f){a=a||{};null===f&&(f="",a.expires=-1);"object"==typeof f&&jQuery.toJSON&&(f=jQuery.toJSON(f));var b="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(b=new Date,b.setTime(b.getTime()+864E5*a.expires)):b=a.expires,b="; expires="+b.toUTCString());var g=a.path?"; path="+a.path:"",k=a.domain?"; domain="+a.domain:"";a=a.secure?"; secure":
"";document.cookie=[d,"=",encodeURIComponent(f),b,g,k,a].join("")}else{f=null;if(document.cookie&&""!=document.cookie)for(a=document.cookie.split(";"),b=0;b<a.length;b++)if(g=jQuery.trim(a[b]),g.substring(0,d.length+1)==d+"="){f=decodeURIComponent(g.substring(d.length+1));break}if(jQuery.evalJSON&&f&&f.match(/^\s*\{/))try{f=jQuery.evalJSON(f)}catch(c){}return f}}})();(function(){f.fn.compare=function(d){try{d=d.jquery?d[0]:d}catch(f){return null}if(window.HTMLElement){var a=HTMLElement.prototype.toString.call(d);
if("[xpconnect wrapped native prototype]"==a||"[object XULElement]"==a||"[object Window]"===a)return null}if(this[0].compareDocumentPosition)return this[0].compareDocumentPosition(d);if(this[0]==document&&d!=document)return 8;var a=(this[0]!==d&&this[0].contains(d)&&16)+(this[0]!=d&&d.contains(this[0])&&8),b=document.documentElement;if(this[0].sourceIndex)a+=this[0].sourceIndex<d.sourceIndex&&4,a+=this[0].sourceIndex>d.sourceIndex&&2,a+=(this[0].ownerDocument!==d.ownerDocument||this[0]!=b&&0>=this[0].sourceIndex||
d!=b&&0>=d.sourceIndex)&&1;else{var b=document.createRange(),g=document.createRange();b.selectNode(this[0]);g.selectNode(d);b.compareBoundaryPoints(Range.START_TO_START,g)}return a}})();(function(){var d=document.defaultView&&document.defaultView.getComputedStyle,m=/([A-Z])/g,a=/-([a-z])/ig,b=function(a,b){return b.toUpperCase()},g=/float/i,k=/^-?\d+(?:px)?$/i,c=/^-?\d/;f.curStyles=function(e,h){if(!e)return null;var n;n=d?d(e,null):e.currentStyle?e.currentStyle:void 0;for(var q,p,t=e.style,u={},
v=0,s,r;v<h.length;v++)s=h[v],q=s.replace(a,b),g.test(s)&&(s=f.support.cssFloat?"float":"styleFloat",q="cssFloat"),d?(s=s.replace(m,"-$1").toLowerCase(),p=n.getPropertyValue(s),"opacity"===s&&""===p&&(p="1"),u[q]=p):(p=s.replace(a,b),u[q]=n[s]||n[p],!k.test(u[q])&&c.test(u[q])&&(s=t.left,r=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,t.left="fontSize"===p?"1em":u[q]||0,u[q]=t.pixelLeft+"px",t.left=s,e.runtimeStyle.left=r));return u};f.fn.curStyles=function(){return f.curStyles(this[0],
f.makeArray(arguments))}})();(function(){f.fn.range=function(){return f.Range(this[0])};var d=function(a){return a.replace(/([a-z])([a-z]+)/gi,function(a,b,c){return b+c.toLowerCase()}).replace(/_/g,"")},m=function(a){return a.replace(/^([a-z]+)_TO_([a-z]+)/i,function(a,b,c){return c+"_TO_"+b})},a={};f.Range=function(a){if(this.constructor!==f.Range)return new f.Range(a);a&&a.jquery&&(a=a[0]);!a||a.nodeType?(this.win=a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:window,this.range=this.win.document.createRange?
this.win.document.createRange():this.win.document.body.createTextRange(),a&&this.select(a)):null!=a.clientX||null!=a.pageX||null!=a.left?this.moveToPoint(a):a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length?this.moveToPoint(a.originalEvent.touches[0]):a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length?this.moveToPoint(a.originalEvent.changedTouches[0]):this.range=a};f.Range.current=function(a){a=a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:
window;var b;return a.getSelection?(b=a.getSelection(),new f.Range(b.rangeCount?b.getRangeAt(0):a.document.createRange())):new f.Range(a.document.selection.createRange())};f.extend(f.Range.prototype,{moveToPoint:function(c){var e=c.clientX,h=c.clientY;e||(h=k(),e=(c.pageX||c.left||0)-h.left,h=(c.pageY||c.top||0)-h.top);if(a.moveToPoint)return this.range=f.Range().range,this.range.moveToPoint(e,h),this;for(var d=document.elementFromPoint(e,h),g=0;g<d.childNodes.length;g++){var m=d.childNodes[g];if(3===
m.nodeType||4===m.nodeType)for(var m=f.Range(m),t=m.toString().length,u=1;u<t+1;u++){var v=m.end(u).rect();if(v.left<=e&&v.left+v.width>=e&&v.top<=h&&v.top+v.height>=h){m.start(u-1);this.range=m.range;return}}}var s;b(d.childNodes,function(a){a=f.Range(a);if(a.rect().top>c.clientY)return!1;s=a});s?(s.start(s.toString().length),this.range=s.range):this.range=f.Range(d).range},window:function(){return this.win||window},overlaps:function(a){a.nodeType&&(a=f.Range(a).select(a));var b=this.compare("START_TO_START",
a),h=this.compare("END_TO_END",a);return 0>=b&&0<=h||0<=b&&0>=this.compare("START_TO_END",a)||0<=this.compare("END_TO_START",a)&&0>=h?!0:!1},collapse:function(a){this.range.collapse(void 0===a?!0:a);return this},toString:function(){return"string"==typeof this.range.text?this.range.text:this.range.toString()},start:function(a){if(void 0===a){if(this.range.startContainer)return{container:this.range.startContainer,offset:this.range.startOffset};a=this.clone().collapse().parent();var b=f.Range(a).select(a).collapse();
b.move("END_TO_START",this);return{container:a,offset:b.toString().length}}if(this.range.setStart)"number"==typeof a?this.range.setStart(this.range.startContainer,a):"string"==typeof a?this.range.setStart(this.range.startContainer,this.range.startOffset+parseInt(a,10)):this.range.setStart(a.container,a.offset);else throw"todo";return this},end:function(a){if(void 0===a){if(this.range.startContainer)return{container:this.range.endContainer,offset:this.range.endOffset};a=this.clone().collapse(!1).parent();
var b=f.Range(a).select(a).collapse();b.move("END_TO_END",this);return{container:a,offset:b.toString().length}}if(this.range.setEnd)"number"==typeof a?this.range.setEnd(this.range.endContainer,a):this.range.setEnd(a.container,a.offset);else throw"todo";return this},parent:function(){if(this.range.commonAncestorContainer)return this.range.commonAncestorContainer;var a=this.range.parentElement(),e=this.range;b(a.childNodes,function(b){if(f.Range(b).range.inRange(e))return a=b,!1});return a},rect:function(a){var b=
this.range.getBoundingClientRect();"page"===a&&(a=k(),b=f.extend({},b),b.top+=a.top,b.left+=a.left);return b},rects:function(a){for(var b=f.makeArray(this.range.getClientRects()).sort(function(a,b){return b.width*b.height-a.width*a.height}),h=0,d;h<b.length;){var q=b[h],m=!1;d=h+1;for(d=h+1;d<b.length;d++)if(g(q,{clientX:b[d].left,clientY:b[d].top})&&g(q,{clientX:b[d].left+b[d].width,clientY:b[d].top})&&g(q,{clientX:b[d].left,clientY:b[d].top+b[d].height})&&g(q,{clientX:b[d].left+b[d].width,clientY:b[d].top+
b[d].height})){m=b[d];break}m?b.splice(h,1):h++}if("page"==a){var t=k();return f.map(b,function(a){a=f.extend({},a);a.top+=t.top;a.left+=t.left;return a})}return b}});(function(){var a=f.Range.prototype,e=f.Range().range;a.compare=e.compareBoundaryPoints?function(a,b){return this.range.compareBoundaryPoints(this.window().Range[m(a)],b.range)}:function(a,b){return this.range.compareEndPoints(d(a),b.range)};a.move=e.setStart?function(a,b){var c=b.range;switch(a){case "START_TO_END":this.range.setStart(c.endContainer,
c.endOffset);break;case "START_TO_START":this.range.setStart(c.startContainer,c.startOffset);break;case "END_TO_END":this.range.setEnd(c.endContainer,c.endOffset);break;case "END_TO_START":this.range.setEnd(c.startContainer,c.startOffset)}return this}:function(a,b){this.range.setEndPoint(d(a),b.range);return this};var h=e.cloneRange?"cloneRange":"duplicate";a.clone=function(){return f.Range(this.range[h]())};a.select=e.selectNodeContents?function(a){a?this.range.selectNodeContents(a):this.window().getSelection().addRange(this.range);
return this}:function(a){if(a)if(3===a.nodeType){var c=a.parentNode,e=0,h;b(c.childNodes,function(b){if(b===a)return h=e+b.nodeValue.length,!1;e+=b.nodeValue.length});this.range.moveToElementText(c);this.range.moveEnd("character",h-this.range.text.length);this.range.moveStart("character",e)}else this.range.moveToElementText(a);else this.range.select();return this}})();var b=function(a,e){for(var h,d=0;a[d];d++)if(h=a[d],3===h.nodeType||4===h.nodeType){if(!1===e(h))return!1}else if(8!==h.nodeType&&
!1===b(h.childNodes,e))return!1},g=function(a,b){return a.left<=b.clientX&&a.left+a.width>=b.clientX&&a.top<=b.clientY&&a.top+a.height>=b.clientY},k=function(a){a=a||window;doc=a.document.documentElement;body=a.document.body;return{left:(doc&&doc.scrollLeft||body&&body.scrollLeft||0)+(doc.clientLeft||0),top:(doc&&doc.scrollTop||body&&body.scrollTop||0)+(doc.clientTop||0)}};a.moveToPoint=!!f.Range().range.moveToPoint})();(function(){f.fn.within=function(d,m,a){var b=[];this.each(function(){var g=f(this);
if(this==document.documentElement)return b.push(this);g=a?f.data(this,"offsetCache")||f.data(this,"offsetCache",g.offset()):g.offset();m>=g.top&&m<g.top+this.offsetHeight&&d>=g.left&&d<g.left+this.offsetWidth&&b.push(this)});return this.pushStack(f.unique(b),"within",d+","+m)};f.fn.withinBox=function(d,m,a,b,g){var k=[];this.each(function(){var c=f(this);if(this==document.documentElement)return this.ret.push(this);var e=g?f.data(this,"offset")||f.data(this,"offset",c.offset()):c.offset(),h=c.width(),
c=c.height();(res=!(e.top>m+b||e.top+c<m||e.left>d+a||e.left+h<d))&&k.push(this)});return this.pushStack(f.unique(k),"withinBox",f.makeArray(arguments).join(","))}})();(function(){var d=!1,m=f.makeArray,a=f.isFunction,b=f.isArray,g=f.extend,k=f.String.getObject,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,e=function(b,e,d){d=d||b;for(var g in b)d[g]=a(b[g])&&a(e[g])&&c.test(b[g])?function(a,b){return function(){var c=this._super,h;this._super=e[a];h=b.apply(this,arguments);this._super=c;return h}}(g,
b[g]):b[g]};clss=f.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};g(clss,{proxy:function(a){var c=m(arguments),e;a=c.shift();b(a)||(a=[a]);e=this;return function(){for(var d=c.concat(m(arguments)),g,k=a.length,f=0,s;f<k;f++)if(s=a[f])(g="string"==typeof s)&&e._set_called&&(e.called=s),d=(g?e[s]:s).apply(e,d||[]),f<k-1&&(d=!b(d)||d._use_call?[d]:d);return d}},newInstance:function(){var a=this.rawInstance(),c;a.setup&&(c=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b(c)?
c:arguments);return a},setup:function(a,b){this.defaults=g(!0,{},a.defaults,this.defaults);return arguments},rawInstance:function(){d=!0;var a=new this;d=!1;return a},extend:function(a,b,c){function p(){if(!d)return this.constructor!==p&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof a&&(c=b,b=a,a=null);c||(c=b,b=null);c=c||{};var t=this.prototype,u,v,s,r;d=!0;r=new this;d=!1;e(c,t,r);for(u in this)this.hasOwnProperty(u)&&
(p[u]=this[u]);e(b,this,p);if(a){var y;b&&b.root&&(y=b.root,f.isString(y)&&(y=k(y,window,!0)));s=a.split(/\./);v=s.pop();s=y=k(s.join("."),y||window,!0);g(!0,p,y[v]);y[v]=p}g(p,{prototype:r,namespace:s,shortName:v,constructor:p,fullName:a});p.prototype.Class=p.prototype.constructor=p;v=p.setup.apply(p,[this].concat(m(arguments)));p.init&&p.init.apply(p,v||[this].concat(m(arguments)));return p}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();(function(){var d=function(a,
c,e){var h,d=a.bind&&a.unbind?a:f(b(a)?[a]:a);0===c.indexOf(">")&&(c=c.substr(1),h=function(b){b.target===a&&e.apply(this,arguments)});d.bind(c,h||e);return function(){d.unbind(c,h||e);a=c=e=h=null}},m=f.makeArray,a=f.isArray,b=f.isFunction,g=f.isString,k=f.extend,c=f.String,e=f.each,h=c.getObject,n=Array.prototype.slice,q=function(a,c,e,h){0===c.indexOf(">")&&(c=(a.data("directSelector")+" "||"")+c);var d=a.delegate&&a.undelegate?a:f(b(a)?[a]:a);d.delegate(c,e,h);return function(){d.undelegate(c,
e,h);d=a=e=h=c=null}},p=function(a,b){var c="string"==typeof b?a[b]:b;return function(){a.called=b;return c.apply(a,[this.nodeName?f(this):this].concat(n.call(arguments,0)))}},t=/\./g,u=/_?controllers?/ig,v=function(a){return c.underscore(a.replace(f.globalNamespace+".","").replace(t,"_").replace(u,""))},s=/^\S(.*)\s(.*)/,r=/\{([^\}]+)\}/g,y=/\{([^\.]+[\.][^\.]+)\}/g,w=/^(?:(.*?)\s)?([\w\.\:>]+)$/,x,C=function(a,b){return f.data(a,"controllers",b)},A=f.globalNamespace+".Controller";f.Controller=function(a){var b=
m(arguments),c={root:A};2<b.length?(c=f.extend(c,b[1]),b=b[2]):b=b[1];c.namespace&&(a=c.namespace+"."+a);return f.Controller.Class(a,c,b)};var N=A+".Class";f.Class(N,{setup:function(a,c){this._super.apply(this,arguments);if(this.shortName&&this.fullName!=N){this._fullName=v(this.fullName);this._shortName=v(this.shortName);var e=this,h;if(g(this.pluginName)){var d=this._fullName,k=this.pluginName;f.fn[k]||(f.fn[k]=function(a){var b=m(arguments);if(f.isString(a)&&"controller"===a){var c=C(this[0]);
return c&&c[d]}return this.each(function(){var c=C(this);if(c=c&&c[d])if(f.isString(a)){var h=c[a];f.isFunction(h)&&h.apply(c,b.slice(1))}else c.update.apply(c,b);else e.newInstance.apply(e,[this].concat(b))})})}var n=m(arguments),k=this.prototype,n=n[3<n.length?3:2];b(n)&&(this.protoFactory=n,k=this.protoFactory.call(this,null));this.actions={};for(h in k)"constructor"!=h&&b(k[h])&&this._isAction(h)&&(this.actions[h]=this._action(h));f.module("$:/Controllers/"+this.fullName).resolve(this)}},hookup:function(a){return new this(a)},
_isAction:function(a){return s.test(a)?!0:-1<f.inArray(a,this.listensTo)||f.event.special[a]||ea[a]},_action:function(b,e){r.lastIndex=0;if(!e&&r.test(b))return null;var h=b=b.replace("{self} ","");if(e){var d=!1;if(y.test(b))var g,k="",h=b.replace(y,function(a,b){var c=b.split(".");g=e["{"+c[0]+"}"]||{};f.isControllerInstance(g)&&(k=(g[c[1]]||{}).selector);return k}).match(w),d=!!k,h=[g.element].concat(h||[]);d||(h=c.sub(b,[e,window]))}var d=a(h),n=(d?h[1]:h).match(w);return{processor:ea[n[2]]||
x,parts:n,delegate:d?h[0]:void 0}},processors:{},listensTo:[],defaults:{},hostname:"parent"},{setup:function(a,b){var c=this,h=c.constructor,d=c.prototype;h.protoFactory&&(d=h.protoFactory.apply(h,[c]),k(!0,c,d));d=h._fullName;c.instanceId=f.uid(d+"_");(C(a)||C(a,{}))[d]=c;var n=c.element=f(a);n.data("directSelector")||(d=f.uid("DS"),n.addClass(d).data("directSelector","."+d));d=c.options=k(!0,{},h.defaults,h.defaultOptions,b);for(name in d)if(name.match(/^\{.+\}$/)){var q=name.replace(/^\{|\}$/g,
""),p=d[name];g(p)?c[q]=function(a,b,c){b=/^(\.|\#)$/.test(b)?b+c:b;var e=function(c){var e=a.element.find(b);c&&(e=e.filter(c));return e};e.selector=b;e.css=function(){var a=e.cssRule;if(!a){var c=n.data("directSelector"),a=f.map(b.split(","),function(a){return c+" "+a}),a=e.cssRule=f.cssRule(a);a.important=!0}return arguments.length?a.css.apply(a,arguments):a};return e}(c,p,q):c[q]=p}var q=d.view,r=c.view;c.view=function(){return r.apply(this,arguments)};e(q||{},function(a,b){c.view[a]=function(b){var e=
m(arguments);f.isBoolean(b)?e=e.slice(1):b=!1;return c.view.apply(c,[b,a].concat(e))}});f.extend(c,d.controller);c.pluginInstances={};c.called="init";c._bind();var t=c.init||f.noop;c.init=function(){c.init=t;result=t.apply(c,arguments);c.trigger("init."+h.fullName.toLowerCase(),[c]);return result};return[n,d].concat(m(arguments).slice(2))},on:function(a){var b=m(arguments),c=this.element,e=b.length;return 2==e?this._binder(c,a,b[1]):3==e&&g(b[1])?this._binder(c,a,b[2],b[1]):this._binder(b[1],a,b[2])},
_bind:function(){var a=this,b=a.constructor,c=b.actions,h=a._bindings=[],d=a.element;e(c||{},function(e,g){if(c.hasOwnProperty(e)){var k=b.actions[e]||b._action(e,a.options);f.isControllerInstance(k.delegate)&&(k.delegate=k.delegate.element);h.push(k.processor(k.delegate||d,k.parts[2],k.parts[1],e,a))}});var g=p(this,"destroy");d.bind("destroyed",g);h.push(function(a){f(a).unbind("destroyed",g)});return h.length},_binder:function(a,b,c,e){"string"==typeof c&&(c=p(this,c));this._bindings.push(e?q(a,
e,b,c):d(a,b,c));return this._bindings.length},_unbind:function(){var a=this.element[0];e(this._bindings,function(b,c){c(a)});this._bindings=[]},trigger:function(a){var b=this.element;if(b){var c=f.Event(a);b.trigger.apply(b,[c].concat(f.makeArray(arguments).slice(1)));return c}},delegate:function(a,b,c,e){"string"==typeof a&&(e=c,c=b,b=a,a=this.element);return this._binder(a,c,e,b)},update:function(a){k(this.options,a);this._unbind();this._bind()},destroy:function(){if(!this._destroyed){var a=this.constructor._fullName;
for(pname in this.pluginInstances)this.removePlugin(pname);this._destroyed=!0;this.element.removeClass(a);this._unbind();delete this._actions;delete this.element.data("controllers")[a];f(this).triggerHandler("destroyed");this.element=f()}},find:function(a){return this.element.find(a)},view:function(){var a=m(arguments),b=a,c=!1,e=this.constructor.component||f,h="",h=this.options.view||{};"boolean"==typeof a[0]&&(c=a[0],b=a.slice(1));if(void 0==(b[0]=h[b[0]]))return c?"":f("");h=e.View.apply(e,b);
return c?h:f(f.parseHTML(f.trim(h)))},getPlugin:function(a){return this.pluginInstances[a]},addSubscriber:function(a){a=f.isArray(a)?a:[a||{}];var b=this,c=this.Class.hostname,e={};e["{"+c+"}"]=b;f.map(a,function(a,h){if(!f.isControllerInstance(a))return!1;if(a.options[c]===this)return a;a[c]=b;return a.update(e)});return a},addPlugin:function(a,c,e){if(a){if(!c&&!e||f.isPlainObject(c))e=c,c=[this.Class.root,this.Class.fullName,f.String.capitalize(a)].join(".");f.isString(c)&&(c=f.getController(c));
var h=f.isControllerInstance(c);if(b(c)||h){e=f.extend(!0,{element:this.element},e,(this.options.plugin||{})[a]||{});h=h?"instance":f.isController(c)?"controller":"function";this.trigger("addPlugin",[a,c,e,h]);var d=this.Class.hostname;e["{"+d+"}"]=this;var g;switch(h){case "instance":g=c;c.update(e);c[d]=this;break;case "controller":g=e.element.addController(c,e);break;case "function":g=c(this,e)}if(g)return this.pluginInstances[a]=g,"function"!==h&&(c={},c["{"+a+"}"]=g,this.update(c)),this.trigger("registerPlugin",
[a,g,e,h]),g}}},removePlugin:function(a){var b=this.getPlugin(a);if(b)return this.trigger("removePlugin",[a,b]),delete this.pluginInstances[a],f.isFunction(b.destroy)?b.destroy():null},invokePlugin:function(a,b,c){var e=this.getPlugin(a);if(e&&f.isFunction(e[b]))return this.trigger("invokePlugin",[a,e,c]),e[b].apply(this,c)},getMessageGroup:function(){var a=f.isFunction(this.messageGroup)?this.messageGroup():this.element.find("[data-message-group]");1>a.length&&(a=f("<div data-message-group></div>").prependTo(this.element));
return a},setMessage:function(a,b){var c={type:"warning",message:"",parent:this.getMessageGroup(),element:f('<div class="alert fade in"><button type="button" class="close" data-foundry-dismiss="alert">\u00d7</button></div>')},e={},e=f.isDeferred(a),e=f.isPlainObject(a)&&!e?a:{message:a,type:b||"warning"},h=f.extend({},c,e),d=h.element;if(f.isDeferred(a)){var g=arguments.callee,k=this;a.done(function(a,b){h.message=a;h.type=b||"warning";g.call(k,h);d.show()})}else d.addClass("alert-"+h.type).append(h.message),
1>f("html").has(d).length&&d.appendTo(h.parent);return d},clearMessage:function(){this.getMessageGroup().empty()},_set_called:!0});var ea=f.Controller.Class.processors;x=function(a,b,c,e,h){e=p(h,e);return c?q(a,c,b,e):d(a,b,e)};e("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,b){ea[b]=x});var $=function(a){g(a)&&(a=a.replace("$.Controller",A),a=
h(a)||h(A+"."+a));if(b(a)&&a.hasOwnProperty("_fullName"))return a},W=function(b){return f.map(b,function(b){return a(b)?W(b):$(b)})};f.getController=$;f.isController=function(a){return!!$(a)};f.isControllerInstance=function(a){return a&&a.constructor&&b(a.constructor)&&a.constructor.hasOwnProperty("_fullName")};f.isControllerOf=function(b,c){if(!c)return!1;a(c)||(c=[c]);for(var e=0;e<c.length;e++){var h=$(c[e]);if(b instanceof h)return!0}return!1};f.fn.extend({controllers:function(){var a=W(m(arguments)),
b=[];this.each(function(){var c=f.data(this,"controllers");e(c||{},function(e,h){c.hasOwnProperty(e)&&(a.length&&!f.isControllerOf(h,a)||b.push(h))})});return b},controller:function(a,b){if(void 0===b)return this.controllers(a)[0];this.addController.apply(this,arguments);return this},hasController:function(a){return(a=($(a)||{})._fullName||(g(a)?v(a.replace("$.Controller",A)):""))?(f(this).data("controllers")||{}).hasOwnProperty(a):!1},addController:function(a,c,e){var h=$(a);if(h){var d=[];this.each(function(){if(1===
this.nodeType&&"SCRIPT"!=this.nodeName){var g=f(this).controller(a);g||(g=new h(this,c),b(e)&&e.apply(g,[f(this),g]));d.push(g)}});return 1<d.length?d:d[0]}},removeController:function(a){this.each(function(){for(var b=f(this).controllers(a);b.length;)b.shift().destroy()});return this},addControllerWhenAvailable:function(a){var b=this,c=arguments,e=f.Deferred();f.isController(a)&&(a=a.fullName);if(!g(a))return e.reject();f.module("$:/Controllers/"+a).pipe(function(){var a=b.addController.apply(b,c);
e.resolveWith(a,[b,a])},e.reject,e.fail);return e},implement:function(){this.addController.apply(this,arguments);return this}})})();(function(){f.Controller.Class.processors.route=function(d,m,a,b,g){f.route(a||"");var k,c=function(c,h,d){f.route.attr("route")!==(a||"")||void 0!==c.batchNum&&c.batchNum===k||(k=c.batchNum,c=f.route.attrs(),delete c.route,g[b](c))};f.route.bind("change",c);return function(){f.route.unbind("change",c)}}})();(function(){var d=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,
"_")},m=f.makeArray,a=1,b=f.View=function(a,b,h,d){"function"===typeof h&&(d=h,h=void 0);var g=c(b);if(g.length){var n=f.Deferred();g.push(f.ajax({url:a,dataType:"view",async:!0}));f.when.apply(f,g).then(function(a){var c=m(arguments),g=c.pop()[0];if(k(b))b=e(a);else for(var f in b)k(b[f])&&(b[f]=e(c.shift()));c=g(b,h);n.resolve(c);d&&d(c)});return n.promise()}var q,g="function"===typeof d,n=f.ajax({url:a,dataType:"view",async:g});g?(q=n,n.done(function(a){d(a(b,h))})):n.done(function(a){q=a(b,h)});
return q},g=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b;},k=function(a){return a&&f.isFunction(a.always)},c=function(a){var b=[];if(k(a))return[a];for(var c in a)k(a[c])&&b.push(a[c]);return b},e=function(a){return f.isArray(a)&&3===a.length&&"success"===a[1]?a[0]:a};f.ajaxTransport("view",function(a,c){var e=c.url,h=e.match(/\.[\w\d]+$/),k,n,m,q,p=function(a){a=k.renderer(m,a);b.cache&&(b.cached[m]=a);return{view:a}};if(n=document.getElementById(e))h=
"."+n.type.match(/\/(x\-)?(.+)/)[2];h||(h=b.ext,e+=b.ext);m=d(e);if(e.match(/^\/\//))var t=e.substr(2),e="undefined"===typeof steal?e="/"+t:steal.root.mapJoin(t)+"";k=b.types[h];var v=f.template()[c.url];return{send:function(a,h){if(v)return k=b.types["."+v.type],h(200,"success",p(v.content));if(b.cached[m])return h(200,"success",{view:b.cached[m]});n?h(200,"success",p(n.innerHTML)):q=f.ajax({async:c.async,url:e,dataType:"text",error:function(){g("",e);h(404)},success:function(a){g(a,e);h(200,"success",
p(a))}})},abort:function(){q&&q.abort()}}});f.extend(b,{hookups:{},hookup:function(c){var e=++a;b.hookups[e]=c;return e},cached:{},cache:!0,register:function(a){this.types["."+a.suffix]=a;window.steal&&steal.type(a.suffix+" view js",function(a,c,e){e=b.types["."+a.type];var h=d(a.rootSrc+"");a.text=e.script(h,a.text);c()})},types:{},ext:".ejs",registerScript:function(a,c,e){return"$.View.preload('"+c+"',"+b.types["."+a].script(c,e)+");"},preload:function(a,c){b.cached[a]=function(a,b){return c.call(a,
a,b)}}});window.steal&&steal.type("view js",function(a,c,e){e=b.types["."+a.type];var h=d(a.rootSrc+"");a.text="steal('"+(e.plugin||"jquery/view/"+a.type)+"').then(function($){$.View.preload('"+h+"',"+a.text+");\n})";c()});var h,n,q,p,t,u,v,s={val:!0,text:!0};h=function(a){var c=f.fn[a];f.fn[a]=function(){var e=m(arguments),h,d,g=this;if(k(e[0]))return e[0].done(function(a){n.call(g,[a],c)}),this;if(q(e)){if(h=u(e))return d=e[h],e[h]=function(a){n.call(g,[a],c);d.call(g,a)},b.apply(b,e),this;e=b.apply(b,
e);if(k(e))return e.done(function(a){n.call(g,[a],c)}),this;e=[e]}return s[a]?c.apply(this,e):n.call(this,e,c)}};n=function(a,c){var e,h;for(e in b.hookups)break;e&&a[0]&&p(a[0])&&(h=b.hookups,b.hookups={},a[0]=f(a[0]));e=c.apply(this,a);h&&v(a[0],h);return e};q=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!t(a[1])};t=function(a){return a.nodeType||a.jquery};p=function(a){return t(a)?!0:"string"===typeof a?(a=f.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-
1,1)&&3<=a.length):!1};u=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};v=function(a,c){var e,h,d=0,g,k;a=a.filter(function(){return 3!=this.nodeType});e=a.add("[data-view-id]",a);for(h=e.length;d<h;d++)e[d].getAttribute&&(g=e[d].getAttribute("data-view-id"))&&(k=c[g])&&(k(e[d],g),delete c[g],e[d].removeAttribute("data-view-id"));f.extend(b.hookups,c)};f.fn.hookup=function(){var a=b.hookups;b.hookups={};v(this,a);return this};f.each("prepend append after before text html replaceWith val".split(" "),
function(a,b){h(b)})})();(function(){var d=function(a){eval(a)},m=f.String.rsplit,a=f.extend,b=f.isArray,g=/\r\n/g,k=/\r/g,c=/\n/g,e=/\n/,h=/\\/g,n=/"/g,q=/'/g,p=/\t/g,t=/\{/g,u=/\}/g,v=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,s=function(a){return a.replace(h,"\\\\").replace(c,"\\n").replace(n,'\\"').replace(p,"\\t")},r=f.View,y=function(a){var b=a.match(t);a=a.match(u);return(b?b.length:0)-(a?a.length:0)},w=function(b){if(this.constructor!=w){var c=new w(b);return function(a,b){return c.render(a,b)}}"function"==
typeof b?this.template={fn:b}:(a(this,w.options,b),this.template=A(this.text,this.type,this.name))};f&&(f.EJS=w);w.prototype.render=function(a,b){a=a||{};this._extra_helpers=b;var c=new w.Helpers(a,b||{});return this.template.fn.call(a,a,c)};a(w,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var c=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a||b(a)&&function(b,c){for(var e=0;e<a.length;e++)a[e].hookup?a[e].hookup(b,c):a[e](b,c)};return c?
"data-view-id='"+r.hookup(c)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(n,"&#34;").replace(q,"&#39;"):"number"==typeof a?a:w.text(a)},options:{type:"[",ext:".ejs"}});var x=function(a,b,c){b=m(b,e);for(var h=0;h<b.length;h++){var d=a,g=b[h],k=c;d.lines++;for(var g=m(g,d.splitter),f=void 0,n=0;n<g.length;n++)f=g[n],null!==f&&k(f,d)}},C=function(b,c){var e={};a(e,{left:b+"%",right:"%"+c,dLeft:b+
"%%",dRight:"%%"+c,eeLeft:b+"%==",eLeft:b+"%=",cmnt:b+"%#",cleanLeft:b+"%~",scan:x,lines:0});e.splitter=RegExp("("+[e.dLeft,e.dRight,e.eeLeft,e.eLeft,e.cmnt,e.left,e.right+"\n",e.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return e},A=function(a,b,c){a=a.replace(g,"\n").replace(k,"\n");b=b||"[";var e=new w.Buffer(["var ___v1ew = [];"],[]),h="",n=null,m=[];x(C(b,"["===b?"]":">"),a||"",function(a,b){var c;if(null===n)switch(a){case "\n":h+="\n";e.push("___v1ew.push(",'"',
s(h),'");');e.cr();h="";break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:n=a;0<h.length&&e.push("___v1ew.push(",'"',s(h),'");');h="";break;case b.dLeft:h+=b.left;break;default:h+=a}else switch(a){case b.right:switch(n){case b.left:c=y(h);var d=m.length&&-1==c?m.pop():";";"));"===d&&e.push("return ___v1ew.join('')");e.push(h,d);1===c&&m.push(";");break;case b.eLeft:(c=y(h))&&m.push("));");v.test(h)&&(d=h.match(v),h="function(__){var "+d[1]+"=$(__);"+d[2]+"}");e.push("___v1ew.push(",f.globalNamespace+
".EJS.clean(",h,c?"var ___v1ew = [];":"));");break;case b.eeLeft:(c=y(h))&&m.push("));"),e.push("___v1ew.push(",f.globalNamespace+".EJS.text(",h,c?"var ___v1ew = [];":"));")}n=null;h="";break;case b.dRight:h+=b.right;break;default:h+=a}});0<h.length&&e.push("___v1ew.push(",'"',s(h)+'");');a={out:"try { with(_VIEW) { with (_CONTEXT) {"+e.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};d.call(a,"this.fn = (function(_CONTEXT,_VIEW){ var $ = "+f.globalNamespace+";"+a.out+"});");
return a};w.Buffer=function(a,b){this.line=[];this.script=[];this.post=b;this.push.apply(this,a)};w.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){0<this.line.length&&(this.script.push(this.line.join("")),this.line=[]);this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};w.Helpers=function(b,c){this._data=b;this._extras=c;a(this,c)};
w.Helpers.prototype={plugin:function(a){var b=f.makeArray(arguments),c=b.shift();return function(a){a=f(a);a[c].apply(a,b)}},view:function(a,b,c){c=c||this._extras;b=b||this._data;return r(a,b,c)}};r.register({suffix:"ejs",script:function(a,b){return f.globalNamespace+".EJS(function(_CONTEXT,_VIEW) { "+(new w({text:b,name:a})).template.out+" })"},renderer:function(a,b){return w({text:b,name:a})}})})();(function(){var d=f.isArray,m=function(a){return"object"===typeof a&&null!==a&&a},a=f.makeArray,
b=f.each,g=function(a,b,c){a instanceof f.Observe?k([a],c._namespace):a=d(a)?new f.Observe.List(a):new f.Observe(a);a.bind("change"+c._namespace,function(e,h){var d=f.makeArray(arguments);e=d.shift();d[0]="*"===b?c.indexOf(a)+"."+d[0]:b+"."+d[0];f.event.trigger(e,d,c)});return a},k=function(a,b){for(var c,e=0;e<a.length;e++)(c=a[e])&&c.unbind&&c.unbind("change"+b)},c=0,e=null,h=function(){if(!e)return e=[],!0},n=function(a,b,c){if(!a._init)if(e)e.push({t:a,ev:b,args:c});else return f.event.trigger(b,
c,a,!0)},q=0,p=function(){var a=e.length,b=e.slice(0),c;e=null;q++;for(var h=0;h<a;h++)c=b[h],f.event.trigger({type:c.ev,batchNum:q},c.args,c.t)},t=function(a,b,c){a.each(function(a,e){c[a]=m(e)&&"function"==typeof e[b]?e[b]():e});return c};f.Class(f.globalNamespace+".Observe",{init:function(a){this._data={};this._namespace=".observe"+ ++c;this._init=!0;this.attrs(a);delete this._init},attr:function(a,b){if(void 0===b)return this._get(a);this._set(a,b);return this},each:function(){return b.apply(null,
[this.__get()].concat(a(arguments)))},removeAttr:function(a){a=d(a)?a:a.split(".");var b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);delete this._data[b];n(this,"change",[b,"remove",void 0,c]);return c},_get:function(a){a=d(a)?a:(""+a).split(".");var b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var c=d(a)?a:(""+a).split("."),e=c.shift(),h=this.__get(e);if(m(h)&&c.length)h._set(c,b);else{if(c.length)throw"jQuery.Observe: set a property on an object that does not exist";
b!==h&&(c=this.__get().hasOwnProperty(e)?"set":"add",this.__set(e,m(b)?g(b,e,this):b),n(this,"change",[e,c,b,h]),h&&k([h],this._namespace))}},__set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:function(a,b){f.fn.bind.apply(f([this]),arguments);return this},unbind:function(a,b){f.fn.unbind.apply(f([this]),arguments);return this},serialize:function(){return t(this,"serialize",{})},attrs:function(a,b){if(void 0===a)return t(this,"attrs",{});a=f.extend(!0,{},a);var c,
e=h();for(c in this._data){var d=this._data[c],g=a[c];void 0===g?b&&this.removeAttr(c):(m(d)&&m(g)?d.attrs(g,b):d!=g&&this._set(c,g),delete a[c])}for(c in a)g=a[c],this._set(c,g);e&&p()}});var u=f.Observe(f.globalNamespace+".Observe.List",{init:function(b,e){this.length=0;this._namespace=".list"+ ++c;this._init=!0;this.bind("change",this.proxy("_changes"));this.push.apply(this,a(b||[]));f.extend(this,e);this.comparator&&this.sort();delete this._init},_changes:function(a,b,c,e,h){if(this.comparator&&
/^\d+./.test(b)){var d=+/^\d+/.exec(b)[0],g=this[d],k=this.sortedIndex(g);if(k!==d){[].splice.call(this,d,1);[].splice.call(this,k,0,g);n(this,"move",[g,k,d]);a.stopImmediatePropagation();n(this,"change",[b.replace(/^\d+/,k),c,e,h]);return}}-1===b.indexOf(".")&&("add"===c?n(this,c,[e,+b]):"remove"===c&&n(this,c,[h,+b]))},sortedIndex:function(a){var b=a.attr(this.comparator),c=0,e;for(e=0;e<this.length;e++)if(a===this[e])c=-1;else if(b<=this[e].attr(this.comparator))break;return e+c},__get:function(a){return a?
this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return t(this,"serialize",[])},splice:function(b,c){var e=a(arguments),h;for(h=2;h<e.length;h++){var d=e[h];m(d)&&(e[h]=g(d,"*",this))}void 0===c&&(c=e[1]=this.length-b);h=[].splice.apply(this,e);0<c&&(n(this,"change",[""+b,"remove",void 0,h]),k(h,this._namespace));2<e.length&&n(this,"change",[""+b,"add",e.slice(2),h]);return h},attrs:function(a,b){if(void 0===a)return t(this,"attrs",[]);a=a.slice(0);for(var c=Math.min(a.length,this.length),
e=h(),d=0;d<c;d++){var g=this[d],k=a[d];m(g)&&m(k)?g.attrs(k,b):g!=k&&this._set(d,k)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length);e&&p()},sort:function(a,b){var c=this.comparator;[].sort.apply(this,c?[function(a,b){a=a[c];b=b[c];return a===b?0:a<b?-1:1}]:[]);!b&&n(this,"reset")}});b({push:"length",unshift:0},function(b,c){u.prototype[b]=function(){for(var e=arguments[0]&&f.isArray(arguments[0])?arguments[0]:a(arguments),h=c?this.length:0,d=0;d<
e.length;d++){var k=e[d];m(k)&&(e[d]=g(k,"*",this))}if(1==e.length&&this.comparator)return h=this.sortedIndex(e[0]),this.splice(h,0,e[0]),this.length;d=[][b].apply(this,e);this.comparator&&1<e.length?(this.sort(null,!0),n(this,"reset",[e])):n(this,"change",[""+h,"add",e,void 0]);return d}});b({pop:"length",shift:0},function(b,c){u.prototype[b]=function(){var e=arguments[0]&&f.isArray(arguments[0])?arguments[0]:a(arguments),h=c&&this.length?this.length-1:0,e=[][b].apply(this,e);n(this,"change",[""+
h,"remove",void 0,[e]]);e&&e.unbind&&e.unbind("change"+this._namespace);return e}});u.prototype.indexOf=[].indexOf||function(a){return f.inArray(a,this)};f.O=function(a,b){return d(a)||a instanceof f.Observe.List?new f.Observe.List(a,b):new f.Observe(a,b)}})();(function(){var d=/\:([\w\.]+)/g,m=/^(?:&[^=]+=[^&]*)+/,a=function(a){var b=[];e(a,function(a,c){"className"===a&&(a="class");c&&b.push(a.replace(/"/g,"&#34;").replace(/'/g,"&#39;"),'="',c.replace(/"/g,"&#34;").replace(/'/g,"&#39;"),'" ')});
return b.join("")},b=!0,g=window.location,k=encodeURIComponent,c=decodeURIComponent,e=f.each,h=f.extend;f.route=function(a,b){var c=[],e=a.replace(d,function(a,b){c.push(b);return"([^\\/\\&]*)"});f.route.routes[a]={test:RegExp("^"+e+"($|&)"),route:a,names:c,defaults:b||{},length:a.split("/").length};return f.route};h(f.route,{param:function(a){var b,c=0,g,n=a.route;delete a.route;n&&(b=f.route.routes[n])||e(f.route.routes,function(e,h){a:{for(var d=0,k=0;k<h.names.length;k++){if(!a.hasOwnProperty(h.names[k])){g=
-1;break a}d++}g=d}g>c&&(b=h,c=g)});if(b){var m=h({},a),n=b.route.replace(d,function(c,e){delete m[e];return a[e]===b.defaults[e]?"":k(a[e])}),q;e(b.defaults,function(a,b){m[a]===b&&delete m[a]});q=f.param(m);return n+(q?"&"+q:"")}return f.isEmptyObject(a)?"":"&"+f.param(a)},deparam:function(a){var b={length:-1};e(f.route.routes,function(c,e){e.test.test(a)&&e.length>b.length&&(b=e)});if(-1<b.length){var d=a.match(b.test),g=d.shift(),k=(g=a.substr(g.length-("&"===d[d.length-1]?1:0)))&&m.test(g)?f.String.deparam(g.slice(1)):
{},k=h(!0,{},b.defaults,k);e(d,function(a,e){e&&"&"!==e&&(k[b.names[a]]=c(e))});k.route=b.route;return k}"&"!==a.charAt(0)&&(a="&"+a);return m.test(a)?f.String.deparam(a.slice(1)):{}},data:new f.Observe({}),routes:{},ready:function(a){!1===a&&(b=!1);!0!==a&&!0!==b||q();return f.route},url:function(a,b){return b?"#!"+f.route.param(h({},n,a)):"#!"+f.route.param(a)},link:function(b,c,e,d){return"<a "+a(h({href:f.route.url(c,d)},e))+">"+b+"</a>"},current:function(a){return g.hash=="#!"+f.route.param(a)}});
f(function(){f.route.ready()});e("bind unbind delegate undelegate attr attrs serialize removeAttr".split(" "),function(a,b){f.route[b]=function(){return f.route.data[b].apply(f.route.data,arguments)}});var n,q=function(){var a="!"===g.hash.substr(1,1)?g.hash.slice(2):g.hash.slice(1);n=f.route.deparam(a);f.route.attrs(n,!0)};f(window).bind("hashchange",q);f.route.bind("change",function(a){var b;return function(){var c=arguments,e=this;clearTimeout(b);b=setTimeout(function(){a.apply(e,c)},1)}}(function(){g.hash=
"#!"+f.route.param(f.route.serialize())}))})()});FD31.plugin("joomla",function(f){var d={squeezebox:function(){return m.isJoomla15?window.parent.document.getElementById("sbox-window"):window.parent.SqueezeBox}},m=f.Joomla=function(a,g){if(f.isFunction(g))m.isJoomla15?window[a]=g:window.Joomla[a]=g;else if(a=d[a]||(m.isJoomla15?window[a]:window.Joomla[a]),f.isFunction(a))return a.apply(window,g)},a=parseFloat(f.joomla.version);m.isJoomla15=1.5>=a;m.isJoomla25=1.6<=a&&2.5>=a;m.isJoomla30=3<=a});
FD31.plugin("module",function(f){var d=function(d){var a=this,b=f.Callbacks("once memory");f.extend(this,f.Deferred(),{name:d,status:"pending",ready:function(d){!0===d&&b.fire.call(a,f);f.isFunction(d)&&b.add(d)}});a.then(function(){a.exports=this;a.status="resolved"},function(){a.status="rejected"});var g=a.done;a.done=function(){a.required=!0;var b=a.factory;b&&"ready"===a.status&&b.call(a,f);a.done=g;return a.done.apply(this,arguments)}};f.module=function(){var m=function(a,b){var d;if("string"===
typeof a){d=m.get(a);if(void 0===b)return d;if(f.isFunction(b)){if("resolved"==d.status)return d;d.factory=b;d.status="ready";d.ready("true");d.required&&(d.status="executing",b.call(d,f));return d}}f.isArray(a)&&(d=f.map(a,function(a){var b=m.get(f.isString(a)?a:a.name);if(b&&("pending"===b.status&&(b.status="ready"),f.isPlainObject(a)))return a}),f.each(d,function(a,b){m(b.name,b.factory)}))};f.extend(m,{registry:{},get:function(a){if(a)return f.isModule(a)&&(a=a.replace("module://","")),m.registry[a]||
m.create(a)},create:function(a){return m.registry[a]=new d(a)},remove:function(a){delete m.registry[a]}});return m}();f.isModule=function(m){return f.isString(m)?!!m.match("module://"):m&&m instanceof d}});
FD31.plugin("script",function(f){f.script=function(){var d=function(a){a=f.extend(this,a);a.manager=f.Deferred();f.extend(a,a.manager.promise());a.load()},m=document.getElementsByTagName("head")[0];document.getElementsByTagName("base");f.extend(d.prototype,{timeout:7E3,retry:3,retryCount:1,type:"text/javascript",async:!1,charset:"UTF-8",verbose:!1,insert:function(){m.appendChild(this.node)},remove:function(){var a=this.node;setTimeout(function(){a.onload=a.onerror=a.onreadystatechange=null;try{m.removeChild(a)}catch(b){}},
1E3)},load:function(){var a;this.endTime=void 0;this.startTime=new Date;this.node=a=document.createElement("script");this.insert();this._ready=f.proxy(this.ready,this);this._error=f.proxy(this.error,this);a.attachEvent&&!f.browser.opera?(a.attachEvent("onreadystatechange",this._ready),a.attachEvent("onerror",this._error)):(a.addEventListener("load",this._ready,!1),a.addEventListener("error",this._error,!1));f(a).attr({type:this.type,async:this.async,charset:this.charset,src:this.url});this.monitor()},
monitor:function(){var a=this;a.retryCount>a.retry?a._error():setTimeout(function(){"resolved"!==a.state()&&(a.verbose&&console.warn("$.script: Load timeout. [Retry: "+a.retryCount+"]",a),a.remove(),a.retryCount++,a.load())},a.timeout*a.retryCount)},ready:function(a){var b=this.node;if("load"===a.type||/loaded|complete/.test(b.readyState))this.complete.call(this,a),this.manager.resolve(this)},error:function(a){this.verbose&&console.error("$.script: Unable to load ",this);this.complete.call(this,a);
this.remove();this.manager.reject(this)},complete:function(a){a=this.node;this.endTime=new Date;a.detachEvent&&!f.browser.opera?(a.detachEvent("onreadystatechange",this._ready),a.detachEvent("onerror",this._error)):(a.removeEventListener("load",this._ready,!1),a.removeEventListener("error",this._error,!1))}});return function(a){if(void 0!==a)return"string"===typeof a&&(a={url:a}),new d(a)}}()});
FD31.plugin("stylesheet",function(f){var d=document.getElementsByTagName("head")[0],m=document.styleSheets,a=document.createStyleSheet;f.stylesheet=function(){var b=function(a,d){var c={};f.extend(c,b.defaultOptions,f.isPlainObject(a)?a:{url:a,attr:d||{}});return void 0===c.url?b.create(c):b.load(c)};f.extend(b,{defaultOptions:{type:"text/css",rel:"stylesheet",media:"all",title:"",forceInject:!1,xhr:!1},setup:function(a){f.extend(b.defaultOptions,a)},availability:function(){var a={},d=f('link[rel*="stylesheet"]');
styles=f("style");a.groups=31-d.length-styles.length;a.slots=31*a.groups;b.currentGroup&&(a.slots+=31-b.currentGroup.imports.length);return a},get:function(a){for(var b=0;b<m.length;b++){var c=m[b];if((c.ownerNode||c.owningElement)==a)return c}},create:function(b){var k,c;c=m.length;if(a){if(31<=c)return;k=document.createStyleSheet();c=k.ownerNode||k.owningElement}else c=document.createElement("style"),d.appendChild(c);f.extend(c,{type:b.type,title:b.title,media:b.media,rel:b.rel});b=b.content;void 0!==
b&&(a?k.cssText=b:c.appendChild(document.createTextNode(b)));return c},nextAvailable:function(d){var k,c=m.length;if(c)for(;c--;0>c)if(k=m[c],a&&4095<=(k.cssRules||k.rules).length)k=void 0;else break;return k.ownerNode||k.owningElement||(d?b():void 0)},load:function(a){return f.browser.msie&&!a.forceInject?b._import(a):f("<link>").attr({href:a.url,type:a.type,rel:a.rel,media:a.media}).appendTo("head")[0]},_import:function(a){var d;if(void 0===b.currentGroup){var c;try{c=document.createStyleSheet(),
c.media="all",c.title="jquery_stylesheet"}catch(e){d=!0,a.verbose&&console.error("There is not enough slots left to create a new stylesheet group.")}if(d)return!1;b.currentGroup=c}try{b.currentGroup.addImport(a.url)}catch(h){d=!0,a.verbose&&console.info("Import slots exceeded. Creating a new stylesheet group.")}return d?(b.currentGroup=void 0,b._import(a)):!0}});return b}();(function(){var a=function(a,b,e){f.extend(this,{id:f.uid(),style:e,selectors:[],preRule:"",rules:{},legacy:8===f.IE,important:!1});
a&&this.set(a,b)};f.extend(a.prototype,{set:function(a,b){f.isString(a)?this.selectors=a.split(","):this.selectors=a;f.isString(b)?(this.preRule=b+"\n",this.rules={}):(this.preRule="",this.rules=b||this.rules);this.update();return this},cssText:function(){return this.selectors.join(",")+"{"+this.ruleText()+"}\n"},ruleText:function(){var a=this.important;return this.preRule+(this.legacy?"-rule-id:"+this.id+";":"")+f.map(this.rules,function(b,e){f.isNumeric(b)&&!f.cssNumber[e]&&(b+="px");a&&(b+=" !important");
return e+":"+b}).join(";")},update:function(){if(this.legacy)return this.updateLegacy();var a=this.cssText();void 0===this.textNode?(this.textNode=document.createTextNode(a),this.style.appendChild(this.textNode)):this.textNode.nodeValue=a;return this},updateLegacy:function(){this.removeLegacy();for(var a=f.stylesheet.get(this.style),b=this.selectors,e=this.ruleText(),h=0;h<b.length;h++)a.addRule(b[h],e);return this},remove:function(){if(this.legacy)return this.removeLegacy();void 0!==this.textNode&&
(this.style.removeChild(this.textNode),delete this.textNode);return this},removeLegacy:function(){for(var a=f.stylesheet.get(this.style),b=a.rules,e=0;e<b.length;e++)null!==b[e].cssText.match(this.id)&&a.removeRule(e);return this},css:function(a,b){if(f.isString(a)&&void 0===b)return this.rules[a];f.isPlainObject(a)?f.extend(this.rules,a):this.rules[a]=b;this.update();return this}});var d=f.cssRule=function(k,c,e){if(e=e||d.style||f.stylesheet.nextAvailable(!0))return new a(k,c,e)};d.style=f.stylesheet()})();
(function(){f.cssUrl=function(a){return'url("'+encodeURI(a)+'")'}})()});
FD31.plugin("language",function(f){f.sprintf=function(){var d=arguments,a=0,b=function(a,b,h,d){h||(h=" ");b=a.length>=b?"":Array(1+b-a.length>>>0).join(h);return d?a+b:b+a},g=function(a,e,h,d,g,k){var f=d-a.length;0<f&&(a=h||!g?b(a,d,k,h):a.slice(0,e.length)+b("",f,"0",!0)+a.slice(e.length));return a},k=function(a,e,h,d,k,f,m){a>>>=0;h=h&&a&&{2:"0b",8:"0",16:"0x"}[e]||"";a=h+b(a.toString(e),f||0,"0",!1);return g(a,h,d,k,m)};return d[a++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,
function(c,e,h,f,q,p,t){var u,v;if("%%"==c)return"%";var s=!1;v="";var r=q=!1;u=" ";for(var y=h.length,w=0;h&&w<y;w++)switch(h.charAt(w)){case " ":v=" ";break;case "+":v="+";break;case "-":s=!0;break;case "'":u=h.charAt(w+1);break;case "0":q=!0;break;case "#":r=!0}f=f?"*"==f?+d[a++]:"*"==f.charAt(0)?+d[f.slice(1,-1)]:+f:0;0>f&&(f=-f,s=!0);if(!isFinite(f))throw Error("sprintf: (minimum-)width must be finite");p=p?"*"==p?+d[a++]:"*"==p.charAt(0)?+d[p.slice(1,-1)]:+p:-1<"fFeE".indexOf(t)?6:"d"==t?0:
void 0;e=e?d[e.slice(0,-1)]:d[a++];switch(t){case "s":return t=String(e),null!=p&&(t=t.slice(0,p)),g(t,"",s,f,q,u);case "c":return t=String.fromCharCode(+e),null!=p&&(t=t.slice(0,p)),g(t,"",s,f,q,void 0);case "b":return k(e,2,r,s,f,p,q);case "o":return k(e,8,r,s,f,p,q);case "x":return k(e,16,r,s,f,p,q);case "X":return k(e,16,r,s,f,p,q).toUpperCase();case "u":return k(e,10,r,s,f,p,q);case "i":case "d":return u=+e|0,c=0>u?"-":v,e=c+b(String(Math.abs(u)),p,"0",!1),g(e,c,s,f,q);case "e":case "E":case "f":case "F":case "g":case "G":return u=
+e,c=0>u?"-":v,v=["toExponential","toFixed","toPrecision"]["efg".indexOf(t.toLowerCase())],t=["toString","toUpperCase"]["eEfFgG".indexOf(t)%2],e=c+Math.abs(u)[v](p),g(e,c,s,f,q)[t]();default:return c}})};var d=f.language=f.JText=function(f){return 2>arguments.length?d._(f):d.sprintf.apply(null,arguments)};f.extend(d,{lang:{},add:function(m,a){f.isPlainObject(m)?f.extend(d.lang,m):d.lang[m]=a},remove:function(f){delete d.lang[f]},_:function(f){return d.lang[f]||""},sprintf:function(){arguments[0]=
d.lang[arguments[0]];return f.sprintf.apply(null,arguments)}})});FD31.plugin("template",function(f){f.template=function(){var d={content:"",type:"ejs"},m=function(a,b){if(void 0===a)return m.templates;var g;if("string"==typeof b)return g=f.isPlainObject(b)?b:f.extend({},d,{name:a,content:b}),m.templates[a]=g;g=m.templates[a]||{};return g.content||""};f.extend(m,{templates:{},remove:function(a){delete m.templates[a]}});return m}()});
FD31.plugin("require",function(f){f.require=function(){var d=function(a){return f.uri(a).setAnchor("").setQuery("").toPath("../").toString()},m=function(a){a=new b(a);return m.batches[a.id]=a};f.extend(m,{defaultOptions:{path:function(){var a=f.path+"/scripts/"||f("[require-path]").attr("require-path")||d(f("script:last").attr("src"))||d(window.location.href);/^(\/|\.)/.test(a)&&(a=f.uri(window.location.href).toPath(a).toString());return a}(),timeout:1E4,retry:3,verbose:"development"==f.environment},
setup:function(a){f.extend(m.defaultOptions,a)},batches:{},status:function(a){f.each(m.batches,function(b,c){var e={pending:0,resolved:0,rejected:0,ready:0,total:0},h=[];f.each(c.tasks,function(a,b){state=b.module&&"ready"==b.module.status?"ready":b.state();e[state]++;e.total++;h.push({state:state,content:"["+state+"] "+b.name})});var d=c.id+": "+c.state()+" ["+e.resolved+"/"+e.total+"]";a&&1>e[a]||(f.IE?(console.log('$.require.batches["'+c.id+'"]'),f.each(h,function(a,b){console.log(b.content)}),
console.log("")):(console.groupCollapsed(d),console.log('$.require.batches["'+c.id+'"]',c),f.each(h,function(b,c){var e=c.state,h=c.content;if(!a||e==a)switch(e){case "pending":console.warn(h);break;case "rejected":console.error(h);break;default:console.info(h)}}),console.groupEnd(d)))});return"$.require.status(pending|resolved|rejected|ready);"},loaders:{},addLoader:function(a,d){m[a]=d;b.prototype[a]=function(){this.autoFinalize();d.apply(this,arguments);return this};m.loaders[a]=m[a]=d},removeLoader:function(a){delete b.prototype[a];
delete m[a]}});var a=0,b=function(b){var d=f.Callbacks("once memory"),c=!1;return f.extend(this,{id:++a,tasks:[],options:f.extend({},m.defaultOptions,b),autoFinalizeDuration:300,finalized:!1,required:function(a){!0===a&&(c=d.fire());f.isFunction(a)&&d.add(a);return c}})};f.extend(b.prototype,{addTask:function(a){f.isDeferred(a)&&!this.finalized&&(this.tasks.push(a),a.batch=this)},autoFinalize:function(){var a=this,b=a.autoFinalizeDuration;!1!==b&&(clearTimeout(a.autoFinalizeTimer),a.autoFinalizeTimer=
setTimeout(function(){a.finalize()},b))},finalize:function(){var a=this;if(!a.finalized){a.finalized=!0;var b=a.manager=f.when.apply(null,a.tasks),c=b.promise(),e=f.Callbacks();f.extend(a,c,{progress:e.add,notify:e.fire,done:function(){a.required(!0);a.done=c.done;return a.done.apply(a,arguments)}});var h=a.options.verbose;b.progress(function(a,b){h&&"rejected"==a&&console.warn("Require: Task "+b.name+" failed to load.",b)}).fail(function(){h&&console.warn("Require: Batch "+a.id+" failed.",a)});setTimeout(function(){f.each(a.tasks,
function(b,c){c.then(function(){a.notify("resolved",c)},function(){a.notify("rejected",c)},function(){a.notify("progress",c)})})},1)}},expand:function(a,b){a=f.makeArray(a);var c=b||{},e=[];f.isPlainObject(a[0])?(c=f.extend(a[0],b),e=a.slice(1)):e=a;return{options:c,names:e}}});f.each(["done","fail","progress","always","then"],function(a,d){b.prototype[d]=function(){this.finalize();return this[d].apply(this,arguments)}});return m}();f.require.addLoader("script",function(){var d=f.uri(f.indexUrl).host(),
m=f.uri(document.location.href).host();d!==m&&d.match("xn--")&&(f.support.cors=!0);document.createElement("script");var a=function(){var b=this,d=f.makeArray(arguments),k;f.isPlainObject(d[0])&&(k=d[0],d=d.slice(1));k=f.extend({},a.defaultOptions,b.options,k,{batch:b});var c;f.each(d,function(e,h){var d=new a.task(h,k,c);b.addTask(d);k.serial&&void 0!==c?c.always(d.start):d.start();c=d})};f.extend(a,{defaultOptions:{path:"",extension:"compressed"==f.mode?"min.js":"js",serial:!1,async:!1,xhr:!1},setup:function(){f.extend(a.defaultOptions,
options)},scripts:{},task:function(a,d,k){var c=f.extend(this,f.Deferred());c.name=a;c.options=d;c.taskBefore=k;f.isArray(a)&&(c.name=a[0]+"@"+a[1],c.moduleName=a[0],a[2]||(c.defineModule=!0,f.module.registry[c.moduleName]&&console.warn("$.require.script: "+c.moduleName+" exists! Using existing module instead."),c.options.xhr=!0),a=a[1],c.module=f.module(c.moduleName));f.isUrl(a)?c.url=a:/^(\/|\.)/.test(a)?c.url=f.uri(c.options.path).toPath(a).toString():(c.url=f.uri(c.options.path).toPath("./"+a+
"."+c.options.extension).toString(),c.module=f.module(a))}});f.extend(a.task.prototype,{start:function(){var a=this.module;a&&"pending"!==a.status?this.waitForModule():this.load()},waitForModule:function(){var a=this,d=a.module;d.then(a.resolve,a.reject,a.notify);a.batch.required(function(){d.done(a.resolve)})},load:function(){var b=this,d=b.taskBefore;b.script=a.scripts[b.url]||function(){var d=b.options.xhr?f.ajax({url:b.url,dataType:"text"}):f.script({url:b.url,type:"text/javascript",async:b.options.async,
timeout:b.batch.options.timeout,retry:b.batch.options.retry,verbose:b.batch.options.verbose});return a.scripts[b.url]=d}();b.script.done(function(a){if(b.options.xhr&&(b.defineModule&&(b.module=f.module(b.moduleName,function(){f.globalEval(a);this.resolveWith(a)})),!b.options.async||d)){d.done(function(){f.globalEval(a);b.module?b.waitForModule():b.resolve()});return}b.module?b.waitForModule():b.resolve()}).fail(function(){b.reject()})}});return a}());f.require.addLoader("stylesheet",function(){var d=
function(){var m=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,m.options,{path:f.path+"/styles/"},b,{batch:m});f.each(a,function(a,k){var c=new d.task(k,b),e=d.stylesheets[c.url],c=e||c;m.addTask(c);e||(d.stylesheets[c.url]=c,c.start())})};f.extend(d,{defaultOptions:{path:"",extension:"compressed"==f.mode?"min.css":"css",xhr:!1},setup:function(){f.extend(d.defaultOptions,options)},stylesheets:{},task:function(d,a){var b=f.extend(this,f.Deferred());
b.name=d;b.options=a;f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString();b.options.url=b.url},loaders:{},loader:function(m){if(f.isArray(m))return f.map(m,function(a){return d.loader(a)});if(f.isPlainObject(m))return f.map(m,function(a,g){return d.loader(a).resolve(g)});var a=d.loaders[m];a||(a=d.loaders[m]=f.Deferred().done(function(a){f.isPlainObject(a)||f.stylesheet(a)}));return a}});
f.extend(d.task.prototype,{start:function(){var m=d.loaders[this.name];m||(m=d.loader(this.name),f.stylesheet(this.options)?m.resolve():m.reject());m.then(this.resolve,this.reject)}});return d}());f.require.addLoader("template",function(){var d=function(){var m=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,m.options,b,{batch:m});f.each(a,function(a,k){var c=new d.task(k,b);m.addTask(c);c.start()})};f.extend(d,{defaultOptions:{path:"",extension:"htm"},
setup:function(){f.extend(d.defaultOptions,options)},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d;b.options=a;f.isArray(d)&&(b.name=d[0],d=d[1]);f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString()},loaders:{},loader:function(m){if(f.isArray(m))return f.map(m,function(a){return d.loader(a)});if(f.isPlainObject(m))return f.map(m,function(a,g){return d.loader(g).resolve(a)});
var a=d.loaders[m];a||(a=d.loaders[m]=f.Deferred().done(function(a){f.template(m,a)}));return a}});f.extend(d.task.prototype,{start:function(){var m=d.loaders[this.name];m||(m=d.loader(this.name),m.xhr=f.Ajax({url:this.url,dataType:"text"}).then(m.resolve,m.reject).then(this.resolve,this.reject));this.loader=m;return this}});return d}());f.require.addLoader("language",function(){var d=function(){var m=f.makeArray(arguments),a;f.isPlainObject(m[0])&&(a=m[0],m=m.slice(1));a=f.extend({},d.defaultOptions,
this.options,a,{batch:this});a=new d.task(m,a);this.addTask(a);a.start()};f.extend(d,{defaultOptions:{path:""},setup:function(){f.extend(d.defaultOptions,options)},loaders:{},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d.join(",");b.options=a;b.url=a.path;b.names=d},loaders:{},loader:function(m){if(f.isArray(m))return f.map(m,function(a){return d.loader(a)});if(f.isPlainObject(m))return f.map(m,function(a,g){return d.loader(g).resolve(a)});var a=d.loaders[m];a||(a=d.loaders[m]=f.Deferred().done(function(a){f.language.add(m,
a)}));return a}});f.extend(d.task.prototype,{start:function(){var m=this,a=f.map(m.names,function(a){var g=d.loader(a);g.push(g);return/resolved|rejected/.test(g.state())?null:a});m.fail(function(){f.each(a,function(a,g){d.loader(g).reject()})});f.when.apply(null,[]).then(m.resolve,m.reject);if(1>a.length)return m;m.xhr=f.Ajax({url:m.url,type:"POST",data:{keys:a}}).done(function(a){f.isPlainObject(a)?d.loader(a):m.reject()}).fail(function(){m.reject()});return m}});return d}());f.require.addLoader("library",
function(){var d=f.makeArray(arguments),m={};f.isPlainObject(d[0])&&(m=d[0],d=d.slice(1));f.extend(m,{path:f.scriptPath});return this.script.apply(this,[m].concat(d))});f.require.addLoader("image",function(){var d=function(){var m=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,m.options,b,{batch:m});f.each(a,function(a,k){var c=new d.task(k,b),e=d.images[c.url],c=e||c;m.addTask(c);e||(d.images[c.url]=c,c.start())})};f.extend(d,{defaultOptions:{path:""},
setup:function(){f.extend(d.defaultOptions,options)},images:{},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d;b.options=a;f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d).toString();b.options.url=b.url}});f.extend(d.task.prototype,{start:function(){var d=this;d.image=f(new Image).load(function(){d.resolve()}).error(function(){d.reject()}).attr("src",d.options.url)}});return d}())});
FD31.plugin("iframe-transport",function(f){f.ajaxPrefilter(function(d,f,a){if(d.iframe)return"iframe"});f.ajaxTransport("iframe",function(d,m,a){function b(){h&&n.replaceWith(function(a){return e.get(a)});g.remove();k.attr("src","javascript:false;").remove()}var g=null,k=null,c="iframe-"+f.now(),e=f(d.files).filter(":file:enabled"),h=0<e.length,n=null;d.dataTypes.shift();g=f("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:d.url,target:c});"string"===typeof d.data&&
0<d.data.length&&f.error("data must not be serialized");f.each(d.data||{},function(a,b){f.isPlainObject(b)&&(a=b.name,b=b.value);f.isArray(b)||(b=[b]);f.each(b,function(b,c){f("<input type='hidden' />").attr({name:a,value:c}).appendTo(g)})});f("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(g);h&&(n=e.after(function(a){return f(this).clone().prop("disabled",!0)}).next(),e.appendTo(g));return{send:function(a,e){k=f("<iframe src='javascript:false;' name='"+c+"' id='"+c+"' style='display:none'></iframe>");
k.bind("load",function(){k.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,c=a.documentElement?a.documentElement:a.body,h=c.getElementsByTagName("textarea")[0],a=h?h.getAttribute("data-type"):null,d=h?h.getAttribute("data-status"):200,g=h?h.getAttribute("data-statusText"):"OK",c={html:c.innerHTML,text:a?h.value:c?c.textContent||c.innerText:null};b();e(d,g,c,a?"Content-Type: "+a:null)});g[0].submit()});
f("body").append(g,k)},abort:function(){null!==k&&(k.unbind("load").attr("src","javascript:false;"),b())}}})});
FD31.plugin("server",function(f){var d=f.server=function(m){var a=f.Deferred(),b=f.extend(!0,{},d.defaultOptions,m,{success:function(){}});a.xhr=f.Ajax(b).done(function(b){if("string"===typeof b)try{b=f.parseJSON(b)}catch(k){a.rejectWith(a,["Unable to parse Ajax commands.","error"])}if(f.isArray(b)){var c=function(b){var c=b.type,c=d.parsers[c]||m[c];if(f.isFunction(c))return c.apply(a,b.data)};b=f.map(b,function(a){if("notify"==a.type)c(a);else return a});f.each(b,function(a,b){c(b)})}else a.rejectWith(a,
["Invalid ajax commands.","error"]);"pending"===a.state()&&a.resolveWith(a)}).fail(function(b,d,c){a.rejectWith(a,[c,d])});return a};d.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},dataType:"json"};d.parsers={script:function(){var d=f.makeArray(arguments);if("string"==typeof d[0])try{eval(d[0])}catch(a){}else{var b=window;f.each(d,function(a,d){"Foundry"===d.property&&(d.property=f.globalNamespace);"Foundry"===d.method&&(d.method=f.globalNamespace);try{switch(d.type){case "get":b=
b[d.property];break;case "set":b[d.property]=d.value;break;case "call":b=b[d.method].apply(b,d.args)}}catch(c){}})}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)},notify:function(){this.notifyWith(this,arguments)},redirect:function(d){window.location=d}}});
FD31.plugin("component",function(f){var d=f.Component=function(a,g){return 1>arguments.length?d.registry:2>arguments.length?d.registry[a]:d.register(a,g)};d.registry={};d.proxy=function(a,d,k){f.isFunction(k)?a[d]=f.proxy(k,a):a[d]=k};d.register=function(a,g){var k;f.isFunction(a)&&(k=a,a=k.className,g=k.options);var c=d.registry[a]=window[a]=function(a){return f.isFunction(a)?a(f):component};f.each(d.prototype,function(a,b){d.proxy(c,a,b)});c.$=f;c.options=g;c.className=a;c.identifier=a.toLowerCase();
c.componentName="com_"+c.identifier;c.prefix=c.identifier+"/";c.version=g.version;c.safeVersion=c.version.replace(/\./g,"");c.environment=g.environment||f.environment;c.mode=g.mode||f.mode;c.debug="development"===c.environment;c.console=d.console(c);c.language=g.language||f.locale.lang||"en";c.baseUrl=g.baseUrl||f.indexUrl+"?option="+c.componentName;c.ajaxUrl=g.ajaxUrl||f.basePath+"/?option="+c.componentName;c.scriptPath=g.scriptPath||f.rootPath+"/media/"+c.componentName+"/scripts/";c.stylePath=g.stylePath||
f.rootPath+"/media/"+c.componentName+"/styles/";c.templatePath=g.templatePath||g.scriptPath;c.languagePath=g.languagePath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=lang&task=getLanguage";c.viewPath=g.viewPath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=themes&task=getAjaxTemplate";c.optimizeResources=!0;c.resourcePath=g.resourcePath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=foundry&task=getResource";c.resourceInterval=1200;c.scriptVersioning=g.scriptVersioning||!1;c.token=(k||{}).token;
c.tasks=[];FD31.component(a,c);if(k)if(c.debug)k.queue.execute();else{for(var e,h=FD31.installer(a);e=h.shift();)c.install.apply(c,e);f.when(c.install("definitions"),c.install("scripts"),c.install("resources")).done(function(){k.queue.execute()})}};d.extend=function(a,g){d.prototype[a]=g;f.each(d.registry,function(k,c){d.proxy(c,a,g)})};f.template("component/console",'<div id="[%== component.identifier %]-console" class="foundry-console" style="display: none; z-index: 999999;"><div class="console-header"><div class="console-title">[%= component.className %] [%= component.version %]</div><div class="console-remove-button">x</div></div><div class="console-log-item-group"></div><style type="text/css">.foundry-console{position:fixed;width:50%;height:50%;bottom:0;left:0;background:white;box-shadow: 0 0 5px 0;margin-left: 25px;}.console-log-item-group{width: 100%;height: 100%;overflow-y:scroll;}.console-header{position: absolute;background:red;color:white;font-weight:bold;top:-24px;left: 0;line-height:24px;width:100%}.console-remove-button{text-align:center;cursor: pointer;display:block;width: 24px;float:right}.console-remove-button:hover{color: yellow}.console-title{padding: 0 5px;float:left}.console-log-item{padding: 5px}.console-log-item + .console-log-item{border-top: 1px solid #ccc}</style></div>');
d.console=function(a){return function(a){var b=function(a){return 1>arguments.length?b.toggle():b[a]&&b[a].apply(b,arguments)},c;b.selector="#"+a.identifier+"-console";b.init=function(){c=f(b.selector);1>c.length&&(c=f(f.View("component/console",{component:a})).appendTo("body"),c.find(".console-remove-button").click(function(){c.hide()}));b.element=c;return arguments.callee}();b.methods={log:function(b,h,d){h=h||"info";var k=c.find(".console-log-item-group");b=f(document.createElement("div")).addClass("console-log-item type-"+
h).attr("data-code",d).html(b);k.append(b);k[0].scrollTop=k[0].scrollHeight;a.debug&&c.show()},toggle:function(){c.toggle()},reset:function(){c.find(".console-log-item-group").empty()}};f.each(b.methods,function(a,c){b[a]=function(){b.init();return c.apply(b,arguments)}});return b}(a)};var m=f(document),a=d.prototype;f.extend(a,{run:function(a){return f.isFunction(a)?a(f):this},ready:function(){m.ready(function(){a.ready=a.run});return function(a){f.isFunction(a)&&m.ready(function(){a(f)})}}(),install:function(a,
d){var k=this,c=k.tasks[a]||(k.tasks[a]=f.Deferred());if(!d)return c;var e=function(){d(f,k);return c.resolve()};if("definitions"==a)return e();f.when(k.install("definitions")).done(e)},template:function(a){var d=this;if(void 0==a)return f.grep(f.template(),function(a){return 0==a.indexOf(d.prefix)});arguments[0]=d.prefix+a;return f.template.apply(null,arguments)},require:function(a){var d=this;a=a||{};var k=f.require(a),c={};f.each(["library","script","language","template","done"],function(a,b){c[b]=
k[b]});k.resource=function(a){if(f.isPlainObject(a)&&a.type&&a.name&&f.isDeferred(a.loader)){var b=d.resourceCollector;b||(b=d.resourceCollector=f.Deferred(),f.extend(b,{name:f.uid("ResourceCollector"),manifest:[],loaderList:[],loaders:[],load:function(){delete d.resourceCollector;if(0>b.manifest.length)b.resolve();else{var a=0,c=function(){a++;f.Ajax({type:"POST",url:d.resourcePath,dataType:"json",data:{resource:b.manifest}}).done(function(c){f.isArray(c)?(f.each(c,function(a,c){var e=c.content;
b.loaders[c.id][void 0!==e?"resolve":"reject"](e)}),1<a&&d.debug&&console.info("Attempt to try and get resources again was successful!")):b.reject("Server did not return a valid resource manifest.")}).fail(function(){2<a?d.debug&&console.error("Unable to get resource again. Giving up!"):(d.debug&&console.warn("Unable to get resource. Trying again..."),c())})};c();f.when.apply(null,b.loaderList).done(b.resolve).fail(b.reject)}}}),setTimeout(b.load,d.resourceCollectionInterval));var c=a.id=f.uid("Resource");
b.loaders[c]=a.loader;b.loaderList.push(a.loader);delete a.loader;b.manifest.push(a);return k}};k.view=function(){var a=this,b=a.expand(arguments,{path:d.viewPath}),c={},m=b.options,b=f.map(b.names,function(b){var h=d.prefix+b,m=f.require.template.loaders[h];if(!m)if(m=f.require.template.loader(h),m.name=h,a.addTask(m),d.optimizeResources)k.resource({type:"view",name:b,loader:m});else return c[b]=m,b});0<b.length&&f.Ajax({url:m.path,dataType:"json",data:{names:b}}).done(function(a){f.isArray(a)&&
f.each(a,function(a,b){var e=b.content;c[b.name][void 0!==e?"resolve":"reject"](e)})});return k};k.language=function(){var a=this,b=a.expand(arguments,{path:d.languagePath});d.optimizeResources?f.each(b.names,function(b,c){var h=f.require.language.loaders[c];h||(h=f.require.language.loader(c),h.name=c,a.addTask(h),k.resource({type:"language",name:c,loader:h}))}):c.language.apply(k,[b.options].concat(b.names));return k};k.library=function(){c.script.apply(this,arguments);return k};k.script=function(){var a=
this.expand(arguments,{path:d.scriptPath});names=f.map(a.names,function(b){if(f.isArray(b)||f.isUrl(b)||/^(\/|\.)/.test(b))return b;var c=d.prefix+b;b=f.uri(a.options.path).toPath("./"+b+"."+(a.options.extension||"js")+(d.scriptVersioning?"?version="+d.safeVersion:"")).toString();return[[c,b,!0]]});c.script.apply(k,[a.options].concat(names));return k};k.template=function(){var a=this.expand(arguments,{path:d.templatePath});c.template.apply(k,[a.options].concat(f.map(a.names,function(a){return[[d.prefix+
a,a]]})));return k};k.done=function(a){return c.done.call(k,function(){d.ready(a)})};return k},module:function(a,d){if(!f.isArray(a)){var k=this.prefix+a;return d?f.module.apply(null,[k,function(){d.call(this,f)}]):f.module(k)}}});f.Component.extend("getToken",function(){return f("span#"+this.identifier+"-token input").attr("name")||this.token});f.Component.extend("ajax",function(a,d,k){var c=this;a={url:c.ajaxUrl,data:f.extend(d,{option:c.componentName,namespace:a})};a=f.extend(!0,a,c.options.ajax);
a.data[c.getToken()]=1;a.data.hasOwnProperty("args")&&(a.data.args=f.toJSON(a.data.args));if(f.isPlainObject(k)){if(k.type){switch(k.type){case "jsonp":k.dataType="jsonp";k.crossDomain=!0;a.data.transport="jsonp";break;case "iframe":k.iframe=!0,k.processData=!1,k.files=a.data.files,delete a.data.files,a.data.transport="iframe"}delete k.type}f.extend(a,k)}f.isFunction(k)&&(a.success=k);k=f.server(a);k.progress(function(a,b,d){"debug"==b&&c.console.log(a,b,d)});return k});f.Component.extend("Controller",
function(){var a=f.makeArray(arguments),d=a[0],k;if(1==a.length)return f.String.getObject(d);2<a.length?(k=a[1],a=a[2]):(k={},a=a[1]);f.extend(k,{root:this.className+".Controller",component:this});return f.Controller.apply(this,[d,k,a])});f.Component.extend("Model",function(){var a=f.makeArray(arguments),d=this.className+".Model."+a[0],k,c;if(1==a.length)return f.String.getObject(a[0]);2==a.length&&(k={},c=a[1]);2<a.length&&(k=a[1],c=a[2]);f.extend(k,{component:this});return f.Model.apply(this,[d,
k,c])});f.Component.extend("Model.List",function(){var a=f.makeArray(arguments),d=this.className+".Model.List."+a[0],k,c;if(1==a.length)return f.String.getObject(a[0]);2==a.length&&(k={},c=a[1]);2<a.length&&(k=a[1],c=a[2]);f.extend(k,{component:this});return f.Model.List.apply(this,[d,k,c])});f.Component.extend("View",function(a){if(1>arguments.length)return this.template();arguments[0]=this.prefix+arguments[0];return f.View.apply(this,arguments)});FD31.module.execute();f.each(FD31.component(),function(a,
d){d.registered||f.Component.register(d)})});
FD31.plugin("static",function(f){(function(){var d=f.stylesheet({content:".ui-autocomplete{position:absolute;top:0;left:0;cursor:default}"})?"resolve":"reject";f.each(["ui/autocomplete"],function(m,a){f.require.stylesheet.loader(a)[d]()})})();f.module("image ui/position fancybox bookmarklet checked checkList ui/autocomplete ui/core ui/widget ui/menu easing scrollTo ui/stars".split(" "));(function(){FD31.module("image",function(d){var f=function(){d.fn.image=function(a){return(a=d.Image[a])&&a.apply(this[0],
d.makeArray(arguments).slice(1))};d.Image={get:function(a){var b="IMG"===this.nodeName,g=d(b?this:new Image),k=d.Deferred();g.load(function(){var a,e,d,f;b||g.appendTo("body");var m={width:a=g.width(),height:e=g.height(),aspectRatio:d=a/e,orientation:f=1===d?"square":1>d?"tall":"wide"};g.css({position:"absolute",left:"-99999px"}).data(m).addClass("orientation-"+f).removeAttr("style");b||g.detach();k.resolve(g,m)}).error(function(){k.reject()}).attr("src",a);return k},aspectRatio:function(a,b){d.isPlainObject(a)&&
(a=a.width,b=a.height);return a/b},orientation:function(a,b){d.isPlainObject(a)&&(a=a.width,b=a.height);return a===b?"square":a>b?"wide":"tall"},resizeProportionate:function(a,b,d,k,c){var e=a,h=b,h=d/a,e=a*h,h=b*h,f=h>k;"outer"==c&&(f=h<k);f&&(h=k/b,e=a*h,h*=b);return{top:(k-h)/2,left:(d-e)/2,width:e,height:h}},resizeWithin:function(a,b,g,k){return d.Image.resizeProportionate(a,b,g,k,"inner")},resizeToFill:function(a,b,g,k){return d.Image.resizeProportionate(a,b,g,k,"outer")}}};f();this.resolveWith(f)})})();
(function(){FD31.module("ui/position",function(d){var f=function(){(function(a,b){function d(a,b,c){return[parseFloat(a[0])*(v.test(a[0])?b/100:1),parseFloat(a[1])*(v.test(a[1])?c/100:1)]}function k(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),
offset:b.offset()}}a.ui=a.ui||{};var c,e=Math.max,h=Math.abs,f=Math.round,m=/left|center|right/,p=/top|center|bottom/,t=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,v=/%$/,s=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var e,d,h=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=h.children()[0];a("body").append(h);e=d.offsetWidth;h.css("overflow","scroll");d=d.offsetWidth;e===d&&(d=h[0].clientWidth);h.remove();
return c=e-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),e=b.isWindow?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),
width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return s.apply(this,arguments);b=a.extend({},b);var c,v,x,C,A,N,ea=a(b.of),$=a.position.getWithinInfo(b.within),W=a.position.getScrollInfo($),E=(b.collision||"flip").split(" "),S={};N=k(ea);ea[0].preventDefault&&(b.at="left top");v=N.width;x=N.height;C=N.offset;A=a.extend({},C);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,e;1===a.length&&(a=m.test(a[0])?a.concat(["center"]):
p.test(a[0])?["center"].concat(a):["center","center"]);a[0]=m.test(a[0])?a[0]:"center";a[1]=p.test(a[1])?a[1]:"center";c=t.exec(a[0]);e=t.exec(a[1]);S[this]=[c?c[0]:0,e?e[0]:0];b[this]=[u.exec(a[0])[0],u.exec(a[1])[0]]});1===E.length&&(E[1]=E[0]);"right"===b.at[0]?A.left+=v:"center"===b.at[0]&&(A.left+=v/2);"bottom"===b.at[1]?A.top+=x:"center"===b.at[1]&&(A.top+=x/2);c=d(S.at,v,x);A.left+=c[0];A.top+=c[1];return this.each(function(){var k,m,q=a(this),p=q.outerWidth(),t=q.outerHeight(),u=parseInt(a.css(this,
"marginLeft"),10)||0,s=parseInt(a.css(this,"marginTop"),10)||0,N=p+u+(parseInt(a.css(this,"marginRight"),10)||0)+W.width,ba=t+s+(parseInt(a.css(this,"marginBottom"),10)||0)+W.height,D=a.extend({},A),ga=d(S.my,q.outerWidth(),q.outerHeight());"right"===b.my[0]?D.left-=p:"center"===b.my[0]&&(D.left-=p/2);"bottom"===b.my[1]?D.top-=t:"center"===b.my[1]&&(D.top-=t/2);D.left+=ga[0];D.top+=ga[1];a.support.offsetFractions||(D.left=f(D.left),D.top=f(D.top));k={marginLeft:u,marginTop:s};a.each(["left","top"],
function(e,d){if(a.ui.position[E[e]])a.ui.position[E[e]][d](D,{targetWidth:v,targetHeight:x,elemWidth:p,elemHeight:t,collisionPosition:k,collisionWidth:N,collisionHeight:ba,offset:[c[0]+ga[0],c[1]+ga[1]],my:b.my,at:b.at,within:$,elem:q})});b.using&&(m=function(a){var c=C.left-D.left,d=c+v-p,g=C.top-D.top,k=g+x-t,f={target:{element:ea,left:C.left,top:C.top,width:v,height:x},element:{element:q,left:D.left,top:D.top,width:p,height:t},horizontal:0>d?"left":0<c?"right":"center",vertical:0>k?"top":0<g?
"bottom":"middle"};v<p&&h(c+d)<v&&(f.horizontal="center");x<t&&h(g+k)<x&&(f.vertical="middle");e(h(c),h(d))>e(h(g),h(k))?f.important="horizontal":f.important="vertical";b.using.call(this,a,f)});q.offset(a.extend(D,{using:m}))})};a.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,h=c.width,g=a.left-b.collisionPosition.marginLeft,c=d-g,k=g+b.collisionWidth-h-d;b.collisionWidth>h?0<c&&0>=k?(d=a.left+c+b.collisionWidth-h-d,a.left+=c-d):a.left=0<k&&0>=c?d:c>k?
d+h-b.collisionWidth:d:a.left=0<c?a.left+c:0<k?a.left-k:e(a.left-g,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,h=b.within.height,g=a.top-b.collisionPosition.marginTop,c=d-g,k=g+b.collisionHeight-h-d;b.collisionHeight>h?0<c&&0>=k?(d=a.top+c+b.collisionHeight-h-d,a.top+=c-d):a.top=0<k&&0>=c?d:c>k?d+h-b.collisionHeight:d:a.top=0<c?a.top+c:0<k?a.top-k:e(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,d=c.width,g=c.isWindow?c.scrollLeft:
c.offset.left,k=a.left-b.collisionPosition.marginLeft,c=k-g,f=k+b.collisionWidth-d-g,k="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>c){if(e=a.left+k+n+m+b.collisionWidth-d-e,0>e||e<h(c))a.left+=k+n+m}else 0<f&&(e=a.left-b.collisionPosition.marginLeft+k+n+m-g,0<e||h(e)<f)&&(a.left+=k+n+m)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,d=c.height,g=c.isWindow?c.scrollTop:c.offset.top,
k=a.top-b.collisionPosition.marginTop,c=k-g,f=k+b.collisionHeight-d-g,k="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];0>c?(e=a.top+k+n+m+b.collisionHeight-d-e,a.top+k+n+m>c&&(0>e||e<h(c))&&(a.top+=k+n+m)):0<f&&(e=a.top-b.collisionPosition.marginTop+k+n+m-g,a.top+k+n+m>f&&(0<e||h(e)<f)&&(a.top+=k+n+m))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,e,d,h=document.getElementsByTagName("body")[0];e=document.createElement("div");b=document.createElement(h?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)b.style[d]=c[d];b.appendChild(e);c=h||document.documentElement;c.insertBefore(b,c.firstChild);
e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;a.support.offsetFractions=10<e&&11>e;b.innerHTML="";c.removeChild(b)})()})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("fancybox",function(d){var f=function(){(function(a,b){var g=d(a),k=d(b),c=d.fancybox=function(){c.open.apply(this,arguments)},e=!1;d.extend(c,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,
aspectRatio:!1,topRatio:0.5,fixed:!(d.browser.msie&&6>=d.browser.version)&&"undefined"==typeof b.createTouch,scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,modal:!1,loop:!0,ajax:{dataType:"html"},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',
image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(d.browser.msie?'allowtransparency="true""':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',
error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",
nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:d.noop,beforeLoad:d.noop,afterLoad:d.noop,beforeShow:d.noop,afterShow:d.noop,beforeClose:d.noop,afterClose:d.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,
isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){d.isArray(a)||(a=a.jquery?d(a).get():[a]);a.length&&(c.close(!0),c.isActive=!0,c.opts=d.extend(!0,{},c.defaults,b),c.group=a,c._start(c.opts.index||0))},cancel:function(){c.coming&&!1===c.trigger("onCancel")||(c.coming=null,c.hideLoading(),c.ajaxLoad&&c.ajaxLoad.abort(),c.ajaxLoad=null,c.imgPreload&&(c.imgPreload.onload=c.imgPreload.onabort=c.imgPreload.onerror=null))},close:function(a){c.cancel();c.current&&!1!==
c.trigger("beforeClose")&&(c.unbindEvents(),!c.isOpen||a&&!0===a[0]?(d(".fancybox-wrap").stop().trigger("onReset").remove(),c._afterZoomOut()):(c.isOpen=c.isOpened=!1,d(".fancybox-item").remove(),c.wrap.stop(!0).removeClass("fancybox-opened"),c.inner.css("overflow","hidden"),c.transitions[c.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(c.player.timer)},e=function(){b();c.current&&c.player.isActive&&(c.player.timer=setTimeout(c.next,c.current.playSpeed))},g=function(){b();
d("body").unbind(".player");c.player.isActive=!1;c.trigger("onPlayEnd")};c.player.isActive||a&&!1===a[0]?g():c.current&&(c.current.loop||c.current.index<c.group.length-1)&&(c.player.isActive=!0,d("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":g,"beforeLoad.player":b}),e(),c.trigger("onPlayStart"))},next:function(){c.current&&c.jumpto(c.current.index+1)},prev:function(){c.current&&c.jumpto(c.current.index-1)},jumpto:function(a){c.current&&(a=parseInt(a,10),
1<c.group.length&&c.current.loop&&(a>=c.group.length?a=0:0>a&&(a=c.group.length-1)),"undefined"!==typeof c.group[a]&&(c.cancel(),c._start(a)))},reposition:function(a){c.isOpen&&c.wrap.css(c._getPosition(a))},update:function(){c.isOpen&&(e||setTimeout(function(){e&&(e=!1,c.current&&(c.current.autoSize&&(c.inner.height("auto"),c.current.height=c.inner.height()),c._setDimension(),c.current.canGrow&&c.inner.height("auto"),c.reposition(),c.trigger("onUpdate")))},100),e=!0)},toggle:function(){c.isOpen&&
(c.current.fitToView=!c.current.fitToView,c.update())},hideLoading:function(){d("#fancybox-loading").remove()},showLoading:function(){c.hideLoading();d('<div id="fancybox-loading"><div></div></div>').click(c.cancel).appendTo("body")},getViewport:function(){return{x:g.scrollLeft(),y:g.scrollTop(),w:g.width(),h:g.height()}},unbindEvents:function(){c.wrap&&c.wrap.unbind(".fb");k.unbind(".fb");g.unbind(".fb")},bindEvents:function(){var a=c.current,b=a.keys;a&&(g.bind("resize.fb, orientationchange.fb",
c.update),b&&k.bind("keydown.fb",function(a){var e;!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&0>d.inArray(a.target.tagName.toLowerCase(),["input","textarea","select","button"])&&(e=a.keyCode,-1<d.inArray(e,b.close)?(c.close(),a.preventDefault()):-1<d.inArray(e,b.next)?(c.next(),a.preventDefault()):-1<d.inArray(e,b.prev)&&(c.prev(),a.preventDefault()))}),d.fn.mousewheel&&a.mouseWheel&&1<c.group.length&&c.wrap.bind("mousewheel.fb",function(a,b){var e=d(a.target).get(0);if(0===e.clientHeight||e.scrollHeight===
e.clientHeight&&e.scrollWidth===e.clientWidth)a.preventDefault(),c[0<b?"prev":"next"]()}))},trigger:function(a){var b,e=c[-1<d.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(e){d.isFunction(e[a])&&(b=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===b)return!1;e.helpers&&d.each(e.helpers,function(b,g){if(g&&"undefined"!==typeof c.helpers[b]&&d.isFunction(c.helpers[b][a]))c.helpers[b][a](g,e)});d.event.trigger(a+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},
isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(a){var b={},e=c.group[a]||null,g,k,f;e&&"object"===typeof e&&(e.nodeType||e instanceof d)&&(g=!0,d.metadata&&(b=d(e).metadata()));b=d.extend(!0,{},c.opts,{index:a,element:e},d.isPlainObject(e)?e:b);d.each(["href","title","content","type"],function(a,h){b[h]=c.opts[h]||g&&d(e).attr(h)||b[h]||null});"number"===typeof b.margin&&(b.margin=[b.margin,b.margin,b.margin,b.margin]);b.modal&&d.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,
arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});c.coming=b;!1===c.trigger("beforeLoad")?c.coming=null:(k=b.type,a=b.href,k||(g&&(f=d(e).data("fancybox-type"),!f&&e.className&&(k=(f=e.className.match(/fancybox\.(\w+)/))?f[1]:null)),!k&&a&&(c.isImage(a)?k="image":c.isSWF(a)?k="swf":a.match(/^#/)&&(k="inline")),k||(k=g?"inline":"html"),b.type=k),"inline"===k||"html"===k?(b.content=b.content||("inline"===k&&a?d(a):d(e)),b.content.length||(k=null)):(b.href=a||
e,b.href||(k=null)),b.group=c.group,b.isDom=g,"image"===k?c._loadImage():"ajax"===k?c._loadAjax():k?c._afterLoad():c._error("type"))},_error:function(a){c.hideLoading();d.extend(c.coming,{type:"html",autoSize:!0,minHeight:0,hasError:a,content:c.coming.tpl.error});c._afterLoad()},_loadImage:function(){c.imgPreload=new Image;c.imgPreload.onload=function(){this.onload=this.onerror=null;c.coming.width=this.width;c.coming.height=this.height;c._afterLoad()};c.imgPreload.onerror=function(){this.onload=this.onerror=
null;c._error("image")};c.imgPreload.src=c.coming.href;c.imgPreload.width||c.showLoading()},_loadAjax:function(){c.showLoading();c.ajaxLoad=d.ajax(d.extend({},c.coming.ajax,{url:c.coming.href,error:function(a,b){"abort"!==b?c._error("ajax",a):c.hideLoading()},success:function(a,b){"success"===b&&(c.coming.content=a,c._afterLoad())}}))},_preload:function(){var a=c.group,b=c.current.index;1<a.length&&((new Image).src=d(a[b+1]||a[0]).attr("href"),(new Image).src=d(a[b-1]||a[a.length-1]).attr("href"))},
_afterLoad:function(){c.hideLoading();c.coming&&!1!==c.trigger("afterLoad",c.current)?(c.isOpened?(d(".fancybox-item").remove(),c.wrap.stop(!0).removeClass("fancybox-opened"),c.inner.css("overflow","hidden"),c.transitions[c.current.prevMethod]()):(d(".fancybox-wrap").stop().trigger("onReset").remove(),c.trigger("afterClose")),c.unbindEvents(),c.isOpen=!1,c.current=c.coming,c.coming=!1,c.wrap=d(c.current.tpl.wrap).addClass("fancybox-tmp "+c.current.wrapCSS).appendTo("body"),c.outer=d(".fancybox-outer",
c.wrap).css("padding",c.current.padding+"px"),c.inner=d(".fancybox-inner",c.wrap),c._setContent()):c.coming=!1},_setContent:function(){var a,b,e=c.current,g=e.type;switch(g){case "inline":case "ajax":case "html":a=e.content;"inline"===g&&a instanceof d&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),d(c.wrap).bind("onReset",function(){a.appendTo("body").hide()}));e.autoSize&&(b=d('<div class="fancybox-tmp"></div>').appendTo("body").append(a),
e.width=b.width(),e.height=b.height(),b.width(c.current.width),b.height()>e.height&&(b.width(e.width+1),e.width=b.width(),e.height=b.height()),a=b.contents().detach(),b.remove());break;case "image":a=e.tpl.image.replace("{href}",e.href);e.aspectRatio=!0;break;case "swf":a=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href)}if("iframe"===g){if(a=d(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr({scrolling:e.scrolling,src:e.href}).appendTo(c.inner),
e.scrolling="auto",e.autoSize){c.wrap.width(e.width);c.showLoading();a.data("ready",!1).bind("load",function(){var a=d(this),b;try{this.contentWindow.document.location&&(b=a.contents().find("body").height()+12,a.height(b))}catch(h){e.autoSize=!1}!1===a.data("ready")?(c.hideLoading(),b&&(c.current.height=b),c._beforeShow(),a.data("ready",!0)):b&&c.update()});return}}else{if("image"===g||"swf"===g)e.autoSize=!1,e.scrolling="visible";c.inner.append(a)}c._beforeShow()},_beforeShow:function(){c.trigger("beforeShow");
c._setDimension();c.wrap.hide().removeClass("fancybox-tmp");c.bindEvents();c._preload();c.transitions[c.isOpened?c.current.nextMethod:c.current.openMethod]()},_setDimension:function(){var a=c.wrap,b=c.outer,e=c.inner,g=c.current,k=c.getViewport(),f=g.margin,m=2*g.padding,s=g.width,r=g.height,y=g.maxWidth,w=g.maxHeight,x=g.minWidth,C=g.minHeight,A;k.w-=f[1]+f[3];k.h-=f[0]+f[2];-1<s.toString().indexOf("%")&&(s=(k.w-m)*parseFloat(s)/100);-1<r.toString().indexOf("%")&&(r=(k.h-m)*parseFloat(r)/100);f=
s/r;s+=m;r+=m;g.fitToView&&(y=Math.min(k.w,y),w=Math.min(k.h,w));x=Math.min(s,x);C=Math.min(r,C);y=Math.max(x,y);w=Math.max(C,w);g.aspectRatio?(s>y&&(s=y,r=(s-m)/f+m),r>w&&(r=w,s=(r-m)*f+m),s<x&&(s=x,r=(s-m)/f+m),r<C&&(r=C,s=(r-m)*f+m)):(s=Math.max(x,Math.min(s,y)),r=Math.max(C,Math.min(r,w)));s=Math.round(s);r=Math.round(r);d(a.add(b).add(e)).width("auto").height("auto");e.width(s-m).height(r-m);a.width(s);A=a.height();if(s>y||A>w)for(;(s>y||A>w)&&s>x&&A>C;)r-=10,g.aspectRatio?(s=Math.round((r-m)*
f+m),s<x&&(s=x,r=(s-m)/f+m)):s-=10,e.width(s-m).height(r-m),a.width(s),A=a.height();g.dim={width:s,height:A};g.canGrow=g.autoSize&&r>C&&r<w;g.canShrink=!1;g.canExpand=!1;s-m<g.width||r-m<g.height?g.canExpand=!0:(s>k.w||A>k.h)&&s>x&&r>C&&(g.canShrink=!0);a=A-m;c.innerSpace=a-e.height();c.outerSpace=a-b.height()},_getPosition:function(a){var b=c.current,e=c.getViewport(),d=b.margin,g=c.wrap.width()+d[1]+d[3],k=c.wrap.height()+d[0]+d[2],f={position:"absolute",top:d[0]+e.y,left:d[3]+e.x};b.fixed&&(!a||
!1===a[0])&&k<=e.h&&g<=e.w&&(f={position:"fixed",top:d[0],left:d[3]});f.top=Math.ceil(Math.max(f.top,f.top+(e.h-k)*b.topRatio))+"px";f.left=Math.ceil(Math.max(f.left,f.left+0.5*(e.w-g)))+"px";return f},_afterZoomIn:function(){var a=c.current,b=a.scrolling;c.isOpen=c.isOpened=!0;c.wrap.addClass("fancybox-opened").css("overflow","visible");c.update();c.inner.css("overflow","yes"===b?"scroll":"no"===b?"hidden":b);(a.closeClick||a.nextClick)&&c.inner.css("cursor","pointer").bind("click.fb",a.nextClick?
c.next:c.close);a.closeBtn&&d(a.tpl.closeBtn).appendTo(c.wrap).bind("click.fb",c.close);a.arrows&&1<c.group.length&&((a.loop||0<a.index)&&d(a.tpl.prev).appendTo(c.wrap).bind("click.fb",c.prev),(a.loop||a.index<c.group.length-1)&&d(a.tpl.next).appendTo(c.wrap).bind("click.fb",c.next));c.trigger("afterShow");c.opts.autoPlay&&!c.player.isActive&&(c.opts.autoPlay=!1,c.play())},_afterZoomOut:function(){c.trigger("afterClose");c.wrap.trigger("onReset").remove();d.extend(c,{group:{},opts:{},current:null,
isActive:!1,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}});c.transitions={getOrigPosition:function(){var a=c.current,b=a.element,e=a.padding,g=d(a.orig),k={},f=50,m=50;!g.length&&a.isDom&&d(b).is(":visible")&&(g=d(b).find("img:first"),g.length||(g=d(b)));g.length?(k=g.offset(),g.is("img")&&(f=g.outerWidth(),m=g.outerHeight())):(a=c.getViewport(),k.top=a.y+0.5*(a.h-m),k.left=a.x+0.5*(a.w-f));return k={top:Math.ceil(k.top-e)+"px",left:Math.ceil(k.left-e)+"px",width:Math.ceil(f+2*e)+"px",
height:Math.ceil(m+2*e)+"px"}},step:function(a,b){var e,d,g;if("width"===b.prop||"height"===b.prop)d=g=Math.ceil(a-2*c.current.padding),"height"===b.prop&&(e=(a-b.start)/(b.end-b.start),b.start>b.end&&(e=1-e),d-=c.innerSpace*e,g-=c.outerSpace*e),c.inner[b.prop](d),c.outer[b.prop](g)},zoomIn:function(){var a=c.wrap,b=c.current,e,g;e=b.dim;"elastic"===b.openEffect?(g=d.extend({},e,c._getPosition(!0)),delete g.position,e=this.getOrigPosition(),b.openOpacity&&(e.opacity=0,g.opacity=1),c.outer.add(c.inner).width("auto").height("auto"),
a.css(e).show().animate(g,{duration:b.openSpeed,easing:b.openEasing,step:this.step,complete:c._afterZoomIn})):(a.css(d.extend({},e,c._getPosition())),"fade"===b.openEffect?a.fadeIn(b.openSpeed,c._afterZoomIn):(a.show(),c._afterZoomIn()))},zoomOut:function(){var a=c.wrap,b=c.current,e;"elastic"===b.closeEffect?("fixed"===a.css("position")&&a.css(c._getPosition(!0)),e=this.getOrigPosition(),b.closeOpacity&&(e.opacity=0),a.animate(e,{duration:b.closeSpeed,easing:b.closeEasing,step:this.step,complete:c._afterZoomOut})):
a.fadeOut("fade"===b.closeEffect?b.closeSpeed:0,c._afterZoomOut)},changeIn:function(){var a=c.wrap,b=c.current,e;"elastic"===b.nextEffect?(e=c._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",a.css(e).show().animate({opacity:1,top:"+=200px"},{duration:b.nextSpeed,complete:c._afterZoomIn})):(a.css(c._getPosition()),"fade"===b.nextEffect?a.hide().fadeIn(b.nextSpeed,c._afterZoomIn):(a.show(),c._afterZoomIn()))},changeOut:function(){var a=c.wrap,b=c.current,e=function(){d(this).trigger("onReset").remove()};
a.removeClass("fancybox-opened");"elastic"===b.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:b.prevSpeed,complete:e}):a.fadeOut("fade"===b.prevEffect?b.prevSpeed:0,e)}};c.helpers.overlay={overlay:null,update:function(){var a,c;this.overlay.width(0).height(0);d.browser.msie?(a=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),c=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=a<c?g.width():a):a=k.width();this.overlay.width(a).height(k.height())},beforeShow:function(a){this.overlay||
(a=d.extend(!0,{speedIn:"fast",closeClick:!0,opacity:1,css:{background:"black"}},a),this.overlay=d('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",c.close),g.bind("resize.fb",d.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn,a.opacity))},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){d(this).remove()});this.overlay=null}};c.helpers.title={beforeShow:function(a){var b;
if(b=c.current.title)b=d('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+b+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),c.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?c.inner:"outside"===a.type?c.wrap:c.outer)}};d.fn.fancybox=function(a){var b=d(this),e=this.selector||"",g,f=function(k){var f=this,m="rel",t=f[m],y=g;k.ctrlKey||k.altKey||k.shiftKey||k.metaKey||(k.preventDefault(),
t||(m="data-fancybox-group",t=d(f).attr("data-fancybox-group")),t&&""!==t&&"nofollow"!==t&&(f=e.length?d(e):b,f=f.filter("["+m+'="'+t+'"]'),y=f.index(this)),a.index=y,c.open(f,a))};a=a||{};g=a.index||0;e?k.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",f):b.unbind("click.fb-start").bind("click.fb-start",f);return this}})(window,document)};f();this.resolveWith(f)})})();(function(){FD31.module("bookmarklet",function(d){var f=function(){d.bookmarklet=function(a,b,c,g){a=this[b].call(d(a),
c);a.attachEvent&&!d.browser.opera?a.attachEvent("onreadystatechange",g):a.addEventListener("load",g,!1)};d.fn.bookmarklet=function(a,b,c){var g=this;d(document).ready(function(){d.bookmarklet[a].call(g,b,c)})};d.bookmarklet.tweetMeme=function(a){var b=this[0],c=b.parentNode,g=document.createElement("iframe");a.url=a.url.replace(/\+/g,"%2b");switch(a.style){case "compact":var k=20,f=90;break;default:k=61,f=50}a="http://api.tweetmeme.com/button.js?"+d.param(a);if(document&&document.referrer){var m=
document.referrer;m&&(a+="&o="+escape(m))}c.insertBefore(g,b);c.removeChild(b);d(g).attr({src:a,width:f,height:k,frameborder:0,scrolling:"no"});return g};d.bookmarklet.linkedIn=function(a){var b=this[0],c=b.parentNode,g=document.createElement("script"),k=document.createElement("script");d(g).attr({type:"in/share","data-url":a.url,"data-counter":a.counter});c.insertBefore(g,b);c.insertBefore(k,b);c.removeChild(b);d(k).attr({type:"text/javascript",src:"https://platform.linkedin.com/in.js"});return k};
d.bookmarklet.digg=function(a){var b=this[0],c=b.parentNode,g=document.createElement("a"),k=document.createElement("script");d(g).addClass("DiggThisButton").addClass(a.classname).attr({href:"https://digg.com/submit?url="+a.url+"&title="+a.title});c.insertBefore(g,b);c.insertBefore(k,b);c.removeChild(b);d(k).attr({type:"text/javascript",async:"true",src:"http://widgets.digg.com/buttons.js"});return k};d.bookmarklet.stumbleUpon=function(a){var b=this[0],c=b.parentNode,g=document.createElement("su:badge"),
k=document.createElement("script");d(g).attr({layout:a.layout,location:a.url});c.insertBefore(g,b);c.insertBefore(k,b);c.removeChild(b);d(k).attr({type:"text/javascript",src:"https://platform.stumbleupon.com/1/widgets.js"});return k};d.bookmarklet.twitter=function(a){var b=this[0],c=b.parentNode,g=document.createElement("a"),k=document.createElement("script");d(g).attr({"class":"twitter-share-button",href:"https://twitter.com/share","data-url":a.url,"data-counturl":a.url,"data-count":a.count,"data-via":a.via}).html("Tweet");
c.insertBefore(g,b);c.insertBefore(k,b);c.removeChild(b);d(k).attr({type:"text/javascript",src:"https://platform.twitter.com/widgets.js"});return k};var a,b;d.bookmarklet.googlePlusOne=function(c){var h=this[0],g=h.parentNode,k=document.createElement("g:plusone");d(k).attr({size:c.size,href:c.href});g.insertBefore(k,h);g.removeChild(h);a?gapi&&gapi.plusone&&gapi.plusone.go(g):(clearTimeout(b),b=setTimeout(function(){var b=document.getElementsByTagName("head")[0],c=document.createElement("script");
b.appendChild(c);c.type="text/javascript";c.src="//apis.google.com/js/plusone.js";a=!0},1E3));return h};var g,k,c=function(){clearTimeout(k);k=setTimeout(function(){try{FB.XFBML.parse()}catch(a){}},1E3)};d.bookmarklet.facebookLike=function(a){var b=this[0],k=b.parentNode,f=document.createElement("fb:like");d(f).attr({"class":"fb-like","data-href":a.url,"data-send":a.send,"data-layout":a.layout,"data-action":a.verb,"data-locale":a.locale,"data-colorscheme":a.theme,"data-show-faces":a.faces,"data-width":a.width}).css({height:a.height,
width:a.width});k.insertBefore(f,b);k.removeChild(b);if(window.FB)c();else if(document.getElementById("fb-root")||d("<div id='fb-root'></div>").prependTo("body"),k=document.getElementById("facebook-jssdk"),!k)k=document.getElementsByTagName("head")[0],f=document.createElement("script"),k.appendChild(f),f.id="facebook-jssdk",f.src="//connect.facebook.net/"+a.locale+"/all.js#xfbml=1";else if(!g){if(!/xfbml/.test(k.src)){var m=window.fbAsyncInit;window.fbAsyncInit=function(){d.isFunction(m)&&m();c()}}g=
!0}return b};d.bookmarklet.pinterest=function(a){var b=this[0],c=b.parentNode,g=document.createElement("a"),k=document.createElement("script");d(g).attr({"class":"pin-it-button",href:"http://pinterest.com/pin/create/button/?url="+a.url+"&media="+a.media+"&description="+a.description,"count-layout":a.style}).html("Pin It");c.insertBefore(g,b);c.insertBefore(k,b);c.removeChild(b);d(k).attr({type:"text/javascript",src:"https://assets.pinterest.com/js/pinit.js"});return k}};f();this.resolveWith(f)})})();
(function(){FD31.module("checked",function(d){var f=function(){d.fn.checked=function(a,b){if(1>arguments.length)return this.is(":checked");this.each(function(g){var k=d(this);"boolean"==typeof a?k.attr("checked",a).trigger("change"):(k.is("input[type=checkbox]")||k.is("input[type=radio]"))&&k.unbind("change.checked").bind("change.checked",function(){try{return k.is(":checked")?a.apply(k):b.apply(k)}catch(c){}})});return this}};f();this.resolveWith(f)})})();(function(){FD31.module("checkList",function(d){var f=
function(){d.fn.checkList=function(a){a=d.extend({},{checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},a);var b=this,g=b.find(a.checkbox),k=b.find(a.masterCheckbox),c=!1,e=function(){if(!c){var e=g.filter(":checked"),d=g.not(":checked");1>e.length&&k.removeAttr("checked");e.length==g.length&&k.attr("checked",!0);a.change.call(b,e,d)}};g.checked(function(){a.check.apply(b);e()},function(){a.uncheck.apply(b);e()});k.checked(function(){c=
!0;g.checked(!0);c=!1;e()},function(){c=!0;g.checked(!1);c=!1;e()});return this}};f();this.resolveWith(f)})})();(function(){FD31.module("ui/autocomplete",function(d){var f=this;d.require().script("ui/core","ui/widget","ui/position","ui/menu").done(function(){var a=function(){(function(a,d){var k=0;a.widget("ui.autocomplete",{version:"1.10.4pre",defaultElement:"<input>",options:{appendTo:"#fd_.ui",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,
change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,e,d,g=this.element[0].nodeName.toLowerCase(),k="textarea"===g,g="input"===g;this.isMultiLine=k?!0:g?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[k||g?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))e=d=c=!0;else{e=d=c=!1;var k=
a.ui.keyCode;switch(g.keyCode){case k.PAGE_UP:c=!0;this._move("previousPage",g);break;case k.PAGE_DOWN:c=!0;this._move("nextPage",g);break;case k.UP:c=!0;this._keyEvent("previous",g);break;case k.DOWN:c=!0;this._keyEvent("next",g);break;case k.ENTER:case k.NUMPAD_ENTER:this.menu.active&&(c=!0,g.preventDefault(),this.menu.select(g));break;case k.TAB:this.menu.active&&this.menu.select(g);break;case k.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(g),g.preventDefault());
break;default:e=!0,this._searchTimeout(g)}}},keypress:function(d){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault();else if(!e){var h=a.ui.keyCode;switch(d.keyCode){case h.PAGE_UP:this._move("previousPage",d);break;case h.PAGE_DOWN:this._move("nextPage",d);break;case h.UP:this._keyEvent("previous",d);break;case h.DOWN:this._keyEvent("next",d)}}},input:function(a){d?(d=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=
this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(c){c.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(c.target).closest(".ui-menu-item").length||this._delay(function(){var c=
this;this.document.one("mousedown",function(d){d.target===c.element[0]||d.target===e||a.contains(e,d.target)||c.close()})})},menufocus:function(c,e){if(this.isNewMenu&&(this.isNewMenu=!1,c.originalEvent&&/^mouse/.test(c.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(c.target).trigger(c.originalEvent)});return}var d=e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",c,{item:d})?c.originalEvent&&/^key/.test(c.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},
menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,
{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?
a(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,e,d=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,d){d(a.ui.autocomplete.filter(c,e.term))}):"string"===typeof this.options.source?(e=this.options.source,this.source=function(c,g){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:e,data:c,dataType:"json",success:function(a){g(a)},error:function(){g([])}})}):this.source=this.options.source},
_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},
_response:function(){var a=this,b=++k;return function(d){b===k&&a.__response(d);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),
this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var e=this.menu.element.empty();this._renderMenu(e,c);this.isNewMenu=!0;this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},
this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,e){var d=this;a.each(e,function(a,b){d._renderItemData(c,b)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(c,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(c)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&
/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,
e){var d=RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(c,function(a){return d.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,
this.liveRegion.text(b))}})})(d);(function(a){function d(c,h){var g=RegExp(a.ui.autocomplete.escapeRegex(h),"i");return a.grep(c,function(c){return g.test(a("<div>").html(c.label||c.value||c).text())})}var k=a.ui.autocomplete.prototype,c=k._initSource;a.extend(k,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,b){b(d(this.options.source,a.term))}:c.call(this)},_renderItem:function(c,d){return a("<li></li>").data("item.autocomplete",d).append(a("<a></a>")[this.options.html?
"html":"text"](d.label)).appendTo(c)}})})(d)};a();f.resolveWith(a)})})})();(function(){FD31.module("ui/core",function(d){var f=function(){(function(a,b){function d(b,c){var e,g;e=b.nodeName.toLowerCase();if("area"===e){e=b.parentNode;g=e.name;if(!b.href||!g||"map"!==e.nodeName.toLowerCase())return!1;e=a("img[usemap=#"+g+"]")[0];return!!e&&k(e)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||c:c)&&k(b)}function k(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===
a.css(this,"visibility")}).length}var c=0,e=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4pre",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,e){return"number"===typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();
e&&e.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,
"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var e;c.length&&c[0]!==document;){e=c.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e)return e;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&
a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,e){return!!a.data(b,e[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||0<=c)&&d(b,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,e){function d(b,c,e,h){a.each(g,function(){c-=parseFloat(a.css(b,"padding"+this))||0;e&&(c-=
parseFloat(a.css(b,"border"+this+"Width"))||0);h&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var g="Width"===e?["Left","Right"]:["Top","Bottom"],k=e.toLowerCase(),f={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(c){return c===b?f["inner"+e].call(this):this.each(function(){a(this).css(k,d(this,c)+"px")})};a.fn["outer"+e]=function(b,c){return"number"!==typeof b?f["outer"+e].call(this,b):this.each(function(){a(this).css(k,
d(this,b,!0,c)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,c,e){var d;b=a.ui[b].prototype;for(d in e)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([c,e[d]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<e.length;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===
a(b).css("overflow"))return!1;var e=c&&"left"===c?"scrollLeft":"scrollTop",d=!1;if(0<b[e])return!0;b[e]=1;d=0<b[e];b[e]=0;return d}});a(function(){0<a("body > #fd_.ui").length||a(document.createElement("div")).attr("id","fd_").addClass("ui").css({position:"absolute",top:0,left:0,overflow:"visible",width:0,height:0}).appendTo("body")})})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/widget",function(d){var f=function(){(function(a,b){var d=0,k=Array.prototype.slice,c=a.cleanData;a.cleanData=
function(b){for(var d=0,g;null!=(g=b[d]);d++)try{a(g).triggerHandler("remove")}catch(k){}c(b)};a.widget=function(b,c,d){var g,k,f,m,v={},s=b.split(".")[0];b=b.split(".")[1];g=s+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][g.toLowerCase()]=function(b){return!!a.data(b,g)};a[s]=a[s]||{};k=a[s][b];f=a[s][b]=function(a,b){if(!this._createWidget)return new f(a,b);arguments.length&&this._createWidget(a,b)};a.extend(f,k,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});m=new c;m.options=a.widget.extend({},
m.options);a.each(d,function(b,e){a.isFunction(e)?v[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,h;this._super=a;this._superApply=d;h=e.apply(this,arguments);this._super=b;this._superApply=c;return h}}():v[b]=e});f.prototype=a.widget.extend(m,{widgetEventPrefix:k?m.widgetEventPrefix:b},v,{constructor:f,namespace:s,widgetName:b,widgetFullName:g});k?(a.each(k._childConstructors,
function(b,c){var e=c.prototype;a.widget(e.namespace+"."+e.widgetName,f,c._proto)}),delete k._childConstructors):c._childConstructors.push(f);a.widget.bridge(b,f)};a.widget.extend=function(c){for(var d=k.call(arguments,1),g=0,f=d.length,m,t;g<f;g++)for(m in d[g])t=d[g][m],d[g].hasOwnProperty(m)&&t!==b&&(a.isPlainObject(t)?c[m]=a.isPlainObject(c[m])?a.widget.extend({},c[m],t):a.widget.extend({},t):c[m]=t);return c};a.widget.bridge=function(c,d){var g=d.prototype.widgetFullName||c;a.fn[c]=function(f){var m=
"string"===typeof f,t=k.call(arguments,1),u=this;f=!m&&t.length?a.widget.extend.apply(null,[f].concat(t)):f;m?this.each(function(){var d,h=a.data(this,g);if(!h)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+f+"'");if(!a.isFunction(h[f])||"_"===f.charAt(0))return a.error("no such method '"+f+"' for "+c+" widget instance");d=h[f].apply(h,t);if(d!==h&&d!==b)return u=d&&d.jquery?u.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,g);b?
b.option(f||{})._init():a.data(this,g,new d(f,this))});return u}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0];this.element=a(c);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=
a();c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var g=c,k,f,m;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof c)if(g={},k=c.split("."),c=k.shift(),k.length){f=g[c]=a.widget.extend({},
this.options[c]);for(m=0;m<k.length-1;m++)f[k[m]]=f[k[m]]||{},f=f[k[m]];c=k.pop();if(d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];g[c]=d}this._setOptions(g);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),
this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var g,k=this;"boolean"!==typeof b&&(d=c,c=b,b=!1);d?(c=g=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,g=this.widget());a.each(d,function(d,f){function m(){if(b||!0!==k.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof f?k[f]:f).apply(k,arguments)}"string"!==typeof f&&
(m.guid=f.guid=f.guid||m.guid||a.guid++);var n=d.match(/^(\w+)\s*(.*)$/),r=n[1]+k.eventNamespace;(n=n[2])?g.delegate(n,r,m):c.bind(r,m)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},
mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var g,k=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(g in b)g in c||
(c[g]=b[g]);this.element.trigger(c,d);return!(a.isFunction(k)&&!1===k.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,g,k){"string"===typeof g&&(g={effect:g});var f,m=g?!0===g||"number"===typeof g?c:g.effect||c:b;g=g||{};"number"===typeof g&&(g={duration:g});f=!a.isEmptyObject(g);g.complete=k;g.delay&&d.delay(g.delay);if(f&&a.effects&&a.effects.effect[m])d[b](g);else if(m!==b&&d[m])d[m](g.duration,
g.easing,k);else d.queue(function(c){a(this)[b]();k&&k.call(d[0]);c()})}})})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/menu",function(d){var f=this;d.require().script("ui/widget").done(function(){var a=function(){(function(a,d){a.widget("ui.menu",{version:"1.10.4pre",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;
this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},
"click .ui-menu-item:has(a)":function(d){var c=a(d.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(d),c.has(".ui-menu").length?this.expand(d):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(d){var c=a(d.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active");
this.focus(d,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var e=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,e)},blur:function(d){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(d)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){a(d.target).closest(".ui-menu").length||this.collapseAll(d);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=a(this);d.data("ui-menu-submenu-carat")&&d.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(d){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var e,g,f,m,p=!0;switch(d.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(d);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(d);break;case a.ui.keyCode.HOME:this._move("first","first",d);break;case a.ui.keyCode.END:this._move("last","last",d);break;case a.ui.keyCode.UP:this.previous(d);break;case a.ui.keyCode.DOWN:this.next(d);break;case a.ui.keyCode.LEFT:this.collapse(d);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(d);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(d);
break;case a.ui.keyCode.ESCAPE:this.collapse(d);break;default:p=!1,e=this.previousFilter||"",g=String.fromCharCode(d.keyCode),f=!1,clearTimeout(this.filterTimer),g===e?f=!0:g=e+g,m=RegExp("^"+c(g),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())}),e=f&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e,e.length||(g=String.fromCharCode(d.keyCode),m=RegExp("^"+c(g),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())})),
e.length?(this.focus(d,e),1<e.length?(this.previousFilter=g,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}p&&d.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var d,c=this.options.icons.submenu;d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=a(this),d=e.prev("a"),g=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(g);e.attr("aria-labelledby",d.attr("id"))});d=d.add(this.element);d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});d.children(":not(.ui-menu-item)").each(function(){var c=
a(this);/[^\-\u2014\u2013\s]/.test(c.text())||c.addClass("ui-widget-content ui-menu-divider")});d.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);this._super(a,b)},focus:function(a,b){var e;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(b);this.active=b.first();e=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);e=b.children(".ui-menu");e.length&&/^mouse/.test(a.type)&&this._startOpening(e);this.activeMenu=b.parent();this._trigger("focus",
a,{item:b})},_scrollIntoView:function(d){var c,e,g;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,c=d.offset().top-this.activeMenu.offset().top-c-e,e=this.activeMenu.scrollTop(),g=this.activeMenu.height(),d=d.height(),0>c?this.activeMenu.scrollTop(e+c):c+d>g&&this.activeMenu.scrollTop(e+c-g+d))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,
c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element);this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,b,e){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]());this.focus(e,d)},nextPage:function(d){var c,e,g;this.active?this.isLastItem()||(this._hasScroll()?(e=this.active.offset().top,g=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){c=a(this);return 0>c.offset().top-e-g}),
this.focus(d,c)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(d)},previousPage:function(d){var c,e,g;this.active?this.isFirstItem()||(this._hasScroll()?(e=this.active.offset().top,g=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){c=a(this);return 0<c.offset().top-e+g}),this.focus(d,c)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())):this.next(d)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(d){this.active=this.active||a(d.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(d,!0);this._trigger("select",d,c)}})})(d)};a();f.resolveWith(a)})})})();(function(){FD31.module("easing",function(d){var f=function(){d.easing.jswing=d.easing.swing;d.extend(d.easing,{def:"easeOutQuad",swing:function(a,b,g,k,c){return d.easing[d.easing.def](a,b,g,k,c)},easeInQuad:function(a,b,d,k,c){return k*
(b/=c)*b+d},easeOutQuad:function(a,b,d,k,c){return-k*(b/=c)*(b-2)+d},easeInOutQuad:function(a,b,d,k,c){return 1>(b/=c/2)?k/2*b*b+d:-k/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,k,c){return k*(b/=c)*b*b+d},easeOutCubic:function(a,b,d,k,c){return k*((b=b/c-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,k,c){return 1>(b/=c/2)?k/2*b*b*b+d:k/2*((b-=2)*b*b+2)+d},easeInQuart:function(a,b,d,k,c){return k*(b/=c)*b*b*b+d},easeOutQuart:function(a,b,d,k,c){return-k*((b=b/c-1)*b*b*b-1)+d},easeInOutQuart:function(a,
b,d,k,c){return 1>(b/=c/2)?k/2*b*b*b*b+d:-k/2*((b-=2)*b*b*b-2)+d},easeInQuint:function(a,b,d,k,c){return k*(b/=c)*b*b*b*b+d},easeOutQuint:function(a,b,d,k,c){return k*((b=b/c-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,d,k,c){return 1>(b/=c/2)?k/2*b*b*b*b*b+d:k/2*((b-=2)*b*b*b*b+2)+d},easeInSine:function(a,b,d,k,c){return-k*Math.cos(b/c*(Math.PI/2))+k+d},easeOutSine:function(a,b,d,k,c){return k*Math.sin(b/c*(Math.PI/2))+d},easeInOutSine:function(a,b,d,k,c){return-k/2*(Math.cos(Math.PI*b/c)-1)+d},
easeInExpo:function(a,b,d,k,c){return 0==b?d:k*Math.pow(2,10*(b/c-1))+d},easeOutExpo:function(a,b,d,k,c){return b==c?d+k:k*(-Math.pow(2,-10*b/c)+1)+d},easeInOutExpo:function(a,b,d,k,c){return 0==b?d:b==c?d+k:1>(b/=c/2)?k/2*Math.pow(2,10*(b-1))+d:k/2*(-Math.pow(2,-10*--b)+2)+d},easeInCirc:function(a,b,d,k,c){return-k*(Math.sqrt(1-(b/=c)*b)-1)+d},easeOutCirc:function(a,b,d,k,c){return k*Math.sqrt(1-(b=b/c-1)*b)+d},easeInOutCirc:function(a,b,d,k,c){return 1>(b/=c/2)?-k/2*(Math.sqrt(1-b*b)-1)+d:k/2*(Math.sqrt(1-
(b-=2)*b)+1)+d},easeInElastic:function(a,b,d,k,c){a=1.70158;var e=0,h=k;if(0==b)return d;if(1==(b/=c))return d+k;e||(e=0.3*c);h<Math.abs(k)?(h=k,a=e/4):a=e/(2*Math.PI)*Math.asin(k/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e))+d},easeOutElastic:function(a,b,d,k,c){a=1.70158;var e=0,h=k;if(0==b)return d;if(1==(b/=c))return d+k;e||(e=0.3*c);h<Math.abs(k)?(h=k,a=e/4):a=e/(2*Math.PI)*Math.asin(k/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*c-a)*Math.PI/e)+k+d},easeInOutElastic:function(a,
b,d,k,c){a=1.70158;var e=0,h=k;if(0==b)return d;if(2==(b/=c/2))return d+k;e||(e=0.3*c*1.5);h<Math.abs(k)?(h=k,a=e/4):a=e/(2*Math.PI)*Math.asin(k/h);return 1>b?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e)+d:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e)*0.5+k+d},easeInBack:function(a,b,d,k,c,e){void 0==e&&(e=1.70158);return k*(b/=c)*b*((e+1)*b-e)+d},easeOutBack:function(a,b,d,k,c,e){void 0==e&&(e=1.70158);return k*((b=b/c-1)*b*((e+1)*b+e)+1)+d},easeInOutBack:function(a,b,d,k,
c,e){void 0==e&&(e=1.70158);return 1>(b/=c/2)?k/2*b*b*(((e*=1.525)+1)*b-e)+d:k/2*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)+d},easeInBounce:function(a,b,g,k,c){return k-d.easing.easeOutBounce(a,c-b,0,k,c)+g},easeOutBounce:function(a,b,d,k,c){return(b/=c)<1/2.75?7.5625*k*b*b+d:b<2/2.75?k*(7.5625*(b-=1.5/2.75)*b+0.75)+d:b<2.5/2.75?k*(7.5625*(b-=2.25/2.75)*b+0.9375)+d:k*(7.5625*(b-=2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,g,k,c){return b<c/2?0.5*d.easing.easeInBounce(a,2*b,0,k,c)+g:0.5*d.easing.easeOutBounce(a,
2*b-c,0,k,c)+0.5*k+g}})};f();this.resolveWith(f)})})();(function(){FD31.module("scrollTo",function(d){var f=function(){(function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var d=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};d.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};d.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document",
"html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(k,c,e){"object"==typeof c&&(e=c,c=0);"function"==typeof e&&(e={onAfter:e});"max"==k&&(k=9E9);e=a.extend({},d.defaults,e);c=c||e.duration;e.queue=e.queue&&1<e.axis.length;e.queue&&(c/=2);e.offset=b(e.offset);e.over=b(e.over);return this._scrollable().each(function(){function h(a){m.animate(u,
c,e.easing,a&&function(){a.call(this,k,e)})}if(null!=k){var f=this,m=a(f),p=k,t,u={},v=m.is("html,body");switch(typeof p){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(p)){p=b(p);break}p=a(p,this);if(!p.length)return;case "object":if(p.is||p.style)t=(p=a(p)).offset()}a.each(e.axis.split(""),function(a,b){var c="x"==b?"Left":"Top",k=c.toLowerCase(),x="scroll"+c,C=f[x],A=d.max(f,b);t?(u[x]=t[k]+(v?0:C-m.offset()[k]),e.margin&&(u[x]-=parseInt(p.css("margin"+c))||0,u[x]-=parseInt(p.css("border"+
c+"Width"))||0),u[x]+=e.offset[k]||0,e.over[k]&&(u[x]+=p["x"==b?"width":"height"]()*e.over[k])):(c=p[k],u[x]=c.slice&&"%"==c.slice(-1)?parseFloat(c)/100*A:c);e.limit&&/^\d+$/.test(u[x])&&(u[x]=0>=u[x]?0:Math.min(u[x],A));!a&&e.queue&&(C!=u[x]&&h(e.onAfterFirst),delete u[x])});h(e.onAfter)}}).end()};a.fn.scrollIntoView=function(b){b=a(b);if(!(1>b.length)){var c=this.offset(),e=this.height(),c=c.top,d=c+e,g=b.offset(),f=b.height(),g=g.top;if(g+f>d)return this.scrollTo(b);if(g<c)return this.scrollTo(b,
{offset:-1*(e-f)})}};d.max=function(b,c){var e="x"==c?"Width":"Height",d="scroll"+e;if(!a(b).is("html,body"))return b[d]-a(b)[e.toLowerCase()]();var e="client"+e,g=b.ownerDocument.documentElement,f=b.ownerDocument.body;return Math.max(g[d],f[d])-Math.min(g[e],f[e])}})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/stars",function(d){var f=this;d.require().script("ui/core","ui/widget").done(function(){var a=function(){(function(a){a.widget("ui.stars",{_create:function(){function d(a,
b){if(-1!=a){var g=b?e.starHoverClass:e.starOnClass,h=b?e.starOnClass:e.starHoverClass;c.$stars.eq(a).prevAll("."+e.starClass).andSelf().removeClass(h).addClass(g);c.$stars.eq(a).nextAll("."+e.starClass).removeClass(e.starHoverClass+" "+e.starOnClass);c._showCap(e.id2title[a])}else k()}function k(){c.$stars.removeClass(e.starOnClass+" "+e.starHoverClass);c._showCap("")}var c=this,e=this.options,h=0;e.isSelect="select"==e.inputType;this.$form=a(this.element).closest("form");this.$selec=e.isSelect?
a("select",this.element):null;this.$rboxs=e.isSelect?a("option",this.$selec):a(":radio",this.element);this.$stars=this.$rboxs.map(function(d){var g=this.value,k=(e.isSelect?this.text:this.title)||this.value,f=e.isSelect&&this.defaultSelected||this.defaultChecked;0==d&&(e.split="number"!=typeof e.split?0:e.split,e.val2id=[],e.id2val=[],e.id2title=[],e.name=e.isSelect?c.$selec.get(0).name:this.name,e.disabled=e.disabled||(e.isSelect?a(c.$selec).attr("disabled"):a(this).attr("disabled")));if(g==e.cancelValue)return e.cancelTitle=
k,null;e.val2id[g]=h;e.id2val[h]=g;e.id2title[h]=k;f&&(e.checked=h,e.value=e.defaultValue=g,e.title=k);d=a("<div/>").addClass(e.starClass);g=a("<a/>").attr("title",e.showTitles?k:"").text(g);e.split&&(k=h%e.split,f=Math.floor(e.starWidth/e.split),d.width(f),g.css("margin-left","-"+k*f+"px"));h++;return d.append(g).get(0)});e.items=h;e.isSelect?this.$selec.remove():this.$rboxs.remove();this.$cancel=a("<div/>").addClass(e.cancelClass).append(a("<a/>").attr("title",e.showTitles?e.cancelTitle:"").text(e.cancelValue));
e.cancelShow&=!e.disabled&&!e.oneVoteOnly;e.cancelShow&&this.element.append(this.$cancel);this.element.append(this.$stars);void 0===e.checked&&(e.checked=-1,e.value=e.defaultValue=e.cancelValue,e.title="");this.$value=a('<input type="hidden" name="'+e.name+'" value="'+e.value+'" />');this.element.append(this.$value);this.$stars.bind("click.stars",function(a){if(!e.forceSelect&&e.disabled)return!1;var b=c.$stars.index(this);e.checked=b;e.value=e.id2val[b];e.title=e.id2title[b];c.$value.attr({disabled:e.disabled?
"disabled":"",value:e.value});d(b,!1);c._disableCancel();!e.forceSelect&&c.callback(a,"star")}).bind("mouseover.stars",function(){if(e.disabled)return!1;var a=c.$stars.index(this);d(a,!0)}).bind("mouseout.stars",function(){if(e.disabled)return!1;d(c.options.checked,!1)});this.$cancel.bind("click.stars",function(a){if(!e.forceSelect&&(e.disabled||e.value==e.cancelValue))return!1;e.checked=-1;e.value=e.cancelValue;e.title="";c.$value.val(e.value).attr({disabled:"disabled"});k();c._disableCancel();!e.forceSelect&&
c.callback(a,"cancel")}).bind("mouseover.stars",function(){if(c._disableCancel())return!1;c.$cancel.addClass(e.cancelHoverClass);k();c._showCap(e.cancelTitle)}).bind("mouseout.stars",function(){if(c._disableCancel())return!1;c.$cancel.removeClass(e.cancelHoverClass);c.$stars.triggerHandler("mouseout.stars")});this.$form.bind("reset.stars",function(){!e.disabled&&c.select(e.defaultValue)});a(window).unload(function(){c.$cancel.unbind(".stars");c.$stars.unbind(".stars");c.$form.unbind(".stars");c.$selec=
c.$rboxs=c.$stars=c.$value=c.$cancel=c.$form=null});this.select(e.value);e.disabled&&this.disable()},_disableCancel:function(){var a=this.options,b=a.disabled||a.oneVoteOnly||a.value==a.cancelValue;b?this.$cancel.removeClass(a.cancelHoverClass).addClass(a.cancelDisabledClass):this.$cancel.removeClass(a.cancelDisabledClass);this.$cancel.css("opacity",b?0.5:1);return b},_disableAll:function(){var a=this.options;this._disableCancel();a.disabled?this.$stars.filter("div").addClass(a.starDisabledClass):
this.$stars.filter("div").removeClass(a.starDisabledClass)},_showCap:function(a){var b=this.options;b.captionEl&&b.captionEl.text(a)},value:function(){return this.options.value},select:function(a){var b=this.options;a=a==b.cancelValue?this.$cancel:this.$stars.eq(b.val2id[a]);b.forceSelect=!0;a.triggerHandler("click.stars");b.forceSelect=!1},selectID:function(a){var b=this.options;a=-1==a?this.$cancel:this.$stars.eq(a);b.forceSelect=!0;a.triggerHandler("click.stars");b.forceSelect=!1},enable:function(){this.options.disabled=
!1;this._disableAll()},disable:function(){this.options.disabled=!0;this._disableAll()},destroy:function(){this.options.isSelect?this.$selec.appendTo(this.element):this.$rboxs.appendTo(this.element);this.$form.unbind(".stars");this.$cancel.unbind(".stars").remove();this.$stars.unbind(".stars").remove();this.$value.remove();this.element.unbind(".stars").removeData("stars")},callback:function(a,b){var c=this.options;c.callback&&c.callback(this,b,c.value,a);c.oneVoteOnly&&!c.disabled&&this.disable()}});
a.extend(a.ui.stars.prototype,{version:"2.1.1",options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"}})})(d)};a();f.resolveWith(a)})})})()});
FD31.installer("EasyBlog","definitions",function(f){f.module("easyblog/admin easyblog/dashboard easyblog/dashboard/blogimage easyblog/dashboard/editor easyblog/dashboard/medialink easyblog/easyblog easyblog/layout/responsive easyblog/layout/lightbox easyblog/legacy easyblog/featured easyblog/location easyblog/media easyblog/media/navigation easyblog/media/uploader easyblog/media/browser easyblog/media/browser.item easyblog/media/editor easyblog/ easyblog/media/constrain easyblog/media/editor.audio easyblog/media/editor.file easyblog/media/editor.image easyblog/media/editor.video easyblog/media/uploader.item easyblog/ratings easyblog/tag".split(" "));
f.require.template.loader("easyblog/media/recent.item easyblog/media/browser easyblog/media/browser.item-group easyblog/media/browser.item easyblog/media/browser.tree-item-group easyblog/media/browser.tree-item easyblog/media/browser.pagination-page easyblog/media/browser.uploader easyblog/media/browser.uploader.item easyblog/media/editor easyblog/media/editor.viewport easyblog/media/navigation.item easyblog/media/navigation.itemgroup easyblog/media/editor.audio easyblog/media/editor.audio.player easyblog/media/editor.file easyblog/media/editor.file.preview easyblog/media/editor.image easyblog/media/editor.image.variation easyblog/media/editor.image.caption easyblog/media/editor.video easyblog/media/editor.video.player easyblog/dashboard/dashboard.tags.item".split(" "));
f.require.language.loader("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER COM_EASYBLOG_MM_GETTING_IMAGE_SIZES COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS COM_EASYBLOG_MM_ITEM_INSERTED COM_EASYBLOG_MM_UPLOADING COM_EASYBLOG_MM_UPLOADING_STATE COM_EASYBLOG_MM_UPLOADING_PENDING COM_EASYBLOG_MM_UPLOAD_COMPLETE COM_EASYBLOG_MM_UPLOAD_PREPARING COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE COM_EASYBLOG_MM_UPLOADING_LEFT COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM COM_EASYBLOG_MM_CANCEL_BUTTON COM_EASYBLOG_MM_YES_BUTTON COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION".split(" "))});
FD31.installer("EasyBlog","scripts",function(f){EasyBlog.module("admin",function(d){var f=window.admin={blog:{reject:function(a){ejax.load("Pending","confirmRejectBlog",a)},approve:function(a,b){confirm(b)&&(window.location=eblog_site+"&c=blogs&task=approveBlog&cid[]="+a)}},settings:{importSettings:function(){ejax.load("settings","import")}},checkbox:{init:function(){d(".option-enable").click(function(){var a=d(this).parent();d(".option-disable",a).removeClass("selected");d(this).addClass("selected");
d(".radiobox",a).attr("value",1)});d(".option-disable").click(function(){var a=d(this).parent();d(".option-enable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",0)})}},pending:{reject:function(){}},spools:{preview:function(a){ejax.load("Spools","preview",a)}},teamblog:{markAdmin:function(a,b){window.location=eblog_site+"&c=teamblogs&task=markAdmin&teamid="+a+"&userid="+b},removeAdmin:function(a,b){window.location=eblog_site+"&c=teamblogs&task=removeAdmin&teamid="+
a+"&userid="+b}}};d(function(){var a=d("#submenu").attr("class");0<d("#submenu li").eq(4).length&&"settings"!=a&&ejax.load("Easyblog","appendPending");0<d("#system-message").length&&0==d(".eb-bootstrap").length&&(a=d("#system-message").html(),d("#system-message").remove(),d('<dl id="system-message">'+a+"</dl>").insertAfter("#toolbar-box"));d("body #settingsForm .admintable tr:odd").addClass("tr-odd");d(".admintable tr").hover(function(){d(this).addClass("tr-hover")},function(){d(this).removeClass("tr-hover")});
f.checkbox.init()});this.resolve()});EasyBlog.module("dashboard",function(d){EasyBlog.Controller("Dashboard",{defaultOptions:function(){}},function(d){return{init:function(){EasyBlog.dashboard=d},registerPlugin:function(a,b){void 0===d[a]&&(d[a]=b)}}});this.resolve()});EasyBlog.module("dashboard/blogimage",function(d){var f=this;EasyBlog.require().library("image").done(function(){EasyBlog.Controller("Dashboard.BlogImage",{defaultOptions:{"{placeHolder}":".blogImagePlaceHolder","{imageData}":".imageData",
"{image}":".image","{selectBlogImageButton}":".selectBlogImage","{removeBlogImageButton}":".removeBlogImage"}},function(a){return{init:function(){EasyBlog.dashboard.registerPlugin("blogImage",a);var b=d.trim(a.imageData().val());b&&a.setImage(d.parseJSON(b))},"{selectBlogImageButton} click":function(){EasyBlog.mediaManager.browse(null,"blogimage")},"{removeBlogImageButton} click":function(b){a.removeImage();b.blur()},removeImage:function(){a.image().remove();a.element.addClass("empty");a.imageData().val("")},
setImage:function(b){b&&(a.removeImage(),a.element.addClass("loading"),clearTimeout(a.imageTimer),b=d.extend({},b),delete b.data,d.Image.get(b.thumbnail.url).done(function(g){var f=function(){var b=a.placeHolder();maxWidth=b.width();maxHeight=b.height();b=d.Image.resizeWithin(g.data("width"),g.data("height"),maxWidth,maxHeight);b.top=(maxHeight-b.height)/2;b.left=(maxWidth-b.width)/2;return b},c=f(),e=function(){0===c.width||0===c.height?a.imageTimer=setTimeout(function(){c=f();e()},1E3):g.css(c)};
e();g.addClass("image").css(c).appendTo(a.placeHolder());a.imageData().val(JSON.stringify(b));a.element.removeClass("empty")}).fail(function(){a.element.addClass("empty")}).always(function(){a.element.removeClass("loading")}))}}});f.resolve()})});EasyBlog.module("dashboard/editor",function(d){EasyBlog.Controller("Dashboard.Editor",{defaultOptions:{editorId:"write_content"}},function(d){return{init:function(){EasyBlog.dashboard.registerPlugin("editor",d)},insert:function(a){window.jInsertEditorText(a,
d.options.editorId)},content:function(a){void 0!==a&&window.eblog.editor.setContent(a);return window.eblog.editor.getContent()}}});this.resolve()});EasyBlog.module("dashboard/medialink",function(d){EasyBlog.Controller("Dashboard.MediaLink",{defaultOptions:{"{menu}":".ui-togmenu","{content}":".ui-togbox"}},function(d){return{init:function(){},"{menu} click":function(a){var b=a.hasClass("active");d.menu().removeClass("active");d.content().removeClass("active");b||(a.addClass("active"),d.content("."+
a.attr("togbox")).addClass("active"))}}});this.resolve()});EasyBlog.require().library("ui/position","fancybox","bookmarklet","checked","checkList").script("layout/responsive","layout/lightbox","legacy").done();EasyBlog.module("layout/responsive",function(d){EasyBlog.options.responsive&&d(function(){d("#eblog-wrapper").responsive([{at:818,switchTo:"w768"},{at:600,switchTo:"w768 w600"},{at:500,switchTo:"w768 w600 w320"}])});this.resolve()});EasyBlog.module("layout/lightbox",function(d){EasyBlog.require().script("legacy").done(function(){if(window.eblog_enable_lightbox){var d=
{showOverlay:!0,centerOnScroll:!0,overlayOpacity:0.7};window.eblog_lightbox_title||(d.helpers={title:!1});window.eblog_lightbox_enforce_size&&(d.maxWidth=window.eblog_lightbox_width,d.maxHeight=window.eblog_lightbox_height);eblog.images.initFancybox("a.easyblog-thumb-preview",d)}eblog.images.initCaption("img.easyblog-image-caption")})});EasyBlog.module("legacy",function(d){window.isSave=!1;var f=window.eblog={stream:{load:function(b){a.load("dashboard","loadStream",b)}},login:{toggle:function(){d("#easyblog-search-form").hide().siblings().removeClass("active");
d(".user-options").hide().siblings().removeClass("active");d("#easyblog-login-form").toggle();d("#easyblog-login-form").siblings().toggleClass("active")}},report:{show:function(b,d){EasyBlog.ajax("site.views.reports.show",{id:b,type:d},function(b,c){a.dialog({title:b,content:c})})}},search:{toggle:function(){d(".user-options").hide().siblings().removeClass("active");d("#easyblog-login-form").hide().siblings().removeClass("active");d("#easyblog-search-form").toggle();d("#easyblog-search-form").siblings().toggleClass("active")}},
toolbar:{dashboard:function(){d("#easyblog-search-form").hide();d("#easyblog-login-form").hide();d(".user-options").toggle();d(".user-options").siblings().toggleClass("active")}},images:{initFancybox:function(a,g){window.eblog_lightbox_strip_extension&&window.eblog_lightbox_title?d(a).each(function(){var a=d(this),b=a.attr("title")||"",b=b.split(".").reverse();/jpg|png|gif|xcf|odg|bmp|jpeg/.test(b[0].toLowerCase())&&b.splice(0,1);b=b.reverse().join(".");a.fancybox(d.extend(!0,{},g,{title:b}))}):d(a).fancybox(g)},
initCaption:function(a){d(a).each(function(a,b){b=d(b).removeClass("easyblog-image-caption");if(!(0<b.parents(".easyblog-image-caption-container").length)){var c=d(b).attr("src"),e=b.parent().hasClass("easyblog-thumb-preview"),h=function(a){a=a[0];var b=!1;d.each(a.parentNode.childNodes,function(c,e){e==a||d(e).hasClass("easyblog-image-caption")||d(e).hasClass("easyblog-thumb-preview")||(b=!0)});return b};b.one("load",function(){var a=e?b.parent():b,c=a.css("float");"none"==c&&(c=b.css("float"));
if("none"==c){var g=(b.attr("style")||"").split(";"),f={};d.each(g,function(a,b){var c=b.split(":");f[d.trim(c[0])]=d.trim(c[1])});"auto"==f["margin-left"]&&"auto"==f["margin-right"]&&(c="center")}if("none"==c){g=b.parent().attr("align");if(void 0===g||"none"==g)g=b.attr("align");switch(g){case "left":c="left";break;case "right":c="right";break;case "center":case "middle":c="center"}}/none|center/.test(c)||(c=(h(a)?"float":"align")+c);g=d("<span>").addClass("easyblog-image-caption-container orientation-"+
c);"center"==c||"alignright"==c||"alignleft"==c?(c=d("<span>"),a.wrap(c),a.parent().wrap(g)):a.wrap(g);c=d("<span>").addClass("easyblog-image-caption");c.width(a.outerWidth()).html(b.attr("title"));a.after(c)}).removeAttr("src").attr("src",c)}})}},captcha:{reload:function(){var b=d("#captcha-id").val();a.load("entry","reloadCaptcha",b)},reloadImage:function(a,g){d("#captcha-image").attr("src",g);d("#captcha-id").val(a);d("#captcha-response").val("")}},comments:{edit:function(b){a.load("entry","editComment",
b)},remove:function(b){a.load("entry","deleteComment",b)}},checkbox:{render:function(){d(".option-enable").click(function(){var a=d(this).parent();d(".option-disable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",1)});d(".option-disable").click(function(){var a=d(this).parent();d(".option-enable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",0)})}},categories:{loadMore:function(a){d(a).parent().hide().next(".more-subcategories").show()}},
drafts:{getContent:null,frequency:15E3,chars:0,check:function(){var b=f.drafts.getContent();if("undefined"!=typeof b){var g=d("#title").val();(0<b.length||0<g.length&&g!=emptyText)&&a.load("dashboard","saveDraft",a.getFormVal("#blogForm"),b,"");setTimeout("eblog.drafts.check()",f.drafts.frequency)}},save:function(){f.editor.toggleSave();d(window).unbind("beforeunload");d("#form-task").val("savedraft");var a=f.editor.getContent(),a=d("<div>").html(a).html();d("#write_content_hidden").val(a);d("#blogForm").submit()}},
subscription:{show:function(b,d){a.load("subscription","showForm",b,d)},submit:function(b){f.loader.loading("eblog_loader");a.load("subscription","submitForm",b,a.getFormVal("#frmSubscribe"))}},dashboard:{logout:function(){d("#eblog-logout").submit()},changeCollab:function(a){d("#blog_contribute_source").val(a)},changeAuthor:function(b,g){a.dialog({width:700,height:500,title:b,content:"",beforeDisplay:function(){d(this).find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=d(this);
d("<iframe>").attr("src",g).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))}})},changeCategory:function(b,g){a.dialog({width:700,height:500,title:b,content:"",beforeDisplay:function(){d(this).find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=d(this);d("<iframe>").attr("src",g).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))}})},
socialshare:{setActive:function(a){d(a).parent().toggleClass("active")}},drafts:{discard:function(b){a.load("dashboard","confirmDeleteDraft",b)},discardAll:function(){a.load("dashboard","confirmDeleteAllDraft")}},lists:{init:function(a){d("#dashboard-"+a).checkList({checkbox:".stackSelect",masterCheckbox:".stackSelectAll",check:function(){this.parent(".ui-list-select").addClass("active");d("#select-actions").show()},uncheck:function(){this.parent(".ui-list-select").removeClass("active");d("#select-actions").hide()},
change:function(a,b){}})}},toggle:function(a){"block"==d(a).parent().next().css("display")?(d(a).parent().addClass("ui-togbox"),d(a).parent().next().hide()):(d(a).parent().removeClass("ui-togbox"),d(a).parent().next().show())},quickpost:{notify:function(a,g){d("#eblog-message").removeClass("error info success").addClass(a);d("#eblog-message div").html(g);d("#eblog-message").show()},save:function(){f.loader.loading("quickpost-loading");var b=a.getFormVal("#quick-post");a.load("dashboard","save",b)},
draft:function(){f.loader.loading("quickdraft-loading");var b=d("#eblog-post-content").val();a.load("dashboard","quickSaveDraft",a.getFormVal("#quick-post"),b,"")}},settings:{submit:function(){if((""!=d("#password").val()||""!=d("#password2").val())&&d("#password").val()!=d("#password2").val())return d(".password-notice").show(),!1;d("#dashboard").submit()}},categories:{create:function(){"block"==d("#widget-create-category").css("display")?d("#widget-create-category").slideUp():d("#widget-create-category").slideDown();
return!1},edit:function(b){a.load("dashboard","editCategory",b)},remove:function(b,d){a.load("dashboard","confirmDeleteCategory",d,b)},quicksave:function(b){a.load("dashboard","quickSaveCategory",b)}},comments:{publish:function(b,d){a.load("dashboard","publishComment",b,d)},publishModerated:function(b,d){a.load("dashboard","publishModerateComment",b,d)},edit:function(b){a.load("dashboard","editComment",b)},remove:function(b,d){a.load("dashboard","confirmDeleteComment",d,b)}},action:function(b,g){var k=
d("#"+b+"-action").val(),c="";d("#"+b+'-form INPUT[name="cid[]"]').each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val())});if(""==c)f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING");else switch(k){case "copy":a.load("dashboard","copyForm",c);break;case "discardDraft":f.dashboard.drafts.discard(c);break;case "publishBlog":f.blog.togglePublish(c,"publish");break;case "unpublishBlog":f.blog.togglePublish(c,"unpublish");break;
case "deleteBlog":f.blog.confirmDelete(c,g);break;case "rejectBlog":f.editor.reject(c);break;case "unpublishComment":f.dashboard.comments.publish(c,"unpublish");break;case "publishComment":f.dashboard.comments.publish(c,"publish");break;case "removeComment":f.dashboard.comments.remove(g,c,"");break;default:f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING")}},videos:{insert:function(b){var g=d("#video-source").val(),f=d("#video-width").val(),c=d("#video-height").val();
jInsertEditorText('[embed=videolink]{"video":"'+g+'","width":"'+f+'","height":"'+c+'"}[/embed]',b);a.closedlg()},showForm:function(b){try{IeCursorFix()}catch(d){}a.load("dashboard","showVideoForm",b)}},preview:function(b){var g=f.drafts.getContent();if("undefined"!=typeof g){var k=d("#eblog-wrapper #title").val();0<g.length&&0<k.length&&k!=emptyText?a.call("dashboard","saveDraft",[a.getFormVal("#blogForm"),g,""],{success:function(){var a=d("#draft_id").val();if(""!=a){var e=screen.width,g=screen.height;
window.open(d.rootPath+"index.php?option=com_easyblog&view=entry&layout=preview&draftid="+a+"&Itemid="+b,"","toolbar=no, location=no, directories=no, status=yes, menubar=yes, scrollbars=yes, resizable=yes, copyhistory=no, width="+e+", height="+g+", top="+(screen.height/2-g/2)+", left="+(screen.width/2-e/2))}}}):0<g.length?f.system.alert("COM_EASYBLOG_PLEASE_SET_TITLE_BEFORE_PREVIEW","COM_EASYBLOG_ENTRY_PREVIEW_MODE"):f.system.alert("COM_EASYBLOG_ENTRY_PREVIEW_MODE_NO_CONTENT","COM_EASYBLOG_ENTRY_PREVIEW_MODE")}}},
editor:{checkPublishStatus:function(){var b=d("#published").val(),g=d("#publish_down").val();if(""==g||"0000-00-00 00:00:00"==g)return f.editor.postSubmit(),!0;a.load("dashboard","checkPublishStatus",b,g);return!0},cancelSubmit:function(){isSave=!1;d("#save_post").attr("disabled","");return!1},postSubmit:function(){d(window).unbind("beforeunload");d("#blogForm").submit()},save:function(){f.editor.toggleSave();var a=f.editor.getContent(),g=a.split('<hr id="system-readmore" />');1<g.length?(a=d.sanitizeHTML(g[0]),
g=d.sanitizeHTML(g[1]),g=a+'<hr id="system-readmore" />'+g):g=d.sanitizeHTML(a);d("#write_content_hidden").val(g);d("#save_post_button").addClass("ui-disabled");d("#save_post_button").attr("disabled","disabled");f.editor.checkPublishStatus()},apply:function(){d("input[name=apply]").val(1);f.editor.save()},reject:function(b){a.load("Dashboard","confirmRejectBlog",b)},search:{load:function(){try{IeCursorFix()}catch(b){}a.load("search","search",d("#search-content").val())},insert:function(a,g,k){a='<a href="'+
a+'">'+g+"</a>";switch(k){case "intro":d("#widget-write-introtext .ui-modhead").hasClass("ui-togbox")?f.editor.setIntro(a):jInsertEditorText(a,k);break;case "write_content":d("#widget-writepost .ui-modhead").hasClass("ui-togbox")?f.editor.setContent(a):jInsertEditorText(a,k)}}},setIntro:null,setContent:null,getContent:null,datetimepicker:{element:function(a,g){d("#datetime_"+a).addClass("toggle-active");d("#datetime_edit_"+a).hide();var k,c,e,h,n,q;f.editor.datetimepicker.hideEditLink(a);f.editor.datetimepicker.hideEditLink(a);
"publish_down"==a&&""==d("#"+a).val()&&(k=d("#publish_down_reset").val(),d("#"+a).val(k));""!=d("#"+a).val()?(k=d("#"+a).val().split(" "),n=k[1].split(":"),e=k[0].split("-"),k=e[2],c=e[1],e=e[0],h=n[0],n=n[1]):(today=new Date,k=today.getDate(),c=today.getMonth()+1,e=today.getFullYear(),h=today.getHours(),n=today.getMinutes());h=parseInt(h,10);1>=n.length&&(n="0"+n);q=12<=h?"pm":"am";12<h&&(h-=12);"am"==q&&0==h&&(h=12);10>h&&(h="0"+h);var p;p=""+('<div class="dtpicker-wrap" id="dtpicker_'+a+'" style="display: none;">')+
('\t<select tabindex="4" name="dt_month" id="dt_month_'+a+'">');p+='\t\t<option value="01" '+("01"==c?'selected="selected"':"")+">"+sJan+"</option>";p+='\t\t<option value="02" '+("02"==c?'selected="selected"':"")+">"+sFeb+"</option>";p+='\t\t<option value="03" '+("03"==c?'selected="selected"':"")+">"+sMar+"</option>";p+='\t\t<option value="04" '+("04"==c?'selected="selected"':"")+">"+sApr+"</option>";p+='\t\t<option value="05" '+("05"==c?'selected="selected"':"")+">"+sMay+"</option>";p+='\t\t<option value="06" '+
("06"==c?'selected="selected"':"")+">"+sJun+"</option>";p+='\t\t<option value="07" '+("07"==c?'selected="selected"':"")+">"+sJul+"</option>";p+='\t\t<option value="08" '+("08"==c?'selected="selected"':"")+">"+sAug+"</option>";p+='\t\t<option value="09" '+("09"==c?'selected="selected"':"")+">"+sSep+"</option>";p+='\t\t<option value="10" '+("10"==c?'selected="selected"':"")+">"+sOct+"</option>";p+='\t\t<option value="11" '+("11"==c?'selected="selected"':"")+">"+sNov+"</option>";p+='\t\t<option value="12" '+
("12"==c?'selected="selected"':"")+">"+sDec+"</option>";p+="\t</select>";p+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+k+'" name="dt_day" id="dt_day_'+a+'">, ';p+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="4" size="4" value="'+e+'" name="dt_year" id="dt_year_'+a+'"> @ ';p+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+h+'" name="dt_hour" id="dt_hour_'+a+'"> : ';p+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+
n+'" name="dt_min" id="dt_min_'+a+'">';p+='\t<select tabindex="4" name="dt_ampm" id="dt_ampm_'+a+'">';p+='\t\t<option value="am" '+("am"==q?'selected="selected"':"")+">"+sAm+"</option>";p+='\t\t<option value="pm" '+("pm"==q?'selected="selected"':"")+">"+sPm+"</option>";p+="\t</select>";p+='\t<div class="dtpicker-action" id="dtpicker_action_'+a+'">';p+='\t\t<a class="dtpicker-save ui-button" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.save(\''+a+"')\">"+btnOK+"</a>";g&&(p+='\t\t<a class="dtpicker-reset" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.reset(\''+
a+"')\">"+btnReset+"</a>");p+='\t\t<a class="dtpicker-cancel" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.cancel(\''+a+"')\">"+btnCancel+"</a>";p+="\t</div>";p+="</div>";d(p).insertAfter("#datetime_"+a);d("#dtpicker_"+a).slideDown("fast")},reset:function(a){d("#dtpicker_"+a).slideUp("fast");d("#"+a).val("");d("#datetime_"+a+" .datetime_caption").html(sNever);f.editor.datetimepicker.showEditLink(a)},cancel:function(a){d("#dtpicker_"+a).slideUp("fast");"publish_down"!=a||""!=d("#publish_down_ori").val()&&
"0000-00-00 00:00:00"!=d("#publish_down_ori").val()||d("#"+a).val("");d("#datetime_"+a).removeClass("toggle-active");f.editor.datetimepicker.showEditLink(a)},save:function(b){d("#dtpicker_"+b).slideUp("fast");d("#datetime_"+b).removeClass("toggle-active");var g,k,c,e,h;g=d("#dtpicker_"+b+" #dt_day_"+b).val();k=d("#dtpicker_"+b+" #dt_month_"+b).val();k=parseInt(k,10);10>k&&(k="0"+k);c=d("#dtpicker_"+b+" #dt_year_"+b).val();e=d("#dtpicker_"+b+" #dt_hour_"+b).val();if("pm"==d("#dtpicker_"+b+" #dt_ampm_"+
b).val())switch(parseInt(e,10)){case 12:break;default:e=parseInt(e,10)+12}else switch(parseInt(e)){case 12:e="00";break;default:1>=e.length&&(e="0"+e)}h=d("#dtpicker_"+b+" #dt_min_"+b).val();1>=h.length&&(h="0"+h);g=c+"-"+k+"-"+g+" "+e+":"+h+":00";d("#"+b).val(g);a.load("dashboard","updateDisplayDate",b,g);f.editor.datetimepicker.showEditLink(b)},showEditLink:function(a){d("#datetime_edit_"+a).show()},hideEditLink:function(a){d("#datetime_edit_"+a).hide()}},permalink:{edited:!1,generate:function(){""==
d("#title").val()||f.editor.permalink.edited||a.load("dashboard","getPermalink",d("#title").val())},edit:function(){"none"==d("#permalink-edit").css("display")?(f.editor.permalink.edited=!0,d("#permalink-edit").show(),d("#permalink-value").hide()):(d("#permalink-edit").hide(),d("#permalink-value").show())},save:function(){d("#permalink-url").html(d("#permalink-data").val());f.editor.permalink.edit()}}},tags:{search:{init:function(){d("#filter-tags").keyup(function(){var a=d.trim(d(this).val());d(".post-tags li").hide().filter(function(){return 0<=
(this.textContent||this.innerText||"").toUpperCase().indexOf(a.toUpperCase())}).show()})}}},loader:{item:null,loading:function(a){f.loader.item=a;d("#"+a).addClass("eblog_loader");d("#"+a).show()},doneLoading:function(){null!=f.loader.item&&d("#"+f.loader.item).removeClass("eblog_loader")}},comment:{likes:function(b,d,k){f.loader.loading("likes-"+b);a.load("Entry","likesComment",b,d,k)},save:function(){d("#eblog-message").removeClass("info error");d("#eblog-message").html("");f.loader.loading("comment-form-title");
finalData=a.getFormVal("#frmComment");a.load("Entry","commentSave",finalData);0<d("#empty-comment-notice").length&&d("#empty-comment-notice").fadeOut("100")},reply:function(a,g,f){d(".cancel_container").hide();d(".reply_container").show();d("#comment-reply-form-"+a).show();var c=d("#eblog-wrapper #frmComment").clone();d("#eblog-wrapper #frmComment").remove();d("#comment-reply-form-"+a).addClass("comment-form-inline").append(c);d("#parent_id").val(a);d("#comment_depth").val(g);f&&(g=d("#comment-title-"+
a).text(),g=""!=g?"RE:"+g:"",d("#title.inputbox").val(g));d(".comment-reply-no").removeClass("show-this");d(".comment-reply-yes").addClass("show-this");d("#toolbar-reply-"+a).removeClass("show-this");d("#toolbar-cancel-"+a).addClass("show-this");d("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action");0<d(".markItUpContainer").length&&(d("#comment").markItUpRemove(),d("#comment").markItUp(EasyBlogBBCodeSettings))},cancel:function(a){var g=d("#eblog-wrapper #comment-reply-form-"+a+
" #frmComment").clone();d("#eblog-wrapper #comment-reply-form-"+a+" #frmComment").remove();d("#eblog-wrapper #comment-separator").after(g);d("#parent_id").val("0");d("#comment_depth").val("0");d("#comment-reply-form-"+a).hide();d("#title.inputbox").val("");d("#toolbar-reply-"+a).toggleClass("show-this");d("#toolbar-cancel-"+a).toggleClass("show-this");d("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action");0<d(".markItUpContainer").length&&(d("#comment").markItUpRemove(),d("#comment").markItUp(EasyBlogBBCodeSettings))},
edit:function(){d("#eblog-message").removeClass("info error");d("#eblog-message").html("");finalData=a.getFormVal("#frmComment");a.load("dashboard","updateComment",finalData)},action:function(b,g){var k=0,c="",e=d("#"+b).val();""==e?f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING"):(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val(),k++)}),0>=k?f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE",
"COM_EASYBLOG_WARNING"):"unpublishComment"==e?a.load("dashboard","publishComment",c,"0","comment"):"publishComment"==e?a.load("dashboard","publishComment",c,"1","comment"):"removeComment"==e&&f.comment.confirm(g,c,""))},confirm:function(a,d,k){f.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_COMMENT",'window.location = "'+(a+"&task=removeComment&commentId="+d)+'";',"CONFIRMATION")},displayInlineMsg:function(a,g){d("#eblog-message").removeClass("info error");d("#eblog-message").html(g);
d("#eblog-message").addClass(a);"info"==a&&setTimeout(function(){d("#eblog-message").removeClass("info error");d("#eblog-message").html("")},6E3)}},featured:{add:function(b,d){a.load("Latest","makeFeatured",b,d)},remove:function(b,d){a.load("Latest","removeFeatured",b,d)},slider:{holderWidth:0,element:[],autorotate:function(a){var g=d("#ezblog-featured .featured-a").children(),f=!1;d(g).each(function(){d(this).hasClass("active")&&!0!=f&&(0==d(this).next().length?d("#ezblog-featured .featured-a :first").click():
d(this).next().click(),f=!0)});setTimeout("eblog.featured.slider.autorotate("+a+");",a)},init:function(a,g,k){f.featured.slider.element[a]={width:parseInt(d("."+a).parent().width()),element:"."+a};var c=0;d(f.featured.slider.element[a].element).children().each(function(){c+=f.featured.slider.element[a].width});d(f.featured.slider.element[a].element).css("width",c);d(f.featured.slider.element[a].element).children().css("width",f.featured.slider.element[a].width);g&&(k=1E3*parseInt(k),setTimeout("eblog.featured.slider.autorotate("+
k+");",k))},slide:function(a,g){var k=0,c=a;1!=a&&(k=f.featured.slider.element[g].width*parseInt(a-1));d(f.featured.slider.element[g].element).animate({left:"-"+k+"px"},"slow");d(f.featured.slider.element[g].element).parent().parent().children("div.featured-navi").children().children().removeClass("active");d(f.featured.slider.element[g].element).parent().parent().children("div.featured-navi").children().children(".slider-navi-"+c).addClass("active")}}},spinner:{show:function(){d("#blogSubmitBtn").hide();
d("#blogSubmitWait").show()},hide:function(){d("#blogSubmitWait").hide();d("#blogSubmitBtn").show()},publish:function(a,g){1==g?d("#"+a+"Spinner").html('<img src="'+spinnerPath+'" alt="Loading">'):d("#"+a+"Spinner").html("")}},element:{focus:function(b){ele="#"+b;d(ele).focus();a.closedlg()}},blog:{publish:function(a,d,f){window.location=a+"&task=toggleBlogStatus&status="+f+"&blogId="+d},remove:function(b,g){var k="",c=g?g:"Dashboard";d.each(b,function(){f.spinner.publish(b,1);""!=k&&(k+=",");k+=
this});a.load("Dashboard","deleteBlog",k,c)},confirmDelete:function(b,d){a.load("dashboard","confirmDelete",b,d)},confirm:function(a,d,f){},approve:function(b,d){a.load("dashboard","confirmApproveBlog",d,b)},ajaxpublish:function(b,g,k){var c="";k=k?k:"Dashboard";d.each(b,function(){f.spinner.publish(b,1);""!=c&&(c+=",");c+=this});a.load("Dashboard","togglePublishStatus",c,g,k)},togglePublish:function(b,d){a.load("dashboard","togglePublish",b,d)},action:function(a,g){var k=0,c="",e=d("#"+a).val();
"default"!=e&&(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val(),k++)}),0>=k?f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"):"unpublishBlog"==e?f.blog.togglePublish(c,"unpublish"):"publishBlog"==e?f.blog.togglePublish(c,"publish"):"deleteBlog"==e&&f.blog.confirmDelete(c,g))},tab:{init:function(){d(".tab_container").hide();d("div.tab-wrapper .tab_container:first").show();d(".tab_item:first").addClass("item-active");
d("ul.tab_button li.tab_item a").click(function(){var a=d(this).parent();if(a.hasClass("item-active"))return!1;a.siblings().each(function(){d(this).hasClass("item-active")&&d(this).removeClass("item-active")});a.addClass("item-active");d(".tab_container").hide();a=a.attr("id").split("-")[1];d("#section-"+a).show();return!1})}},unsubscribe:function(b,d){a.load("entry","confirmUnsubscribeBlog",b,d)}},tag:{remove:function(b,d){a.load("Dashboard","confirmDeleteTag",d,b)},edit:function(b){a.load("Dashboard",
"editTagDialog",b)},action:function(a,g){var k=0,c="",e=d("#"+a).val();""==e?f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING"):(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val(),k++)}),0>=k?f.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"):"deleteTag"==e&&f.tag.confirm(g,c,""))},confirm:function(a,d,k){f.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_TAGS",
'window.location = "'+(a+"&task=deleteTag&tagId="+d)+'";',"CONFIRMATION")},save:function(){finalData=a.getFormVal("#frmEditTag");a.load("Dashboard","saveTag",finalData)}},socialshare:{share:function(b,d){f.spinner.publish(b,1);a.load("dashboard","ajaxSocialShare",b,d)}},twitter:{update:function(b){""!=b&&(f.spinner.publish(b,1),a.load("Dashboard","ajaxUpdateTwitter",b))}},form:{checkbox:{checkall:function(){d("#adminForm INPUT[type='checkbox']").each(function(){d("#toggle").attr("checked")?d(this).attr("checked",
!0):d(this).attr("checked",!1)});return!1}}},trackback:{url:{copy:function(){d("#trackback-url").focus().select()}}},system:{alert:function(b,d){a.alert(a.string(b),a.string(d),"450","auto")},dialog:function(b,d,f){d='<div class="dialog-actions"><input type="button" value="'+a.string("No")+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /><input type="button" value="'+a.string("Yes")+'" class="button" id="edialog-submit" name="edialog-submit" onclick="'+d+'" /></div>';
b={title:a.string(f),content:a.string(b)+d};a.dialog(b)},loader:function(a){if(a){0<d("img#easyblog-loader").length&&d("img#easyblog-loader").remove();a=new Image;a.src="/components/com_easyblog/assets/images/loader.gif";a.name="easyblog-loader";a.id="easyblog-loader";var g=d("div#eblog-wrapper"),f=g.width();divHeight=window.innerHeight||self.innerHeight||window.parent.document.body.clientHeight;g.prepend(a);d("img#easyblog-loader").css("marginTop",divHeight/2);d("img#easyblog-loader").css("marginLeft",
f/2);d("img#easyblog-loader").css("position","absolute");d("img#easyblog-loader").css("z-index",10)}else 0<d("img#easyblog-loader").length&&d("img#easyblog-loader").remove()}},teamblog:{join:function(b){a.load("TeamBlog","showDialog",String(b),"join")},leave:function(b){a.load("TeamBlog","showDialog",String(b),"leave")},leaveteam:function(){f.loader.loading("eblog_loader");a.load("teamblog","leaveTeam",a.getFormVal("#frmLeave"))},send:function(){f.loader.loading("eblog_loader");a.load("teamblog",
"addJoinRequest",a.getFormVal("#frmJoin"))},approve:function(){},reject:function(){}},calendar:{reload:function(b,d,f,c,e,h,m){a.load(b,d,f,c,e,h,m)},showtooltips:function(a){d(".easyblog_calendar_tooltips").hide();d("#com_easyblog_calendar_day_"+a).show()}}},a=window.ejax={http:!1,format:"text",callback:function(a){},error:!1,getHTTPObject:function(){var a=!1;if("undefined"!=typeof ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){a=
!1}}else if(XMLHttpRequest)try{a=new XMLHttpRequest}catch(c){a=!1}return a},call:function(b,d,f,c){b=[{view:b,callback:c},d];b=b.concat(f);a.load.apply(this,b)},load:function(a,g){var f={success:function(){},error:function(){}};"object"==typeof a&&(f=d.extend(f,d.isFunction(a.callback)?{success:a.callback}:a.callback),a=a.view);url=eblog_site;url+="&tmpl=component";url+="&no_html=1";url+="&format=ejax";url+="&"+EasyBlog.getToken()+"=1";url+="&uid="+(new Date).getTime();var c="&view="+a+"&layout="+
g;if(2<arguments.length)for(var e=2;e<arguments.length;e++){var h=arguments[e];if(d.isArray(h))for(var m=0;m<h.length;m++){var q=h[m];"string"==typeof q&&(c+="&value"+(e-2)+"[]="+encodeURIComponent(q))}else q=h,"string"==typeof q&&(c+="&value"+(e-2)+"="+encodeURIComponent(q))}var p=this.getHTTPObject();if(p&&a&&g){var t=this;p.open("POST",url,!0);p.setRequestHeader("Content-type","application/x-www-form-urlencoded");p.onreadystatechange=function(){if(4==p.readyState)if(200==p.status){var a="";p.responseText&&
(a=p.responseText);a=a.replace(/[\n\r]/g,"");try{a=eval(a)}catch(b){f.error&&f.error("Invalid response.")}t.process(a,f)}else t.error&&(t.error(p.status),f.error&&f.error(p.status))};p.send(c)}},_string:[],string:function(b){if(void 0!=a._string[b])return a._string[b];var g=d.ajax({type:"POST",url:eblog_site+"&tmpl=component&no_html=1&controller=easyblog&task=ajaxGetSystemString",data:"data="+b,async:!1,cache:!0}).responseText;return a._string[b]=g},getFormVal:function(a){var g=[],f=null;d(":input",
d(a)).each(function(){f=this.value.replace(/"/g,"&quot;");f=encodeURIComponent(f);d(this).is(":checkbox")||d(this).is(":radio")?d(this).prop("checked")&&g.push(this.name+"="+escape(f)):g.push(this.name+"="+escape(f))});return g},process:function(b,g){for(var f=0;f<b.length;f++)switch(b[f][0]){case "script":eval("EasyBlog(function($){"+b[f][1]+"});");break;case "after":var c=b[f][1],e=b[f][2];d("#"+c).after(e);break;case "append":c=b[f][1];e=b[f][2];d("#"+c).append(e);break;case "assign":c=b[f][1];
e=b[f][2];d("#"+c).html(e);break;case "value":c=b[f][1];e=b[f][2];d("#"+c).val(e);break;case "prepend":c=b[f][1];e=b[f][2];d("#"+c).prepend(e);break;case "destroy":c=b[f][1];d("#"+c).remove();break;case "dialog":a.dialog(b[f][1]);break;case "alert":a.alert(b[f][1],b[f][2],b[f][3],b[f][4]);break;case "error":c=b[f].slice(1);g.error.apply(this,c);break;case "callback":c=b[f].slice(1),g.success.apply(this,c)}delete b},dialog:function(b){a._showPopup(b)},closedlg:function(){var b=d("#eblog-dialog"),g=
d("#eblog-overlay"),f=b.data("options");g.hide();b.fadeOut(function(){f.afterClose.apply(b)});d(window).unbind(".dialog");d(document).unbind("keyup",a._attachPopupShortcuts)},_attachPopupShortcuts:function(b){27==b.keyCode&&a.closedlg()},alert:function(b,d,f,c){var e='<div class="dialog-actions"><input type="button" value="'+a.string("COM_EASYBLOG_OK")+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /></div>';a._showPopup({title:d,content:b+e,width:f,height:c})},
_showPopup:function(b){b=d.extend({},{width:"500",height:"auto",type:"dialog",beforeDisplay:function(){},afterDisplay:function(){},afterClose:function(){}},b);var g=d("#eblog-overlay");1>g.length&&(g='<div id="eblog-overlay"></div>',g=d(g).appendTo("body"),g.click(function(){a.closedlg()}));var f=d("#eblog-dialog");1>f.length&&(dialogTemplate='<div id="eblog-dialog">',dialogTemplate+='\t<div class="dialog">',dialogTemplate+='\t\t<div class="dialog-wrap">',dialogTemplate+='\t\t\t<div class="dialog-top">',
dialogTemplate+="\t\t\t\t<h3></h3>",dialogTemplate+='\t\t\t\t<a href="javascript:void(0);" onclick="ejax.closedlg();" class="closeme">Close</a>',dialogTemplate+="\t\t\t</div>",dialogTemplate+='\t\t\t<div class="dialog-middle clearfix">',dialogTemplate+='\t\t\t\t<div class="dialog-middle-content"></div>',dialogTemplate+="\t\t\t</div>",dialogTemplate+="\t\t</div>",dialogTemplate+="\t</div>",dialogTemplate+="</div>",f=d(dialogTemplate).appendTo("body"));f.data("options",b);var c=f.find(".dialog-top h3");
b.title=null!=b.title?b.title:"&nbsp;";c.html(unescape(b.title));d("#eblog-dialog .dialog-middle-content").css({width:"auto"==b.width?"auto":parseInt(b.width),height:"auto"==b.height?"auto":parseInt(b.height)}).html(b.content);b.beforeDisplay.apply(f);var e=function(){f.css({top:0,left:0}).position({my:"center",at:"center",of:window});g.css({width:d(document).width(),height:d(document).height()}).show()};f.show(0,function(){e();var a;d(window).bind("resize.dialog scroll.dialog",function(){clearTimeout(a);
a=setTimeout(e,50)})});f.fadeOut(0,function(){f.fadeIn(function(){b.afterDisplay.apply(f)})});d(document).on("click.eb.dialog","#edialog-cancel, #edialog-submit",function(){a.closedlg()});d(document).bind("keyup",a._attachPopupShortcuts)}};this.resolve()});EasyBlog.module("featured",function(d){var f=this;EasyBlog.require().done(function(){EasyBlog.Controller("Featured.Scroller",{defaultOptions:{elements:null,itemWidth:null,autorotate:{enabled:!1,interval:50},"{placeHolder}":".slider-holder","{slider}":".featured-entries",
"{sliderItems}":".slider-holder ul li","{sliderNavigation}":".featured-navi .featured-a a"}},function(a){return{init:function(){a.options.itemWidth=a.placeHolder().width()+1;var b=a.sliderItems().length*parseInt(a.options.itemWidth);a.slider().css("width",b);a.sliderItems().css("width",a.options.itemWidth);a.options.autorotate.enabled&&setTimeout(function(){a.initAutoRotate()},1E3*parseInt(a.options.autorotate.interval))},"{sliderNavigation} click":function(b){var g=d(b).data("slider"),f=0;1!=g&&
(f=a.options.itemWidth*parseInt(g-1));a.slider().children(":nth-child("+g+")").show();a.slider().animate({left:"-"+f+"px"},"slow");a.sliderNavigation(".active").removeClass("active");d(b).addClass("active")},initAutoRotate:function(){var b=!1;a.sliderNavigation().each(function(){d(this).hasClass("active")&&!0!=b&&(0==d(this).next().length?a.sliderNavigation(":first").click():d(this).next().click(),b=!0)});setTimeout(function(){a.initAutoRotate()},1E3*parseInt(a.options.autorotate.interval))}}});f.resolve()})});
EasyBlog.module("location",function(d){var f=this;EasyBlog.require().library("ui/autocomplete").done(function(){EasyBlog.Controller("Location.Form",{defaultOptions:{language:"en",initialLocation:null,mapType:"ROADMAP","{locationInput}":".locationInput","{locationLatitude}":".locationLatitude","{locationLongitude}":".locationLongitude","{locationMap}":".locationMap","{autoDetectButton}":".autoDetectButton"}},function(a){return{init:function(){var b=d.uid("ext");window[b]=function(){d.___GoogleMaps.resolve()};
d.___GoogleMaps||(d.___GoogleMaps=d.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+a.options.language+"&callback="+b));d.___GoogleMaps.done(function(){a._init()})},_init:function(b,g){a.geocoder=new google.maps.Geocoder;a.hasGeolocation=void 0!==navigator.geolocation;a.hasGeolocation?a.autoDetectButton().show():a.autoDetectButton().remove();a.locationInput().autocomplete({delay:300,minLength:0,source:a.retrieveSuggestions,select:function(b,
e){a.locationInput().autocomplete("close");a.setLocation(e.item.location)}}).prop("disabled",!1);a.autocomplete=a.locationInput().autocomplete("widget");a.autocomplete.addClass("location-suggestion");var f=d.trim(a.options.initialLocation);f&&a.getLocationByAddress(f,function(b){a.setLocation(b[0])});a.busy(!1)},busy:function(b){a.locationInput().toggleClass("loading",b)},getUserLocations:function(b){a.getLocationAutomatically(function(d){a.userLocations=a.buildDataset(d);b&&b(d)})},getLocationByAddress:function(b,
d){a.geocoder.geocode({address:b},d)},getLocationByCoords:function(b,d,f){a.geocoder.geocode({location:new google.maps.LatLng(b,d)},f)},getLocationAutomatically:function(b,d){if(!navigator.geolocation)return d("ERRCODE","Browser does not support geolocation or do not have permission to retrieve location data.");navigator.geolocation.getCurrentPosition(function(d){a.getLocationByCoords(d.coords.latitude,d.coords.longitude,b)},d)},renderMap:function(b,d){a.busy(!0);a.locationMap().show();var f=new google.maps.Map(a.locationMap()[0],
{zoom:15,center:b.geometry.location,mapTypeId:google.maps.MapTypeId[a.options.mapType],disableDefaultUI:!0}),c=new google.maps.Marker({position:b.geometry.location,center:b.geometry.location,title:b.formatted_address,map:f}),e=new google.maps.InfoWindow({content:d});google.maps.event.addListener(f,"tilesloaded",function(){e.open(f,c);a.busy(!1)})},setLocation:function(b){b&&(a.locationResolved=!0,a.lastResolvedLocation=b,a.locationInput().val(b.formatted_address),a.locationLatitude().val(b.geometry.location.lat()),
a.locationLongitude().val(b.geometry.location.lng()),a.renderMap(b,b.formatted_address))},removeLocation:function(){a.locationResolved=!1;a.locationInput().val("");a.locationLatitude().val("");a.locationLongitude().val("");a.locationMap().hide()},buildDataset:function(a){return d.map(a,function(a){return{label:a.formatted_address,value:a.formatted_address,location:a}})},retrieveSuggestions:function(b,d){a.busy(!0);var f=b.term,c=function(b){d(b);a.busy(!1)};""==f?c(a.userLocations||[]):a.getLocationByAddress(f,
function(b){c(a.buildDataset(b))})},suggestUserLocations:function(){a.hasGeolocation&&a.userLocations&&(a.removeLocation(),a.locationInput().autocomplete("search",""));a.busy(!1)},"{locationInput} blur":function(){setTimeout(function(){var b=d.trim(a.locationInput().val());""==b?a.removeLocation():a.locationResolved?b!=a.lastResolvedLocation.formatted_address&&a.setLocation(a.lastResolvedLocation):a.removeLocation()},250)},"{autoDetectButton} click":function(){a.busy(!0);a.hasGeolocation&&!a.userLocations?
a.getUserLocations(a.suggestUserLocations):a.suggestUserLocations()}}});EasyBlog.Controller("Location.Map",{defaultOptions:{animation:"drop",language:"en",useStaticMap:!1,disableMapsUI:!0,zoom:5,fitBounds:null,minZoom:null,maxZoom:null,center:null,locations:[],mapType:"ROADMAP",width:500,height:400,"{locationMap}":".locationMap"}},function(a){return{init:function(){a.mapLoaded=!1;var b=d.uid("ext");window[b]=function(){d.___GoogleMaps.resolve()};if(!0==a.options.useStaticMap){var g="&language="+String(a.options.language),
f="&size="+String(a.options.width)+"x"+String(a.options.height),b="&zoom="+String(a.options.zoom),c="&center="+String(parseFloat(a.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(a.options.locations[0].longitude).toFixed(6)),e="&maptype="+google.maps.MapTypeId[a.options.mapType],h="&markers=",g="https://maps.googleapis.com/maps/api/staticmap?sensor=false"+g+f;if(1==a.options.locations.length)h+=String(parseFloat(a.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(a.options.locations[0].longitude).toFixed(6)),
g+=b+c+e+h;else{var m=[];d.each(a.options.locations,function(a,b){m.push(String(parseFloat(b.latitude).toFixed(6))+","+String(parseFloat(b.longitude).toFixed(6)))});h+=m.join("|");g+=h+e}a.locationMap().show().html('<img src="'+g+'" />');a.busy(!1)}else b=d.uid("ext"),window[b]=function(){d.___GoogleMaps.resolve()},d.___GoogleMaps||(d.___GoogleMaps=d.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+a.options.language+"&callback="+b)),
d.___GoogleMaps.done(function(){a._init()})},_init:function(){null===a.options.fitBounds&&(a.options.fitBounds=1==a.options.locations.length?!1:!0);a.options.disableMapsUI=Boolean(a.options.disableMapsUI);a.locations=[];d.each(a.options.locations,function(b,d){"null"!=d.latitude&&"null"!=d.longitude&&a.locations.push(new google.maps.LatLng(d.latitude,d.longitude))});0<a.locations.length&&a.renderMap();a.busy(!1)},busy:function(b){a.locationMap().toggleClass("loading",b)},renderMap:function(){a.busy(!0);
a.locationMap().show();var b;b=a.options.center?new google.maps.LatLng(center.latitude,center.longitude):a.locations[0];a.map=new google.maps.Map(a.locationMap()[0],{zoom:parseInt(a.options.zoom),minZoom:parseInt(a.options.minZoom),maxZoom:parseInt(a.options.maxZoom),center:b,mapTypeId:google.maps.MapTypeId[a.options.mapType],disableDefaultUI:a.options.disableMapsUI});google.maps.event.addListener(a.map,"tilesloaded",function(){!1==a.mapLoaded&&(a.mapLoaded=!0,a.loadLocations())})},loadLocations:function(){a.bounds=
new google.maps.LatLngBounds;a.infoWindow=[];setTimeout(function(){d.each(a.locations,function(b,d){a.bounds.extend(d);setTimeout(function(){a.addMarker(d,a.options.locations[b])},100*(b+1))});a.options.fitBounds&&a.map.fitBounds(a.bounds)},500)},addMarker:function(b,d){if(b){var f=new google.maps.Marker({position:b,map:a.map});f.setAnimation(google.maps.Animation.DROP);a.addInfoWindow(f,d)}},addInfoWindow:function(b,g){var f=g.content;f||(f=g.address);var c=new google.maps.InfoWindow;c.setContent(f);
a.infoWindow.push(c);1<a.options.locations.length?google.maps.event.addListener(b,"click",function(){d.each(a.infoWindow,function(a,b){b.close()});c.open(a.map,b)}):(google.maps.event.addListener(b,"click",function(){c.open(a.map,b)}),c.open(a.map,b));g.ratingid&&google.maps.event.addListener(c,"domready",function(){d.each(g.ratingid,function(a,b){eblog.ratings.setup("ebpostmap_"+b+"-ratings",!0,"entry");d("#ebpostmap_"+b+"-ratings").removeClass("ui-state-disabled");d("#ebpostmap_"+b+"-ratings-form").find(".blog-rating-text").hide();
d("#ebpostmap_"+b+"-ratings .ratings-value").hide()})})}}});f.resolve()})});EasyBlog.module("media",function(d){var f=this,a=function(a){return d("<div>").text(a).html().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},b,g;EasyBlog.Controller("Media",{defaultOptions:{debug:{logging:EasyBlog.debug,itemVisibility:!1,delayConfiguration:0,delayCommon:0,delayBrowser:0,delayUploader:0,delayEditor:0},ui:"#EasyBlogMediaManagerUI",overlay:{background:"black",opacity:0},modal:{size:0.9},
recentActivities:{hideAfter:3E3},"{modalGroup}":".mediaModalGroup","{modal}":".mediaModal","{loaderModal}":".loaderModal","{uploaderModal}":".uploaderModal","{browserModal}":".browserModal","{editorModal}":".editorModal","{modalContent}":".modalContent","{overlay}":".media-overlay","{modalDashboardButton}":".dashboardButton","{assetItem}":".assetItem"}},function(a){return{console:function(b,d){if(a.options.debug.logging){var g=window.console;g&&(b=g[b])&&(b.apply?b.apply(g,d):b(d.join(" ")))}},assets:{},
getAsset:function(b){void 0===a.assets[b]&&(a.assets[b]=d.Deferred()).done(function(){a.assetItem(".asset-type-"+b).removeClass("loading done failed").addClass("done")}).fail(function(){a.assetItem(".asset-type-"+b).removeClass("loading done failed").addClass("fail")});return a.assets[b]},createAsset:function(b,d,g){var f=a.getAsset(b);f.factory=d;setTimeout(function(){f.factory&&f.factory(f)},g);return f},init:function(){b=a;a.IE=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML=
"\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}();if("undefined"!=typeof tinyMCE&&tinyMCE&&tinyMCE.isIE&&9==a.IE)var e=setInterval(function(){var b=tinyMCE.editors.write_content;b&&(d(b.contentWindow).off("keydown.mediaManager mousedown.mediaManager focus.mediaManager").on("keydown.mediaManager mousedown.mediaManager focus.mediaManager",function(){a.bookmark={element:b.selection.getEnd(),range:b.selection.getBookmark(1).rng}}),clearInterval(e))},500);a.originalBodyOverflow=
d("body").css("overflow");a.createAsset("configuration",function(b){EasyBlog.module("media/configuration").done(function(){a.initialize(this);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayConfiguration);a.createAsset("common",function(a){EasyBlog.require().script("media/navigation").view("media/recent.item","media/browser","media/browser.item-group","media/browser.item","media/browser.tree-item-group","media/browser.tree-item","media/browser.pagination-page","media/browser.uploader",
"media/browser.uploader.item","media/editor","media/editor.viewport","media/navigation.item","media/navigation.itemgroup").language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER","COM_EASYBLOG_MM_GETTING_IMAGE_SIZES","COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS","COM_EASYBLOG_MM_ITEM_INSERTED","COM_EASYBLOG_MM_UPLOADING","COM_EASYBLOG_MM_UPLOADING_STATE","COM_EASYBLOG_MM_UPLOADING_PENDING","COM_EASYBLOG_MM_UPLOAD_COMPLETE","COM_EASYBLOG_MM_UPLOAD_PREPARING","COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE",
"COM_EASYBLOG_MM_UPLOADING_LEFT","COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM","COM_EASYBLOG_MM_CANCEL_BUTTON","COM_EASYBLOG_MM_YES_BUTTON","COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION").done(function(){a.resolve()}).fail(function(){a.reject()})},a.options.debug.delayCommon);a.createAsset("uploader",function(b){d.when(a.getAsset("configuration"),a.getAsset("common"),EasyBlog.require().script("media/uploader").done()).done(function(){var e=a.createModal("uploader");e.controller=new EasyBlog.Controller.Media.Uploader(e.element,
a.options.uploader);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayUploader);a.createAsset("browser",function(b){d.when(a.getAsset("configuration"),a.getAsset("common"),EasyBlog.require().script("media/browser").done()).done(function(){var e=a.createModal("browser");e.controller=new EasyBlog.Controller.Media.Browser(e.element,a.options.browser);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayBrowser);a.createAsset("editor",function(b){d.when(a.getAsset("browser"),
EasyBlog.require().script("media/editor").done()).done(function(){var e=a.createModal("editor");e.controller=new EasyBlog.Controller.Media.Editor(e.element,a.options.editor);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayEditor);a.setLayout=d.debounce(a._setLayout,200)},initialize:function(b){var h={controller:{media:a}};b=d.extend(!0,b,{browser:h,uploader:h,library:h,editor:h,exporter:h});a.update(b);g=b.directorySeparator;b=d(a.options.ui);a.element.append(b.html());b.remove();
a.overlay().css(a.options.overlay);a.loader=new EasyBlog.Controller.Media.Loader(a.createModal("loader"),{controller:{media:a}});a.element.implement(EasyBlog.Controller.Media.Library,a.options.library,function(){});a.element.implement(EasyBlog.Controller.Media.Exporter,a.options.exporter);f.resolve()},setLayout:function(){a._setLayout()},_setLayout:function(){a.layout=a.element.hasClass("active")?d.uid():null;a.layout&&a.setModalLayout();return a.layout},modals:{},createModal:function(b){var h=a.modal("."+
b+"Modal");1>h.length&&(h=d('<div class="mediaModal"></div>').addClass(b+"Modal").appendTo(a.modalGroup()));return a.modals[b]={name:b,element:h}},activateModal:function(b,d){if(void 0===a.modals[b])a.loader.when(a.assets[b]).done(function(){setTimeout(function(){a.activateModal(b,d)},1E3)});else{if(a.currentModal===b)return!0;var g=a.modals[b];if(!g)return!1;a.deactivateModal(a.currentModal);a.currentModal=b;a.show();(g=g.controller)&&g.trigger("modalActivate",d);return!0}},deactivateModal:function(b,
d){var g=a.modals[b];if(!g)return!1;var f=g.controller;if(f)try{f.trigger("modalDeactivate",d)}catch(k){console.error(k)}g.element.removeClass("active");a.currentModal=void 0;return!0},setModalLayout:function(){clearTimeout(a.setModalLayout.task);var b=a.modals[a.currentModal];if(b){if(!a.layout)return a._setLayout();b.element.addClass("active");var g=b.controller;if(g&&d.isFunction(g.setLayout)){var f=function(){var b=g.element.offset();0===b.top||0===b.left?a.setModalLayout.task=setTimeout(f,50):
g.setLayout()};f()}}},show:function(){a.element.addClass("active");a._setLayout();a.trigger("showModal")},hide:function(){a.element.removeClass("active");a.deactivateModal(a.currentModal);a.trigger("hideModal")},"{overlay} click":function(){a.hide()},"{window} resize":function(){a.setLayout()},"{modalDashboardButton} click":function(b,d){if(d.shiftKey)return a.console("dir",[a]);a.hide()},upload:function(){a.activateModal("uploader",arguments)},browse:function(){a.activateModal("browser",arguments)},
edit:function(){a.activateModal("editor",arguments)}}});EasyBlog.Controller("Media.Loader",{defaultOptions:{}},function(a){return{init:function(){},when:function(){a.media.activateModal("loader");var b=d.when.apply(null,arguments),g=b.done;b.id=d.uid();b.done=function(d){g(function(){a.currentQueueId==b.id&&d&&d()})};a.currentQueueId=b.id;return b},"{self} hide":function(){a.currentQueueId=null}}});EasyBlog.Controller("Media.Prompt",{defaultOptions:{"{dialog}":".modalPromptDialog","{cancelButton}":".promptCancelButton"}},
function(a){return{init:function(){},get:function(b){b=a.dialog("."+b);return a.instantiate(b)},instantiate:function(b){var d={element:b,show:function(){b.addClass("active");a.element.addClass("active");return d},hide:function(){b.removeClass("active");a.element.removeClass("active");return d},state:function(a){var c=b.data("lastPromptState");if(void 0===a)return c;var g=b.find(".promptState.state-"+a),c=b.find(".promptState.state-"+c);if(!(1>g.length))return c.removeClass("active"),g.addClass("active"),
b.data("lastPromptState",a),d}};return d},hideAll:function(){a.dialog().removeClass("active");a.element.removeClass("active")},"{cancelButton} click":function(){a.hideAll()}}});EasyBlog.Controller("Media.Library",{defaultOptions:{places:[],place:{files:{},acl:{canCreateFolder:!1,canUploadItem:!1,canRenameItem:!1,canRemoveItem:!1,canCreateVariation:!1,canDeleteVariation:!1},populateImmediately:!1}}},function(a){return{init:function(){a.media.library=a;d.each(a.options.places,function(b,d){a.addPlace(d)})},
places:{},getPlace:function(b){if(b){if(b.acl)return b;if("string"===typeof b)return a.places[b.split("|")[0]]}},addPlace:function(b){b=a.places[b.id]=d.extend({tasks:d.Threads({threadLimit:1}),ready:d.Deferred(),baseFolder:function(){return a.getMeta(b.id+"|"+a.media.options.directorySeparator)}},a.options.place,b);b.done=b.ready.done;b.fail=b.ready.fail;b.always=b.ready.always;b.files=function(a){if(!d.isEmptyObject(a)){if("string"===typeof a)try{a=d.parseJSON(a)}catch(b){}return"object"===typeof a?
a:void 0}}(b.files);b.files&&b.tasks.add(function(){a.importMeta(b.files);b.ready.resolve(b)});b.populate=function(){if(void 0!==b.populate.task)return b.populate.task;b.populate.task=d.Deferred();b.populate[/easysocial|jomsocial|flickr/.test(b.id)||b.files?"getFileTree":"getFolderTree"]();return b.populate.task};b.populate.getFolderTree=function(){return a.getRemoteMeta({place:b.id,foldersOnly:1}).done(function(d){b.tasks.add(function(){a.importMeta(d);b.ready.resolve(b)});b.populate.getFileTree()}).fail(function(){b.populate.task.reject(b);
delete b.populate.task;b.ready.reject(b)})};b.populate.getFileTree=function(){return a.getRemoteMeta({place:b.id}).done(function(d){b.tasks.add(function(){a.importMeta(d);b.ready.resolve(b);b.populate.task.resolve(b)})}).fail(function(){b.populate.task.reject(b);delete b.populate.task})};b.populateImmediately&&b.populate();return b},meta:{},metadata:{},isMeta:function(a){return!(void 0===a||!d.isPlainObject(a)||d.isEmptyObject(a))},get:function(b){if(a.meta.hasOwnProperty(b)){var g=d.extend({},a.meta[b]);
g.data=a.metadata[b];return g}},getKey:function(a){return a?a.place+"|"+a.path:null},getParentKey:function(b){if(b){b="string"===typeof b?b:b.key||a.getKey(b);var d=b.indexOf(g),f=b.lastIndexOf(g);return f===b.length-1?void 0:b.substring(0,f+(d===f?1:0))}},getMeta:function(b){if(b){if(a.isMeta(b))return a.get(a.getKey(b))||b;if("string"===typeof b)return a.get(b)}},getRemoteMeta:function(b){var g=d.Deferred();g.retry=0;b=d.extend({path:a.media.options.directorySeparator,retry:3,retryAfter:1E3,variation:0,
foldersOnly:0},b);if(void 0===b.place)return g.rejectWith(g,"Error: Place not given!");var f=function(){g.loader=EasyBlog.ajax("site.views.media.getMeta",b,{success:function(a){g.resolveWith(g,arguments)},fail:function(){g.rejectWith(g,arguments)},error:function(){g.retry++;g.retry<b.retry?f():g.rejectWith(g,arguments)}});return arguments.callee}();return g},getMetaVariations:function(b){b=a.getMeta(b);if(void 0!==b)return a.getRemoteMeta({place:b.place,path:b.path,variation:1}).done(function(b){a.addMeta(b)})},
removeMetaVariation:function(b,d){b=a.getMeta(b);if(void 0!==b&&void 0!==b.variations){for(var g,f=0;f<b.variations.length;f++)if(b.variations[f].name===d){g=b.variations[f];b.variations.splice(f,1);break}return g}},addMeta:function(b){var f=a.getKey(b),k=a.getMeta(f);if(k&&b.hash===k.hash)return k;b.key=f;b.hash=d.uid();b.group="folder"==b.type?"folders":"files";b.parentKey=a.getParentKey(b);var m=a.getPlace(b.place);b.friendlyPath=b.path===g?m.title:m.title+b.path.substring(b.path.indexOf(g),b.path.length);
a.meta[f]=b;f=b.data=a.metadata[f]||(a.metadata[f]=d.eventable({}));"folder"==b.type&&(f.files=f.files||{},f.folders=f.folders||{},f.views=f.views||a.createMetaView(b));k?setTimeout(function(){b.data.fire("updated",b)},0):(k=a.getMeta(b.parentKey))&&k.data.views.addMeta(b);return b},removeMeta:function(b){b=a.getMeta(b);if(void 0!==b){if("folder"===b.type){var d=b.data.folders,g=b.data.files;for(key in d)a.removeMeta(key);for(key in g)a.removeMeta(key)}b.parentKey&&((d=a.getMeta(b.parentKey))&&d.data.views.removeMeta(b),
delete a.meta[b.key],setTimeout(function(){b.data.fire("removed",b)},0));return b}},removeRemoteMeta:function(b){var g=d.Deferred();b=a.getMeta(b);if(void 0===b)return g.rejectWith(g,"The file does not exist in the media library.");g.loader=EasyBlog.ajax("site.views.media.delete",{place:b.place,path:b.path},{success:function(){a.removeMeta(b);g.resolveWith(g,[b])},fail:function(){g.rejectWith(g,arguments)},error:function(a,b){g.rejectWith(g,[b])}});return g},createFolder:function(b,f){var k=d.Deferred();
b=a.getMeta(b);var m=b.place;if(void 0===b||"folder"!==b.type)return k.rejectWith(k,"Parent folder was not found.");k.loader=EasyBlog.ajax("site.views.media.createFolder",{place:m,path:b.path+g+f},{success:function(b){b.place=m;b=a.addMeta(b);k.resolveWith(k,[b])},fail:function(){k.rejectWith(k,arguments)},error:function(a,b){k.rejectWith(k,[b])}});return k},importMeta:function(b,d){if(void 0!==b&&"folder"===b.type){void 0===d&&(d=!0);var g=b.contents,f=g.length;delete b.contents;g.reverse();for(var k=
a.addMeta(b),m=k.data,u={files:{},folders:{}},v=0;v<f;){b=a.addMeta(g[v]);var s=b.key,r=b.group;u[r][s]=delete m[r][s];v++}for(s in m.files)a.removeMeta(s);for(s in m.folders)a.removeMeta(s);m.folders=u.folders;m.files=u.files;if(d)for(s in m.folders)a.importMeta(a.getMeta(s),d);return k}},createMetaView:function(b){var g={meta:b,addMeta:function(a){for(mode in g.modes){var b=g.modes[mode][a.group];b&&b.add(a)}},removeMeta:function(a){for(mode in g.modes){var b=g.modes[mode][a.group];b&&b.remove(a)}},
create:function(a){var b=d.Callbacks("unique memory");d.extend(b,{from:0,to:1024,mode:"dateModified",group:"files"},a,{uid:d.uid(),select:function(a){d.extend(b,a);b.map&&delete b.map.monitors[b.uid];b.map=g.modes[b.mode][b.group];b.map.monitors[b.uid]=b;return b.refresh()},updated:b.add,refresh:function(){return b.fire(b.map.slice(b.from,b.to))},destroy:function(){b.disable();b.map&&delete b.map.monitors[b.uid];return b}});return b.select()}};a.createViewModes(g);return g},createViewModes:function(b){b.modes=
{dateModified:{folders:a.createViewMap(b,!0),files:a.createViewMap(b)}};return b},createViewMap:function(a,b){var c=d.extend([],{task:d.Threads({threadLimit:1}),affectedIndex:[],add:function(a){c.task.add(function(){c.unshift(a.key);c.affectedIndex.push(0);b&&c.sort().reverse();c.refreshMonitor()})},remove:function(a){c.task.add(function(){for(var b=a.key,d=c.length,e;d--;)if(c[d]===b){e=d;break}void 0!==e&&(c.splice(d,1),c.affectedIndex.push(d),c.refreshMonitor())})},monitors:{},refreshMonitor:function(){clearTimeout(c.refreshMonitor.timer);
c.refreshMonitor.timer=setTimeout(function(){var a=c.affectedIndex;c.affectedIndex=[];c.task.add(function(){var b=a.length,d=0;for(id in c.monitors)for(var e=c.monitors[id],g=e.from,f=e.to,d=0;d<b;d++){var h=a[d];if(h>=g||h<=f){e.refresh();break}}})},250)}});return c},search:function(b){if(""===d.trim(b))return[];b=b.toLowerCase();var g=a.createMetaView({type:"search"});for(key in a.meta){var f=key.split("|"),k=f[1],m=a.meta[key];/easysocial|jomsocial|flickr/.test(f[0])&&(k=m.title||"");k.toLowerCase().match(b)&&
g.addMeta(m)}return g}}});EasyBlog.Controller("Media.Exporter",{defaultOptions:{view:{recentItem:"media/recent.item"},"{recentActivities}":".recentActivities","{recentActivitiesDialog}":".recentActivities .modalPromptDialog","{hideRecentActivitiesButton}":".recentActivities .promptHideButton","{dashboardButton}":".recentActivities .dashboardButton","{recentItemGroup}":".recentItemGroup","{recentItem}":".recentItem"}},function(a){return{init:function(){b.exporter=a;b.insert=a.insert},handler:{},showDialog:function(){a.recentActivitiesDialog().addClass("active");
a.recentActivities().css({top:0,opacity:1}).addClass("active")},hideDialog:function(){a.recentActivities().animate({top:"-=50px",opacity:0},{duration:250,complete:function(){a.recentActivities().removeClass("active");a.recentActivitiesDialog().removeClass("active")}})},"{dashboardButton} click":function(){a.hideDialog()},"{hideRecentActivitiesButton} click":function(){a.hideDialog()},insert:function(e,g){var f=b.library.getMeta(e);if(void 0!==f){var k=a.create(f.type,f.key,g);a.showDialog();k.recentItem=
a.view.recentItem({meta:f}).addClass("loading").css({opacity:0}).prependTo(a.recentItemGroup()).animate({opacity:1},{duration:500,complete:function(){k.done(function(e){""===e&&k.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(d.language("COM_EASYBLOG_MM_UNABLE_TO_EXPORT_ITEM"));if("undefined"!=typeof tinyMCE)if(tinyMCE&&tinyMCE.isIE&&9==b.IE){var g=b.bookmark;if(g){var f=tinyMCE.editors.write_content;f.selection.moveToBookmark({rng:g.range});f.execCommand("mceInsertContent",
!1,e)}else EasyBlog.dashboard.editor.insert(e)}else EasyBlog.dashboard.editor.insert(e);else EasyBlog.dashboard.editor.insert(e);k.recentItem.removeClass("loading failed").addClass("done").find(".itemProgress").html(d.language("COM_EASYBLOG_MM_ITEM_INSERTED"));0<b.options.recentActivities.hideAfter&&setTimeout(function(){a.hideDialog()},b.options.recentActivities.hideAfter)}).progress(function(a){k.recentItem.hasClass("done")||k.recentItem.find(".itemProgress").html(a)}).fail(function(a){k.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(a)})}});
return k}},create:function(b,g,f){var k=a.handler[b],m=d.Deferred();if(void 0===k){k=EasyBlog.Controller.Media.Exporter[d.String.capitalize(b)];if(void 0===k)return m.reject(d.language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER")),m;k=a.handler[b]=new k(a.element,d.extend({},{settings:a.options[b],controller:{media:a.media}}))}k.create(m,g,f);return m}}});EasyBlog.Controller("Media.Exporter.File",{defaultOptions:{settings:{title:"",target:"_self",content:""}}},function(a){return{init:function(){},create:function(b,
g,f){f=d.extend({},a.options.settings,f);g=a.media.library.getMeta(g);g=d(document.createElement("A")).attr({title:f.title,target:f.target,href:g.url}).html(f.content?f.content:g.title);b.resolve(g.toHTML());return b}}});EasyBlog.Controller("Media.Exporter.Folder",{defaultOptions:{settings:{}}},function(a){return{init:function(){},create:function(b,g,f){f=d.extend({},a.options.settings,f);g=a.media.library.getMeta(g);var k="jomsocial"==g.place||"easysocial"==g.place?"album":"gallery";f.file=g.path;
f.place=g.place;f="[embed="+k+"]"+JSON.stringify(f)+"[/embed]";b.resolve(f);return b}}});EasyBlog.Controller("Media.Exporter.Image",{defaultOptions:{settings:{zoom:null,caption:null,lightbox:!1,enforceDimension:!1,enforceWidth:null,enforceHeight:null,variation:null,defaultVariation:"thumbnail",defaultZoom:"original"}}},function(b){return{init:function(){},create:function(e,g,f){var k=d.extend({},b.options.settings,f),m=b.media.library.getMeta(g),t=d(new Image);f=a(m.title);t.attr({src:m.thumbnail.url,
alt:f,title:f});var u=function(){var b={};d.each(m.variations,function(a,c){b[c.name]=c});var c=b[k.variation]||b[k.defaultVariation]||m.variations[0],g=a(c.title);t.attr({src:c.url,alt:g,title:g});k.enforceDimension&&null!==k.enforceWidth&&null!==k.enforceHeight&&(g=d.Image.resizeWithin(c.width,c.height,k.enforceWidth,k.enforceHeight),g.width=Math.floor(g.width),g.height=Math.floor(g.height),t.attr(g));null!==k.caption&&(g=a(k.caption),t.addClass("easyblog-image-caption").attr("title",g));null!==
k.zoom&&(c=b[k.zoom]||b[k.defaultZoom]||{url:m.thumbnail.url,title:m.title},g=a(k.caption||c.title||""),t=d("<a>").addClass("easyblog-thumb-preview").attr({href:c.url,title:g}).html(t));e.resolve(t.toHTML())};k.variation||k.zoom||k.enforceWidth||k.enforceHeight?void 0===m.variations?(e.notify(d.language("COM_EASYBLOG_MM_GETTING_IMAGE_SIZES")),b.media.library.getMetaVariations(g).done(function(a){m=a;u()}).fail(function(){e.reject(d.language("COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS"))})):u():
e.resolve(t.toHTML());return e}}});EasyBlog.Controller("Media.Exporter.Audio",{defaultOptions:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}},function(a){return{init:function(){},create:function(b,g,f){f=d.extend({},a.options.settings,f);g=a.media.library.getMeta(g);f.file=g.path;f.place=g.place;g="[embed=audio]"+JSON.stringify(f)+"[/embed]";b.resolve(g);return b}}});EasyBlog.Controller("Media.Exporter.Video",{defaultOptions:{settings:{width:400,height:225,
autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}}},function(a){return{init:function(){},create:function(b,g,f){f=d.extend({},a.options.settings,f);g=a.media.library.getMeta(g);f.file=g.path;f.place=g.place;g="[embed=video]"+JSON.stringify(f)+"[/embed]";b.resolve(g);return b}}});EasyBlog.Controller("MediaLauncher",{defaultOptions:{"{uploadImageButton}":".uploadImageButton","{chooseImageButton}":".chooseImageButton"}},function(a){return{init:function(){d("#media_manager_button").click(function(){EasyBlog.mediaManager.browse()})},
"{uploadImageButton} click":function(){EasyBlog.mediaManager.upload()},"{chooseImageButton} click":function(){EasyBlog.mediaManager.browse()}}});var k=d(document.createElement("div")).attr("id","EasyBlogMediaManager").appendTo("body");EasyBlog.mediaManager=new EasyBlog.Controller.Media(k)});EasyBlog.module("media/navigation",function(d){var f=this;EasyBlog.require().done(function(){var a,b,g;EasyBlog.Controller("Media.Navigation",{defaultOptions:{view:{item:"media/navigation.item",itemGroup:"media/navigation.itemgroup"},
nestLevel:8,groupCollapseDelay:1E3,canActivate:!0,"{itemGroup}":".navigationItemGroup","{item}":".navigationItem"}},function(f){return{init:function(){a=f.media;b=a.library;g=a.options.directorySeparator;f.element.toggleClass("canActivate",f.options.canActivate)},setPathway:function(a){if(a=b.getMeta(a)){f.currentKey=a.key;var e=b.getPlace(a.place),h=a.path,m="folder"===a.type,q=h.split(g).splice(1),p=f.options.nestLevel,t=q.length-(q.length%p||p),u;f.element.empty().toggleClass("type-folder",m);
f.view.item({title:e.title||g}).addClass("base").data("key",e.id+"|"+g).appendTo(f.element);var v="jomsocial"===e.id;h!==g&&d.each(q,function(d,h){var y=!m&&d==q.length-1,w=g+q.slice(0,d+1).join(g),w=e.id+"|"+w;h=v?b.getMeta(w).title:h;y=f.view.item({title:y?a.title:h}).data("key",w).toggleClass("filename",y);d>=t?y.appendTo(f.element):(0==d%p&&(u=f.view.itemGroup().appendTo(f.element)),y.appendTo(u))})}},"{itemGroup} mouseover":function(a){clearTimeout(a.data("delayCollapse"));a.addClass("expand")},
"{itemGroup} mouseout":function(a){a.data("delayCollapse",setTimeout(function(){a.removeClass("expand")},f.options.groupCollapseDelay))},"{item} click":function(a){f.options.canActivate&&(a=a.data("key"),f.trigger("activate",a))}}});f.resolve()})});EasyBlog.module("media/uploader",function(d){var f=this;EasyBlog.require().library("plupload").done(function(){var a,b,g,k;EasyBlog.Controller("Media.Uploader",{defaultOptions:{view:{uploader:"media/browser.uploader",uploadItem:"media/browser.uploader.item"},
"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalBrowserButton}":".modalButton.browserButton","{modalDashboardButton}":".modalButton.dashboardButton","{uploadButton}":".uploadButton","{uploadNavigation}":".uploadNavigation","{uploadForm}":".uploadForm","{uploadPath}":".uploadPath","{uploadSize}":".uploadSize","{uploadExtensionList}":".uploadExtensionList","{uploadItemGroup}":".uploadItemGroup",
"{uploadItem}":".uploadItem","{uploadDropHint}":".uploadDropHint","{uploadInstructions}":".uploadInstructions","{clearListButton}":".clearListButton"}},function(c){return{init:function(){a=c.media;b=a.library;g=a.uploader=c;k=a.options.directorySeparator;c.element.addClass("uploader").html(c.view.uploader({uploadSize:c.options.settings.max_file_size,uploadExtensionList:c.options.settings.filters[0].extensions.split(",").join(", ")}));c.uploadNavigation().implement(EasyBlog.Controller.Media.Navigation,
{controller:c.controllerProps()},function(){c.navigation=this});c.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,{controller:c.controllerProps()},function(){c.promptDialog=this});c.element.implement(EasyBlog.Controller.Media.Uploader.FolderSwitcher,{controller:c.controllerProps()},function(){c.folderSwitcher=this});c.element.implement("plupload",{settings:c.options.settings,"{uploadButton}":c.options["{uploadButton}"],"{uploadDropsite}":c.options["{uploadItemGroup}"]},function(){c.plupload=
this.plupload;if("html4"==c.plupload.runtime||d.browser.msie){c.uploadDropHint().remove();c.uploadItemGroup().addClass("indefinite-progress");var b=c.uploadInstructions().appendTo(a.element);c.element.find("> form").mouseover(function(){var g=c.uploadButton(),f=g.offset();b.addClass("show").css({top:f.top+g.outerHeight()-a.element.offset().top+3,right:d(window).width()-(f.left+g.outerWidth())-1})}).mouseout(function(){b.removeClass("show")})}else c.uploadButton().mouseover(function(){c.uploadInstructions().addClass("show")}).mouseout(function(){c.uploadInstructions().removeClass("show")})});
c.setLayout()},setLayout:function(){if("uploader"===a.currentModal){var b;c.modalContent().hide().height(b=c.element.height()-c.modalHeader().outerHeight()-c.modalToolbar().outerHeight()-c.modalFooter().outerHeight()).show();d.browser.msie&&(c.uploadDropHint().height(b),c.uploadItemGroup().height(b));c.plupload&&c.plupload.refresh()}},controllerProps:function(a){return d.extend({media:c.media,uploader:c},a||{})},setUploadFolder:function(a){a&&(c.navigation.setPathway(a),c.currentUploadFolder=a)},
items:{},createItem:function(a){var b=new EasyBlog.Controller.Media.Uploader.Item(c.view.uploadItem(),{controller:c.controllerProps({id:a.id,originalFile:a,uploadFolder:c.currentUploadFolder})});b.element.appendTo(c.uploadItemGroup());var g=b.file().filesize,g=g?"":" ("+g+").";b.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING_PENDING")+g);return c.items[a.id]=b},"{self} BeforeUpload":function(a,g,f,k){k=c.items[k.id];if(void 0!==k){k.setMessage(d.language("COM_EASYBLOG_MM_UPLOAD_PREPARING"));a=c.options.settings.url;
var m=b.getMeta(k.uploadFolder);g=m?m.place:k.uploadFolder.split("|")[0];k=encodeURIComponent(m?m.path:k.uploadFolder.split("|")[1]);f.settings.url=a+"&place="+g+"&path="+k}},"{self} FilesAdded":function(a,b,g,f){try{d.each(f,function(a,b){void 0===c.items[b.id]&&c.createItem(b)}),0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty"),c.plupload.start()}catch(k){console.error(k)}},"{self} UploadFile":function(a,b,g,f){a=c.items[f.id];void 0!==a&&(a.setState("uploading"),a.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING_STATE")))},
"{self} UploadProgress":function(a,b,g,f){a=c.items[f.id];void 0!==a&&(a.setProgress(f.percent),a.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING")+(void 0!==f.percent?" "+f.percent+"%":"")+(void 0!==f.loaded&&void 0!==!f.size?f.size-f.loaded?" ("+d.plupload.formatSize(f.size-f.loaded)+" "+d.language("COM_EASYBLOG_MM_UPLOADING_LEFT")+")":"":"")))},"{self} FileUploaded":function(b,g,f,k,m){b=c.items[k.id];void 0!==b&&(b.response=m,d.isPlainObject(m)?d.isPlainObject(m.item)?(b.setState("done"),b.setMessage(d.language("COM_EASYBLOG_MM_UPLOAD_COMPLETE")),
b.meta=m.item,b.meta.place=a.library.get(b.uploadFolder).place,"image"!==b.meta.type&&b.insertBlogImageButton().remove(),a.library.addMeta(b.meta)):(b.setState("failed"),b.setMessage(m.message||d.language("COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE"))):(b.setState("failed"),b.setMessage(d.language("COM_EASYBLOG_MM_SERVER_RETURNED_INVALID_RESPONSE"))))},"{self} FileError":function(a,b,d,g,f){a=c.items[g.id];void 0===a&&(a=c.createItem(g));a.response=f;a.setState("failed");a.setMessage(f.message);
0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty")},"{self} Error":function(a,b,d,g){g.file&&(a=g.file,b=c.items[a.id],void 0===b&&(b=c.createItem(a)),b.setState("failed"),b.setMessage(g.message));0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty")},"{modalBrowserButton} click":function(){a.browse()},"{modalDashboardButton} click":function(){a.hide()},"{uploadNavigation} activate":function(a,b,d){c.setUploadFolder(d)},"{self} modalActivate":function(b,d,g){c.setUploadFolder(g);
a.browser&&c.uploadItemGroup().toggleClass("blogimage","blogimage"==a.browser.mode())},removeItem:function(a){var b=c.items[a];void 0!==b&&(c.plupload.removeFile(b.file()),b.element.remove(),delete c.items[a]);1>c.uploadItem().length&&c.uploadItemGroup().addClass("empty")},"{clearListButton} click":function(){for(id in c.items)c.removeItem(id)}}});EasyBlog.Controller("Media.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage",
"{status}":".uploadStatus","{removeButton}":".uploadRemoveButton","{insertItemButton}":".insertItemButton","{locateItemButton}":".locateItemButton","{insertBlogImageButton}":".insertBlogImageButton"}},function(c){return{init:function(){var a=c.file();c.filename().html(a.name);c.setState("queued")},file:function(){var a=g.plupload.getFile(c.id)||c.originalFile;a&&(a.filesize=void 0===a.size||"N/A"==a.size?"":d.plupload.formatSize(c.file.size));return a},dblclick:function(b,d){d.shiftKey&&a.console("log",
c)},setProgress:function(a){c.progressBar().attr("value",a);c.percentage().html(a)},setState:function(a){c.element.removeClass("upload-state-"+c.state).addClass("upload-state-"+a);c.state=a},setMessage:function(a){c.status().html(a)},"{removeButton} click":function(a,b){b.stopPropagation();g.removeItem(c.id)},"{insertItemButton} click":function(){a.insert(c.meta)},"{locateItemButton} click":function(){a.browse(c.meta)},"{insertBlogImageButton} click":function(){var d=b.meta[b.getMeta(c.meta).key];
EasyBlog.dashboard.blogImage.setImage(d);a.hide()}}});EasyBlog.Controller("Media.Uploader.FolderSwitcher",{defaultOptions:{view:{treeItemGroup:"media/browser.tree-item-group",treeItem:"media/browser.tree-item"},"{changeUploadFolderButton}":".changeUploadFolderButton","{selectFolderButton}":".selectFolderButton","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup","{treeItem}":".browserTreeItem"}},function(c){return{init:function(){var b;c.promptDialog=g.promptDialog.get("changeUploadFolderPrompt");
d.each(a.library.places,function(a,d){d.acl.canUploadItem&&(d.uploaderTreeItemGroup=c.view.treeItemGroup().addClass("expanded").appendTo(c.treeItemField()),d.uploaderTreeItem=c.view.treeItem({title:d.title}).addClass("loading").addClass("type-place").data("place",d).appendTo(d.uploaderTreeItemGroup),b||(b=d.id+"|"+k,g.setUploadFolder(b)),d.done(function(){c.createTreeItem(d.baseFolder());d.uploaderTreeItem.removeClass("loading")}))})},treeItems:{},createTreeItem:function(a){a=b.getMeta(a);return c.treeItems[a.key]||
function(){var g=b.getPlace(a.place),f=b.getMeta(a.parentKey),g=c.treeItems[a.key]=(f?c.view.treeItem({title:a.title}).addClass("type-folder").insertAfter(c.treeItems[f.key]):g.uploaderTreeItem).data("key",a.key);a.data.on("removed",function(){c.removeTreeItem(a)});a.data.views.create({group:"folders"}).updated(function(a){d.each(a,function(a,b){c.createTreeItem(b)})});return g}()},removeTreeItem:function(a){a=b.getMeta(a);var d=c.treeItems[a.key];d&&(d.remove(),g.setUploadFolder(a.parentKey))},"{treeItem} click":function(a){c.treeItem().removeClass("active");
a.addClass("active")},"{changeUploadFolderButton} click":function(){(c.treeItems[c.currentUploadFolder]||c.treeItem(":first")).click();c.promptDialog.show()},"{selectFolderButton} click":function(){var a=c.treeItem(".active").data("key");g.setUploadFolder(a);c.promptDialog.hide()}}});f.resolve()})});EasyBlog.module("media/browser",function(d){var f=this;EasyBlog.require().library("image","easing","scrollTo").script("media/browser.item").done(function(){var a,b,g,k,c;EasyBlog.Controller("Media.Browser",
{defaultOptions:{view:{browser:"media/browser",itemGroup:"media/browser.item-group",item:"media/browser.item",treeItemGroup:"media/browser.tree-item-group",treeItem:"media/browser.tree-item",paginationPage:"media/browser.pagination-page"},path:"",items:void 0,mode:"browse",layout:{viewMode:"tile",tileSize:0.125,scrollToItemDuration:500,scrollToItemEasing:"swing",iconMaxLoadThread:8},search:{chunkSize:128,chunkDelay:500},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent",
"{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalUploaderButton}":".uploaderButton","{header}":".browserHeader","{content}":".browserContent","{footer}":".browserFooter","{treeToggleButton}":".browserTreeToggleButton","{tileViewButton}":".browserTileViewButton","{listViewButton}":".browserListViewButton","{itemField}":".browserItemField","{itemGroup}":".browserItemGroup","{item}":".browserItem","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup",
"{treeItem}":".browserTreeItem","{headerTitle}":".browserTitle","{headerSearch}":".browserSearch","{headerNavigation}":".browserNavigation","{headerUpload}":".browserUploadButton","{footerStatus}":".browserStatus","{footerMessage}":".browserMessage","{itemActionSet}":".browserItemActionSet","{itemFieldHints}":".browserItemField .hints","{browserPagination}":".browserPagination","{currentPage}":".currentPage","{totalPage}":".totalPage","{prevPageButton}":".prevPageButton","{nextPageButton}":".nextPageButton",
"{pageSelection}":".pageSelection","{paginationPage}":".paginationPage","{searchInput}":".searchInput"}},function(e){return{init:function(){a=e.media;b=a.library;g=a.browser=e;c=a.options.directorySeparator;e.iconThread=d.Threads({threadLimit:e.options.layout.iconMaxLoadThread});e.enqueue=d.Enqueue();var f=b.getPlace("flickr");e.element.addClass("browser").html(e.view.browser({canUpload:e.options.acl.canUpload,flickrCallback:f?f.options.callback:"",flickrLogin:f?f.options.login:""}));e.headerNavigation().implement(EasyBlog.Controller.Media.Navigation,
{controller:e.controllerProps()},function(){e.navigation=this});e.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,{controller:e.controllerProps()},function(){k=e.promptDialog=this});e.element.implement(EasyBlog.Controller.Media.Browser.Actions,{controller:e.controllerProps()},function(){e.actions=this});e.search=d.debounce(e._search,500);e.mode("browse");a.element.bind("hideModal",function(){e.mode("browse")});e.viewMode(e.options.layout.viewMode);e.setLayout();e._bind(e.itemField(),"scroll",
d.debounce(e["{itemField} scroll"],250));d.each(b.places,function(a,b){e.createPlace(b)});e.activatePlace(e.options.initialPlace||b.places[0].id).done(e.enqueue(function(a){e.activateItem(a.baseFolder())}))},controllerProps:function(b){return d.extend({media:a},b||{})},items:{},createPlace:function(a){a=b.getPlace(a);a.treeItemGroup=e.view.treeItemGroup().appendTo(e.treeItemField());a.treeItem=e.view.treeItem({title:a.title}).addClass("type-place").data("place",a).appendTo(a.treeItemGroup);a.itemGroup=
e.view.itemGroup().appendTo(e.itemField());return a},activatePlace:function(a){a=b.getPlace(a);if(void 0!==a){e.itemGroup().removeClass("active");a.itemGroup.addClass("active");e.treeItem().removeClass("active");a.treeItem.addClass("active");a.activator||(a.activator=d.Deferred());if("flickr"===a.id&&!a.options.associated)return g.currentFolderStatus("flickr"),a.activator;a.populated||(a.populated=!0,e.currentFolderStatus("loading"),(/easysocial|jomsocial|flickr/.test(a.id)?a.populate():a.ready).done(function(){var b=
e.createFolder(a.baseFolder());a.activator.resolveWith(a,[a,b])}).fail(function(){e.currentFolderStatus("error");a.activator.rejectWith(a,arguments)}));return a.activator}},getItem:function(a){if(void 0!==a){if(a instanceof EasyBlog.Controller.Media.Browser.Item)return a;if("string"===typeof a)return e.items[a];if(b.isMeta(a))return e.items[b.getKey(a)]}},createItem:function(c,d){if(c=b.getMeta(c))return e.items[c.key]=new EasyBlog.Controller.Media.Browser.Item(e.view.item({meta:c}),{controller:{key:c.key,
media:a}})},createFolder:function(a,g){a=b.getMeta(a);return e.getItem(a)||function(){var b=e.createItem(a),g=b.place(),f=b.parentFolder();f?b.element.insertAfter(f.element):b.element.appendTo(g.itemGroup);b.treeItem=(f?e.view.treeItem({title:a.title}).addClass("type-folder").css("marginLeft",18*(a.path.split(c).length-1)).insertAfter(f.treeItem):g.treeItem).data("item",b);a.data.views.create({group:"folders"}).updated(function(a){d.each(a,function(a,b){e.createFolder(b)})});return b}()},createFile:function(a,
c){a=b.getMeta(a);return e.getItem(a)||e.createItem(a)},removeItem:function(a){clearTimeout(e.removeItem.revert);a=e.getItem(a);var b=a.parentFolder();a.remove();a.treeItem&&a.treeItem.remove();delete e.items[a.key];e.itemField().hasClass("searching")||(e.removeItem.revert=setTimeout(function(){b&&e.activateItem(b)},500))},focusItem:function(a,b){if(a=e.getItem(a))b?e.activateItem(a):(e.currentItem(a),a.element.removeClass("active")),e.scrollTo(a),e.trigger("itemFocus",[a])},locateItem:function(a){e.itemField().hasClass("searching")&&
e.clearSearch(!0);(a=b.getMeta(a))&&e.activatePlace(a.place).done(e.enqueue(function(){var b="folder"===a.type,c=e.activateItem(b?a:a.parentKey);void 0!==c&&(b||c.handler.locateItem(a),(b=c.handler.folderView)&&b.refresh())}))},activateItem:function(a){if(a=e.getItem(a))return e.currentItem(a),a.activate(),e.trigger("itemActivate",[a]),a},scrollTo:function(a){(a=e.getItem(a))&&e.itemField().scrollTo(a.element,{duration:e.options.layout.scrollToItemDuration,easing:e.options.layout.scrollToItemEasing,
offset:{top:-0.1*e.itemField().height()}})},currentItem:function(a){var b=e.currentItem.item;b&&b._destroyed&&(b=e.currentItem.item=void 0);a=e.getItem(a);if(!a||a._destroyed)return b;b&&(b.element.removeClass("active focus"),"folder"!==b.meta().type&&b.parentFolder().element.removeClass("active focus"),b.place().itemGroup.removeClass("active"));a.element.addClass("active focus");(b="folder"==a.meta().type)||a.parentFolder().element.addClass("focus");a.place().itemGroup.addClass("active");e.currentFolder(b?
a:a.parentFolder());e.navigation.setPathway(a.key);return e.currentItem.item=a},currentFolder:function(a){var b=e.currentFolder.folder;b&&b._destroyed&&(b=e.currentFolder.folder=void 0);a=e.getItem(a);if(!a)return b;e.treeItem().removeClass("active");a.treeItem.addClass("active");a.meta().path!==c&&a.place().treeItemGroup.addClass("expanded");a.handler.folderView&&a.handler.refreshSeed!==e.folderRefreshSeed&&(a.handler.folderView.refresh(),a.handler.refreshSeed=e.folderRefreshSeed);return e.currentFolder.folder=
a},currentFolderStatus:function(a){if(!e.itemField().hasClass("searching")||/emptySearch|ready/.test(a)){var b=e.currentFolderStatus.lastStatus;if(void 0===a)return b;if("string"===typeof a)return b&&e.itemField().removeClass(b),e.itemField().addClass(a),e.currentFolderStatus.lastStatus=a}},setLayout:function(){if(a.layout&&"browser"===a.currentModal){var b;e.modalContent().hide().height(b=e.element.height()-e.modalHeader().outerHeight()-e.modalToolbar().outerHeight()-e.modalFooter().outerHeight()).show();
d.browser.msie&&(e.treeItemField().height(b),e.itemField().height(b),e.itemFieldHints().height(b));e.setItemLayout();e.trigger("setLayout")}},setItemStyle:function(b){if(!b){b=a.layout;if(e.setItemStyle.seed===b)return;e.setItemStyle.seed=b}b={};if("tile"==e.viewMode()){var c=function(){var a=d(document.createElement("DIV")).prependTo(e.itemField()),b=a.width();a.remove();return b}(),c=Math.floor(c*e.options.layout.tileSize);b["#EasyBlogMediaManager .browser .browserItemField.view-tile .browserItem"]=
{width:c+"px",height:c-24+"px"}}c=document.getElementsByTagName("head")[0];if(e.itemStyle)try{c.removeChild(e.itemStyle)}catch(g){}e.itemStyle=document.createElement("style");e.itemStyle.type="text/css";var f="";d.each(b,function(a,b){f+=a+"{"+d.map(b,function(a,b){return b+":"+a}).join(";")+"}\n"});e.itemStyle.styleSheet?e.itemStyle.styleSheet.cssText=f:e.itemStyle.appendChild(document.createTextNode(f));c.appendChild(e.itemStyle)},setItemLayout:function(){a.layout&&"browser"===a.currentModal&&(e.setItemStyle(),
setTimeout(function(){var a=[];if(e.itemField().hasClass("searching"))e.searchItemGroup&&(a=e.searchItemGroup.find(".browserItem"));else{var b=e.currentFolder();if(void 0===b)return;a=b.childItem()}if(!(1>a.length)){var c=e.itemField().offset(),d,g,f=a.length,b=1;if(!(1>a.length)){for(;1<Math.abs(f-b);)d=a.eq(b-1),g=d.offset(),0>g.top-c.top+d.outerHeight()?b=Math.ceil((f+b)/2):(f=b,b=Math.ceil(f/2));1===b&&(b=0);var c=b,k=a.length-1;for(setLayout=function(b){if(0>b||b>k)return!1;b=a.eq(b).data("item");
if(!b.isVisible())return!1;b.setLayout()};!1!==setLayout(c);)c--;for(;!1!==setLayout(b);)b++}}},0))},viewMode:function(a){var b=e.viewMode.mode;b||(b=e.viewMode.mode=e.options.layout.viewMode);void 0!==a&&(e.setItemStyle.seed=null,e.itemField().removeClass("view-"+b).addClass("view-"+a),e.viewMode.mode=b=a,e.setLayout(),a=e.currentItem(),void 0!==a&&e.scrollTo(a));return b},mode:function(a){if(void 0===a)return e.mode.currentMode||"browse";switch(a){case "browse":e.element.removeClass("mode-blogimage").addClass("mode-browse");
d.each(b.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)&&(b.treeItemGroup&&b.treeItemGroup.show(),b.itemGroup&&b.itemGroup.show())});break;case "blogimage":e.element.addClass("mode-blogimage").removeClass("mode-browse");var c=e.currentItem(),g=!1;c&&/easysocial|jomsocial|flickr/.test(c.place().id)&&(g=!0);d.each(b.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)?(b.treeItemGroup&&b.treeItemGroup.hide(),b.itemGroup&&b.itemGroup.hide()):g&&(g=!1,b.treeItem&&b.treeItem.click())})}e.mode.currentMode=
a},"{self} itemActivate":function(a,b,c){e.itemActionSet().removeClass("active");"folder"==c.meta().type?e.itemActionSet(".type-folder").addClass("active"):e.itemActionSet(".type-item").addClass("active")},"{headerNavigation} activate":function(a,b,c){e.activateItem(c)},"{tileViewButton} click":function(a,b){a.addClass("active").siblings().removeClass("active");e.viewMode("tile")},"{listViewButton} click":function(a,b){a.addClass("active").siblings().removeClass("active");e.viewMode("list")},"{treeItem} click":function(a,
b){e.clearSearch(!0);var c=a.data("item");a.hasClass("type-place")?(c=a.data("place"),d(b.target).hasClass("treeItemToggle")&&c.treeItemGroup.toggleClass("expanded"),e.activatePlace(c).done(e.enqueue(function(a,b){"jomsocial"===a.id&&a.treeItemGroup.addClass("expanded");"easysocial"===a.id&&a.treeItemGroup.addClass("expanded");e.activateItem(b)}))):e.activateItem(c)},"{itemField} scroll":function(a,b){e.setItemLayout()},"{item} click":function(a,b){b.stopPropagation();var c=a.data("item");if(void 0!==
c){var d=c.place();e.activatePlace(d).done(e.enqueue(function(a,b){e.activateItem(c)}))}},"{item} dblclick":function(c,d){d.stopPropagation();var g=c.data("item");d.shiftKey?a.console("log",[g]):void 0!==g&&"folder"!=g.meta().type&&("blogimage"===e.mode.currentMode?"image"==g.meta().type&&(EasyBlog.dashboard.blogImage.setImage(b.meta[g.key]),a.hide()):a.edit(g.key))},"{modalUploaderButton} click":function(){var b=e.currentFolder();a.upload(b.place().acl.canUploadItem?b.key:"")},"{self} modalActivate":function(a,
c,d,g){void 0!==g&&e.mode(g);(d=b.getMeta(d)||e.currentItem().meta())&&e.locateItem(d)},"{prevPageButton} click":function(){g.currentFolder().handler.changePage("prev")},"{nextPageButton} click":function(){g.currentFolder().handler.changePage("next")},"{pageSelection} click":function(a){1<e.paginationPage().length&&a.toggleClass("expanded")},"{paginationPage} click":function(a){if(e.pageSelection().hasClass("expanded")&&!a.hasClass("selected")){a=a.data("page");var b=g.currentFolder();b.handler.isChangingPage=
!0;b.handler.currentPage(a)}},"{window} click":function(a,b){var c=d(b.target).attr("class");/pageSelection|paginationPage/.test(c)||e.pageSelection().hasClass("expanded")&&e.pageSelection().removeClass("expanded")},_search:function(a){e.itemBeforeSearch||(e.itemBeforeSearch=e.currentItem().meta());e.element.addClass("searching");e.itemField().addClass("searching");e.searchItemGroup||(e.searchItemGroup=e.view.itemGroup().appendTo(e.itemField()));e.searchItemGroup.addClass("active search-mode");var c;
e.searchView=b.search(a).create({from:0,to:300}).updated(function(a){var b=a.length;if(1>b)c=setTimeout(function(){g.currentFolderStatus("emptySearch")},500);else{clearTimeout(c);g.currentFolderStatus("ready");for(i=0;i<b;i++)g.createFile(a[i]).element.appendTo(e.searchItemGroup);e.setItemLayout()}})},clearSearch:function(a){e.folderRefreshSeed=d.uid();a&&e.searchInput().val("").blur();e.element.removeClass("searching");e.itemField().removeClass("searching");e.searchItems&&d.each(e.searchItems,function(a,
b){d(b).detach()});e.searchItemGroup&&(e.searchItemGroup.find(".browserItem").detach(),e.searchItemGroup.removeClass("active"));e.searchView&&e.searchView.destroy();delete e.searchView;e.itemBeforeSearch&&e.locateItem(e.itemBeforeSearch)},"{searchInput} focusin":function(a){a.parent().addClass("active");""!==d.trim(a.val())&&a.parent().addClass("showCancelButton")},"{searchInput} focusout":function(a){setTimeout(function(){""===d.trim(a.val())&&a.parent().removeClass("active showCancelButton")},50)},
"{searchInput} keyup":function(a){var b=d.trim(a.val());""===b?(a.parent().removeClass("showCancelButton"),e.clearSearch(),delete e.itemBeforeSearch):(a.parent().addClass("showCancelButton"),e.search(b))}}});EasyBlog.Controller("Media.Browser.Actions",{defaultOptions:{"{customizeItemButton}":".customizeItemButton","{insertAsGalleryButton}":".insertAsGalleryButton","{insertItemButton}":".insertItemButton","{insertBlogImageButton}":".insertBlogImageButton","{createFolderButton}":".createFolderButton",
"{confirmCreateFolderButton}":".createFolderPrompt .confirmCreateFolderButton","{folderPath}":".createFolderPrompt .folderPath","{folderCreationPath}":".createFolderPrompt .folderCreationPath","{folderInput}":".createFolderPrompt .folderInput","{folderCreationFailedReason}":".createFolderPrompt .folderCreationFailedReason","{removeItemButton}":".removeItemButton","{removeItemFilename}":".removeItemPrompt .removeItemFilename","{confirmRemoveItemButton}":".confirmRemoveItemButton","{removeItemFailedReason}":".removeItemPrompt .removeItemFailedReason",
"{flickrLoginButton}":".flickrLoginButton","{cancelSearchButton}":".cancelSearchButton","{retryPopulateButton}":".retryPopulateButton"}},function(e){return{init:function(){},"{self} itemActivate":function(a,b,c){e.item=c;a=c.place().acl;e.removeItemButton().toggle(a.canRemoveItem);e.createFolderButton().toggle(a.canCreateFolder);e.insertBlogImageButton().toggle("blogimage"===g.mode()&&"image"===c.meta().type)},"{customizeItemButton} click":function(){a.edit(e.item.key)},"{insertAsGalleryButton} click":function(){a.insert(e.item.key)},
"{insertItemButton} click":function(){a.insert(e.item.key)},"{insertBlogImageButton} click":function(){EasyBlog.dashboard.blogImage.setImage(b.meta[e.item.key]);a.hide()},"{createFolderButton} click":function(){k.get("createFolderPrompt").show().state("default");var a=g.currentFolder();e.folderPath().html(a.meta().friendlyPath);e.folderInput().focus()[0].select()},"{folderInput} keyup":function(a,b){13==b.keyCode&&e.confirmCreateFolderButton().click()},"{confirmCreateFolderButton} click":function(){var a=
d.trim(e.folderInput().val());if(""!==a){var f=g.currentFolder().meta(),m=f.friendlyPath+c+a;e.folderCreationPath().html(m);var p=k.get("createFolderPrompt");p.state("progress");b.createFolder(f,a).done(function(a){a=g.createFolder(a);p.hide();g.activateItem(a)}).fail(function(a){e.folderCreationFailedReason().html(a);p.state("fail")})}},"{removeItemButton} click":function(){e.removeItemFilename().html(e.item.meta().title);k.get("removeItemPrompt").show().state("default")},"{confirmRemoveItemButton} click":function(a){var c=
k.get("removeItemPrompt");c.state("progress");b.removeRemoteMeta(e.item.key).done(function(){c.hide()}).fail(function(a){e.removeItemFailedReason().html(a);c.state("fail")})},"{flickrLoginButton} click":function(a){var c=a.data("login");a=a.data("callback");var d=g.enqueue(function(){g.activatePlace("flickr").done(g.enqueue(function(a,b){g.activateItem(b)}))});window[a]=function(){b.getPlace("flickr").options.associated=!0;d()};window.open(c,"Flickr Login","scrollbars=no, resizable=no, width=650, height=700")},
"{cancelSearchButton} click":function(){g.clearSearch(!0)},"{retryPopulateButton} click":function(){var a=e.item.place();delete a.activator;a.populated=!1;a.treeItem.click()}}});f.resolve()})});EasyBlog.module("media/browser.item",function(d){EasyBlog.Controller("Media.Browser.Item",{defaultOptions:{"{itemTitle}":".itemTitle","{itemIcon}":".itemIcon","{childItem}":".browserItem",hasCustomHandler:["folder"]}},function(f){var a,b,g;return{init:function(){a=f.media;b=a.library;g=a.browser;f.element.data("item",
f).addClass("item-type-"+f.meta().type);f.meta().data.on("removed",function(){g.removeItem(f)});f.createHandler()},meta:function(){return b.getMeta(f.key)},place:function(){return b.getPlace(f.key)},parentFolder:function(){return g.getItem(b.getParentKey(f.key))},createHandler:function(){if(!(0>d.inArray(f.meta().type,f.options.hasCustomHandler))){var a=EasyBlog.Controller.Media.Browser.Item[d.String.capitalize(f.meta().type)];void 0===a?EasyBlog.require().script("media/browser.item."+f.meta().type).done(function(){f.createHandler()}):
f.handler=new a(f.element,{controller:{media:f.media,item:f}})}},activate:function(){f.setLayout();f.handler&&f.handler.activate()},remove:function(){try{f.handler&&(f.handler._destroyed||f.handler.destroy()),f.element&&f.element.remove()}catch(a){}},isVisible:function(){var a=f.element,b=a.outerHeight(),a=a.offset().top,d=a+b,g=f.media.browser.itemField(),n=g.offset().top,g=n+g.height();isVisible=!(a<n&&d<n||a>g&&d>g);f.media.options.debug.itemVisiblity&&f.media.console("info",["Item visibility",
{title:f.meta().title,isVisible:isVisible,item:f,itemHeight:b,itemTop:a,itemBottom:d,itemFieldTop:n,itemFieldBottom:g}]);return isVisible},setLayout:function(a){if("folder"!=f.meta().type){if(f.handler&&d.isFunction(f.handler.setLayout))return f.handler.setLayout();f.setIcon()}},setIcon:function(){f.setIcon.loading||f.setIcon.loaded||void 0===f.meta().icon||f._destroyed||(f.setIcon.loading=!0,g.iconThread.addDeferred(function(a){var b=f.itemIcon();if(f.isVisible()){var d=f.meta(),g=f.place(),n=d.icon.url;
f.setIcon.useNaturalUrl||/easysocial|jomsocial|flickr/.test(g.id)||"image"!==d.type||(n=EasyBlog.baseUrl+"&view=media&layout=getIconImage&place="+encodeURIComponent(g.id)+"&path="+encodeURIComponent(f.meta().path)+"&format=image&tmpl=component");f.element.addClass("loading-icon");b.image("get",n).done(function(){f.element.removeClass("loading-icon");f.setIcon.loaded=!0;f.setIcon.loading=!1;a.resolve()}).fail(function(){f.element.removeClass("loading-icon");f.setIcon.loaded=!1;f.setIcon.loading=!1;
a.reject();f.setIcon.triedNaturalUrl||(f.setIcon.useNaturalUrl=!0,f.setIcon.triedNaturalUrl=!0)})}else f.setIcon.loading=!1,a.reject()}))}}});EasyBlog.Controller("Media.Browser.Item.Folder",{defaultOptions:{"{childItem}":".browserItem"}},function(f){var a,b,g;return{init:function(){a=f.media;b=a.library;g=a.browser;f.element.empty()},items:{},setLayout:function(){var b=f.item.place(),c;switch(b.ready.state()){case "pending":c="loading";break;case "rejected":c="error";break;case "resolved":if(f.folderView&&
0<f.folderView.map.length)c="ready",g.browserPagination().show();else switch(b.populate.task.state()){case "pending":c="loading";break;case "rejected":c="error";break;case "resolved":f.folderView&&1>f.folderView.map.length?(c=b.acl.canUploadItem?"empty canUpload":"empty","jomsocial"===f.item.meta().place&&f.item.meta().path===a.options.directorySeparator&&(c="selectAlbum"),"easysocial"===f.item.meta().place&&f.item.meta().path===a.options.directorySeparator&&(c="selectAlbum")):c="ready",g.browserPagination().toggle(!/empty|selectAlbum/.test(c))}}g.currentFolderStatus(c);
g.setItemLayout();f.isChangingPage?f.isChangingPage=!1:f.populatePages()},populate:function(a){if(!g.itemField().hasClass("searching")){var b,d=a.length,h=f.items;f.items={};if(1>d)try{f.childItem().detach()}catch(n){}else{for(b=0;b<d;b++){var q=a[b],p=g.createFile(q);p.element.appendTo(f.element);f.items[q]=p;delete h[q]}for(q in h)try{h[q].element.detach()}catch(t){}}f.item.place().itemGroup.hasClass("active")&&f.element.hasClass("focus")&&f.setLayout()}},activate:function(){f.folderView||(f.folderView=
f.item.meta().data.views.create({from:0,to:g.options.layout.maxIconPerPage}),f.folderView.updated(f.populate));f.setLayout()},populatePages:function(){var a=f.totalPage();if(2>a)g.browserPagination().hide();else{g.browserPagination().show();g.pageSelection().html("");for(var b=1;b<=a;b++)g.view.paginationPage({page:b}).appendTo(g.pageSelection());f.folderView.currentPage=f.folderView.currentPage||1;g.paginationPage().removeClass("selected");g.paginationPage(".page"+f.folderView.currentPage).addClass("selected")}},
totalPage:function(){var a=f.folderView.map.length,a=Math.floor(0<a%g.options.layout.maxIconPerPage?a/g.options.layout.maxIconPerPage+1:a/g.options.layout.maxIconPerPage);g.totalPage().text()!=a&&g.totalPage().text(a);return a},currentPage:function(a,b){var e=parseInt(f.folderView.currentPage);isNaN(e)&&(e=1,f.folderView.currentPage=1,g.paginationPage().removeClass("selected"),g.paginationPage(":first").addClass("selected"));void 0===a&&(a={from:f.folderView.from});if(d.isPlainObject(a)&&void 0!==
a.from)var h=Math.floor(a.from/g.options.layout.maxIconPerPage)+1;a=h||a;if(a!=e){var h=(a-1)*g.options.layout.maxIconPerPage,n=h+g.options.layout.maxIconPerPage;h!=a.from&&f.folderView.select({from:h,to:n});f.folderView.currentPage=a;g.paginationPage().removeClass("selected");g.paginationPage(".page"+a).addClass("selected");g.trigger("pageChanged",[e,a])}b&&b();return a},next:function(){f.changePage("next")},prev:function(){f.changePage("prev")},changePage:function(a){f.isChangingPage=!0;var b=f.totalPage(),
d=f.currentPage();"next"==a&&d<b&&(d+=1);"prev"==a&&1<d&&(d-=1);f.currentPage(d)},locateItem:function(a){a=b.getMeta(a);var c=f.getItemPage(a);c&&f.currentPage(c,function(){g.focusItem(a.key,!0)})},getItemPage:function(a){a=b.getMeta(a);var c=a.key,e;d.each(f.folderView.map,function(a,b){if(b==c)return e=a,!1});return void 0!==e?Math.floor(e/g.options.layout.maxIconPerPage)+1:!1}}});this.resolve()});EasyBlog.module("media/editor",function(d){var f=this;EasyBlog.require().done(function(){EasyBlog.Controller("Media.Editor",
{defaultOptions:{view:{editor:"media/editor",viewport:"media/editor.viewport"},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{navigationPathway}":".navigationPathway","{insertItemButton}":".insertItemButton","{cancelEditingButton}":".cancelEditingButton"}},function(a){return{init:function(){a.element.addClass("editor").html(a.view.editor());a.navigationPathway().implement(EasyBlog.Controller.Media.Navigation,{controller:{media:a.media},canActivate:!1},
function(){a.navigation=this});a.setLayout()},setLayout:function(){if("editor"===a.media.currentModal){a.modalContent().hide().height(a.element.height()-a.modalHeader().outerHeight()-a.modalToolbar().outerHeight()).show();var b=a.getEditor(a.currentEditor);b&&b.setLayout&&b.setLayout()}},editors:[],handlers:[],loadHandler:function(b){var f=a.handlers[b];if(void 0!==f)return f;f=d.Deferred();f.require=EasyBlog.require().script("media/editor."+b).done(function(){var k=EasyBlog.Controller.Media.Editor[d.String.capitalize(b)];
void 0!==k?f.resolve(k):(delete a.handlers[b],f.reject())}).fail(function(){f.reject()});return f},createEditor:function(b,d){a.removeEditor(b);var f=a.media.library.getMeta(b);void 0!==f&&a.loadHandler(f.type).done(function(c){c=new c(a.view.viewport().addClass("editor-type-"+f.type).prependTo(a.modalContent()),{controller:{media:a.media,editor:a,key:a.media.library.getKey(f)}});a.editors[b]=c;d&&d(c)})},removeEditor:function(b){var d=a.editors[b];void 0!==d&&(d.destroy(),delete a.editors[b])},getEditor:function(b){return a.editors[b]},
activateEditor:function(b){a.deactivateEditor(a.currentEditor);a.navigation.setPathway(b);var d=a.getEditor(b),f=function(c){a.currentEditor=b;c.element.addClass("active");c.activate&&c.activate()};void 0===d?a.createEditor(b,f):f(d)},deactivateEditor:function(){var b=a.getEditor(a.currentEditor);void 0!==b&&(b.deactivate&&b.deactivate(),b.element.removeClass("active"))},"{self} modalActivate":function(b,d,f){a.activateEditor(f)},"{self} modalDeactivate":function(){a.deactivateEditor()},"{insertItemButton} click":function(){var b=
a.getEditor(a.currentEditor);void 0!==b&&b.trigger("insertItem")},"{cancelEditingButton} click":function(){var b=a.getEditor(a.currentEditor);b&&b.trigger("cancelItem");a.media.browse()}}});EasyBlog.Controller("Media.Editor.Panel",{defaultOptions:{"{sectionHeader}":".panelSectionHeader","{sectionContent}":".panelSectionContent"}},function(a){return{init:function(){},"{sectionHeader} click":function(a){a.parent().toggleClass("active")}}});EasyBlog.Controller("Media.Editor.Preview",{defaultOptions:{"{container}":".previewContainer",
"{dialogGroup}":".previewDialogGroup"}},function(a){return{init:function(){},resetLayout:function(){clearTimeout(a.resetLayoutTimer);a.resetLayoutTimer=setTimeout(function(){var b=a.container(),d=a.element.width(),f=a.element.height(),c=b.width(),e=b.height(),h=0,m=0,q="none";c<d?m=(d-c)/2:q="auto";e<f?h=(f-e)/2:q="auto";a.element.css("overflow",q);b.css({top:h,left:m})},100)},showDialog:function(b){a.dialogGroup().addClass("show-dialog-"+b)},hideDialog:function(b){a.dialogGroup().removeClass("show-dialog-"+
b)}}});f.resolve()})});EasyBlog.module("media/constrain",function(d){var f=this;EasyBlog.require().library("image").done(function(){d.fn.constrain=function(){var a=this.data("constrain");if(a instanceof d.Constrain)if(0<arguments.length)a.update(arguments[0]);else return a;else a=new d.Constrain(this,arguments[0]),this.data("constrain",a)};d.Constrain=function(a,b){var f=this;f.options=d.extend(!0,{},{selector:{width:".inputWidth",height:".inputHeight",constrain:".inputConstrain"},forceConstrain:!1},
b?b:{});f.options.element={width:a.find(f.options.selector.width).data("type","width"),height:a.find(f.options.selector.height).data("type","height"),constrain:a.find(f.options.selector.constrain)};f.options.initial=f.options.initial||f.options.source;void 0!==f.options.allowedMax&&(f.options.max=d.Image.resizeWithin(f.options.source.width,f.options.source.height,f.options.allowedMax.width,f.options.allowedMax.height),f.options.initial.width=Math.min(f.options.max.width,f.options.initial.width),f.options.initial.height=
Math.min(f.options.max.height,f.options.initial.height));f.options.element.width.data("initial",f.options.initial.width);f.options.element.height.data("initial",f.options.initial.height);f.fieldValues(f.calculate("width",f.options.initial));d.each([f.options.element.width,f.options.element.height],function(a,b){var e=b.data("type"),h=f.getOppositeType(e);b=d(b);var m=f.options.element[h];b.bind("keyup",function(a){if(9==a.keyCode||16==a.keyCode)return!1;f.fieldValues(f.calculate(e))});b.bind("blur",
function(){f.options.element.constrain.is(":checked")||""!=d.trim(b.val())||b.val(f.options.initial[e]);""==d.trim(b.val())&&""==d.trim(m.val())&&(b.val(f.options.initial[e]),m.val(f.options.initial[h]))})});d(f.options.element.constrain).bind("change",function(){if(d(this).is(":checked")){var a=""===f.fieldValues().width?"height":"width";f.fieldValues(f.calculate(a))}})};d.extend(d.Constrain.prototype,{calculate:function(a,b){b=void 0!==b?b:this.fieldValues();var d=this.getOppositeType(a),f=this.options.max?
this.options.max[a]:void 0,c=this.options.max?this.options.max[d]:void 0,e=this.options.source[a],h=this.options.source[d],m=b[a],q=b[d],m=""!=m&&f&&m>f?f:m;this.enforceConstrain()&&(""==m?q="":(q=Math.round(h/(e/m)),c&&q>c&&(q=c)));f={};f[a]=m;f[d]=q;return f},getOppositeType:function(a){return"width"==a?"height":"width"},getInput:function(a){a=this.options.element[a].val();a=d.trim(a);a=a.replace(/[^0-9.]/g,"");a=parseInt(a,10);return isNaN(a)?"":a},fieldValues:function(a){var b={};void 0===a?(b.width=
this.getInput("width"),b.height=this.getInput("height")):(this.options.element.width.val(Math.floor(a.width)),this.options.element.height.val(Math.floor(a.height)),b=a);return b},enforceConstrain:function(){return this.options.forceConstrain?!0:1>this.options.element.constrain.length?!0:this.options.element.constrain.is(":checked")},update:function(a){this.options.initial=a.initial||a.source||this.options.initial;void 0!==a.allowedMax&&void 0!==a.source&&(a.max=d.Image.resizeWithin(a.source.width,
a.source.height,a.allowedMax.width,a.allowedMax.height),this.options.initial.width=Math.min(a.max.width,this.options.initial.width),this.options.initial.height=Math.min(a.max.height,this.options.initial.height));this.options=d.extend(!0,{},this.options,a);values=this.calculate("width",{width:this.options.initial.width||this.options.source.width,height:this.options.initial.height||this.options.source.height});this.fieldValues(values)}});f.resolve()})});EasyBlog.module("media/editor.audio",function(d){var f=
this;EasyBlog.require().view("media/editor.audio","media/editor.audio.player").done(function(){EasyBlog.Controller("Media.Editor.Audio",{defaultOptions:{view:{panel:"media/editor.audio",player:"media/editor.audio.player"},player:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:d.rootPath+"components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel",
"{playerContainer}":".playerContainer","{autoplay}":".autoplay"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta();a.place();a.editorPanel().html(a.view.panel({meta:d})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.initPlayer()})},initPlayer:function(){EasyBlog.require().script(d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(b){var c=
a.meta();a.place();var d="player-"+b.uid();b=b.extend(a.options.player,{id:d,file:a.meta().url});c=a.view.player({id:d,meta:c,options:b});a.preview.container().append(c);a.player=jwplayer(d).setup(b);a.preview.resetLayout()})},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){},stop:function(){a.player&&"PLAYING"==a.player.getState()&&a.player.pause()},deactivate:function(){a.stop()},"{self} cancelItem":function(){a.stop()},"{self} insertItem":function(){var d=
{autostart:"1"==a.autoplay().val()?!0:!1};b.insert(a.meta(),d)}}});f.resolve()})});EasyBlog.module("media/editor.file",function(d){var f=this;EasyBlog.require().view("media/editor.file","media/editor.file.preview").done(function(){EasyBlog.Controller("Media.Editor.File",{defaultOptions:{view:{panel:"media/editor.file",preview:"media/editor.file.preview"},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{filePreviewCaption}":".filePreviewCaption","{insertItemButton}":".insertItemButton",
"{insertItemDetail}":".insertItemDetail","{insertCaption}":".insertCaption","{insertAs}":".insertAs"}},function(a){var b,d;return{init:function(){b=a.media;d=b.library;var f=a.meta();a.editorPanel().html(a.view.panel({meta:f})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.generatePreview()})},generatePreview:function(){var b=a.preview.container().find("a"),c=a.insertAs().val(),
d=a.insertCaption().val();1>b.length?(b=a.meta(),a.preview.container().html(a.view.preview({meta:b,target:c,content:d}))):b.attr("target",c).text(d);a.preview.resetLayout()},setLayout:function(){},meta:function(){return d.getMeta(a.key)},place:function(){return d.getPlace(a.meta().place)},"{self} insertItem":function(){var d={title:a.meta().title,target:a.insertAs().val(),content:a.insertCaption().val()};b.insert(a.meta(),d)},"{insertCaption} keyup":function(b){a.generatePreview()},"{insertCaption} blur":function(b){if(""==
b.val()){var c=a.meta();b.val(c.title);a.generatePreview()}},"{insertAs} change":function(b){a.generatePreview()}}});f.resolve()})});EasyBlog.module("media/editor.image",function(d){var f=this;EasyBlog.require().library("ui/position").script("media/constrain").view("media/editor.image","media/editor.image.variation","media/editor.image.caption").done(function(){EasyBlog.Controller("Media.Editor.Image",{defaultOptions:{view:{panel:"media/editor.image",variation:"media/editor.image.variation",caption:"media/editor.image.caption"},
defaultVariation:"thumbnail","{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{imageVariationPanel}":".imageVariationPanel","{imageVariationList}":".imageVariationList","{imageVariations}":".imageVariations","{imageVariation}":".imageVariation","{imageEnforceDimensionOption}":".imageEnforceDimensionOption","{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption","{imageZoomOption}":".imageZoomOption",
"{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection","{itemFilesize}":".itemFilesize","{itemFilename}":".itemFilename","{itemUrl}":".itemUrl","{itemCreationDate}":".itemCreationDate","{modalPrompt}":".modalPrompt"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta(),c=a.place(),e={controller:{editor:a,media:a.media}};a.editorPanel().html(a.view.panel({meta:d,acl:c.acl,enableLightbox:b.options.exporter.image.lightbox,enforceImageDimension:b.options.exporter.image.enforceDimension,
enforceImageWidth:b.options.exporter.image.enforceWidth,enforceImageHeight:b.options.exporter.image.enforceHeight})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this;if("jomsocial"===d.place||"easysocial"==d.place)a.itemFilesize().remove(),a.itemFilename().css("padding-right",0)});a.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,e,function(){a.promptDialog=this});var h=EasyBlog.Controller.Media.Editor.Image.Filter;a.element.implement(h.Dimension,e).implement(h.Caption,
e).implement(h.Lightbox,e);a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{draggable:!0},function(){a.preview=this;a.previewImage(a.meta().thumbnail.url)});c.acl.canCreateVariation&&c.acl.canDeleteVariation&&a.element.implement(EasyBlog.Controller.Media.Editor.Image.VariationForm,e);a.populateImageVariations();a.setLayout()},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){a.preview.resetLayout()},"{self} insertItem":function(){var d=
{variation:a.currentImageVariation().data("variation").name};a.imageEnforceDimensionOption().is(":checked")&&(d.enforceDimension=!0,d.enforceWidth=a.imageEnforceWidth().val(),d.enforceHeight=a.imageEnforceHeight().val());a.imageCaptionOption().is(":checked")&&(d.caption=a.imageCaption().val());a.imageZoomOption().is(":checked")&&(d.zoom=a.imageZoomLargeImageSelection().val());b.insert(a.meta(),d)},populateImageVariations:function(){var b=a.meta(),c=b.variations;a.imageVariationsData=a.imageVariationsData||
{};void 0===c?(a.imageVariations().empty().addClass("busy"),f.getMetaVariations(b.key).done(function(){a.populateImageVariations();a.imageVariations().removeClass("busy")}).fail(function(){}).always(function(){a.imageVariations().removeClass("busy")})):(d.each(c,function(b,c){"icon"!=c.name&&a.createImageVariation(c)}),a.trigger("variationPopulated",[a.imageVariationsData]))},createImageVariation:function(b){var c=a.view.variation({variation:b});c.data("variation",b).appendTo(a.imageVariations());
!0!==b["default"]&&"true"!=b["default"]||c.addClass("default");b.canDelete||c.addClass("locked");a.imageVariationsData[b.name]=c;a.trigger("variationCreated",[c,b]);return c},"{self} variationPopulated":function(){var b,c=a.imageVariation(".default");if(0<a.imageVariation().length){if(1>c.length){var c=a.meta(),e=a.previewImage();void 0!==e&&d.each(c.variations,function(a,c){if(c.width==e.width()&&c.height==e.height())return b=c.name,!1});b=b||a.imageVariation(":first").data("variation").name}else b=
c.eq(0).data("variation").name;a.currentImageVariation(b)}},"{imageVariation} click":function(b){b=b.data("variation");a.currentImageVariation(b.name)},currentImageVariation:function(b){var c=a.currentImageVariation.imageVariation;b=a.imageVariationsData[b];if(void 0!==b){var e=b.data("variation"),f=a.meta();if("jomsocial"==f.place||"easysocial"==f.place)f=a.previewImage(),e.width=f?f.data("width"):0,e.height=f?f.data("height"):0,d('<span class="variationDimension"></span>').text(e.width+"x"+e.height).appendTo(b);
c&&c.removeClass("active");b.addClass("active");a.currentImageVariation.imageVariation=b;a.trigger("variationSelected",[b,e])}return a.currentImageVariation.imageVariation},"{self} variationSelected":function(b,c,d,f){a.itemFilesize().html(f.filesize);a.itemUrl().html(f.url);a.itemCreationDate().html(f.dateCreated);a.previewImage(f.url)},"{self} variationRemoved":function(b,c,d,f){delete a.imageVariationsData[f.name];d.remove()},previewImage:function(b){if(void 0===b)return a.previewImage.currentImage;
void 0===a.previewImage.images&&(a.previewImage.images={});var c=a.previewImage.images[b],e=a.previewImage.images[a.previewImage.currentUrl];a.preview.showDialog("loading");void 0===e||d.isDeferred(e)||(e.detach(),a.preview.container().empty());a.previewImage.currentUrl=b;void 0===c?a.previewImage.images[b]=d.Image.get(b).done(function(c){a.previewImage.images[b]=c;a.previewImage.currentUrl==b&&a.previewImage(b)}).fail(function(){a.preview.hideDialog("loading")}):d.isDeferred(c)||(a.preview.container().append(c),
a.previewImage.currentImage=c,a.trigger("previewImage",[a.preview.container(),c]),a.preview.hideDialog("loading"),a.preview.resetLayout())}}});EasyBlog.Controller("Media.Editor.Image.VariationForm",{defaultOptions:{"{imageVariationForm}":".imageVariationForm","{addVariationButton}":".addVariationButton","{createVariationButton}":".createVariationButton","{removeVariationButton}":".removeVariationButton","{cancelVariationButton}":".cancelVariationButton","{tryCreateVariationButton}":".tryCreateVariationButton",
"{newVariationName}":".newVariationName","{newVariationWidth}":".newVariationWidth","{newVariationHeight}":".newVariationHeight","{newVariationRatio}":".newVariationRatio","{newVariationLockRatio}":".newVariationLockRatio","{imageVariationMessage}":".imageVariationMessage",variationNameFilter:/[^a-zA-Z0-9]/g,"{createNewImageVariationPrompt}":".createNewImageVariationPrompt","{promptVariationName}":".createNewImageVariationPrompt .variationName","{promptVariationWidth}":".createNewImageVariationPrompt .variationWidth",
"{promptVariationHeight}":".createNewImageVariationPrompt .variationHeight"}},function(a){return{init:function(){},"{self} variationSelected":function(){var b=a.editor.currentImageVariation().data("variation");a.removeVariationButton().toggle(b.canDelete)},nextVariationName:function(b){var f=!1;b=d.trim(b.toLowerCase());d.each(a.editor.imageVariationsData,function(a,c){if(b==c.data("variation").name.toLowerCase()){f=!0;var e=b.substr(-1,1);b=d.isNumeric(e)?b.substr(0,b.length-1)+(parseInt(e,10)+1):
b+1;return!1}});return f?a.nextVariationName(b):b},"{addVariationButton} click":function(){a.editor.promptDialog.get("createNewImageVariationPrompt").state("default").show();var b=a.editor.currentImageVariation().data("variation");variationName=d.String.capitalize(a.nextVariationName(b.name));a.newVariationName().data("default",variationName).val(variationName).select();a.newVariationWidth().data("default",b.width).val(b.width);a.newVariationHeight().data("default",b.height).val(b.height);a.imageVariationForm().constrain({selector:{width:a.options["{newVariationWidth}"],
height:a.options["{newVariationHeight}"],constrain:a.options["{newVariationLockRatio}"]},source:{width:b.width,height:b.height},allowedMax:{width:a.editor.media.options.exporter.image.maxVariationWidth,height:a.editor.media.options.exporter.image.maxVariationHeight}})},"{newVariationRatio} click":function(b){b.toggleClass("locked");b.hasClass("locked")?a.newVariationLockRatio().attr("checked","checked"):a.newVariationLockRatio().removeAttr("checked");a.newVariationLockRatio().trigger("change")},"{createVariationButton} click":function(){a.createVariation()},
"{tryCreateVariationButton} click":function(){a.createVariation()},"{newVariationName} keyup":function(b,f){var k=d.trim(d(b).val()),k=k.replace(/[^0-9a-zA-Z]/g,"");d(b).val(k);13==f.keyCode&&a.createVariationButton().trigger("click")},"[{newVariationWidth}, {newVariationHeight}] keyup":function(b,d){13==d.keyCode&&a.createVariationButton().trigger("click")},createVariation:function(){var b=a.editor.meta(),f=a.editor.place(),k=a.newVariationName().val(),c=a.newVariationWidth().val(),e=a.newVariationHeight().val();
if(!d.trim(k)||!d.trim(c)||!d.trim(e))return!1;a.promptVariationName().text(k);a.promptVariationWidth().text(c);a.promptVariationHeight().text(e);a.editor.promptDialog.get("createNewImageVariationPrompt").state("progress").show();EasyBlog.ajax("site.views.media.createVariation",{path:b.path,place:f.id,name:k,width:c,height:e},{success:function(c){a.media.library.meta[b.key].variations.push(c);a.editor.createImageVariation(c);a.editor.currentImageVariation(c.name);a.cancelVariationButton().click()},
fail:function(b){a.editor.promptDialog.get("createNewImageVariationPrompt").state("fail").show()}})},"{removeVariationButton} click":function(){var b=a.editor.imageVariation(".active"),d=b.data("variation"),f=a.editor.meta(),c=a.editor.place();d.canDelete&&EasyBlog.ajax("site.views.media.deleteVariation",{fromPath:f.path,place:c.id,name:d.name},{beforeSend:function(){b.addClass("busy")},success:function(){b.slideUp(function(){a.trigger("variationRemoved",[b,d])});a.editor.imageVariation(".default").click();
a.media.library.removeMetaVariation(f,d.name)},fail:function(a){try{console.log(a)}catch(b){}},complete:function(){b.removeClass("busy")}})}}});EasyBlog.Controller("Media.Editor.Image.Filter.Caption",{defaultOptions:{view:{caption:"media/editor.image.caption"},"{imageVariation}":".imageVariation","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption"}},function(a){return{init:function(){a.item={meta:a.editor.meta()}},"{imageVariation} click":function(b){a.transform()},"{self} dimensionEnforced":function(){a.transform()},
"{imageCaptionOption} change":function(b,d){d.stopPropagation();b.parent(".field").toggleClass("hide-field-content",!b.is(":checked"));a.transform()},"{imageCaptionOption} mouseup":function(){setTimeout(function(){a.imageCaption().focus()[0].select()},1)},"{imageCaption} blur":function(b){""==d.trim(b.val())&&b.val(a.item.meta.title);a.transform()},"{imageCaption} keyup":function(b,d){a.transform()},transform:function(){var b=a.editor.preview.container(),d=b.find("img"),f=b.find("div.imageCaptionText");
if(a.imageCaptionOption().is(":checked")){var c=a.imageCaption().val();f.remove();b.width(d.width());b.addClass("imageCaptionBorder");b.width(b.width());b.append(a.view.caption({caption:c}))}else b.removeClass("imageCaptionBorder"),f.remove(),b.width("auto");a.editor.preview.resetLayout()}}});EasyBlog.Controller("Media.Editor.Image.Filter.Lightbox",{defaultOptions:{defaultImageZoomVariation:"original","{imageZoomOption}":".imageZoomOption","{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection",
"{imageZoomLargeImageOption}":".imageZoomLargeImageSelection option"}},function(a){return{init:function(){},"{self} variationCreated":function(b,f,k,c){b=d.String.capitalize(c.name);b=d("<option>").val(b).html(b).data("variation",c);c.name==(a.media.options.exporter.image.zoom||a.options.defaultImageZoomVariation)&&b.attr("selected",!0);a.imageZoomLargeImageSelection().append(b)},"{self} variationRemoved":function(b,d,f,c){a.imageZoomLargeImageOption('[value="'+c.name+'"]').remove()},"{imageZoomOption} change":function(a,
d){d.stopPropagation();a.parent(".field").toggleClass("hide-field-content",!a.is(":checked"))},transform:function(){if(a.imageZoomOption().is(":checked")){var b=a.imageZoomLargeImageOption(":selected").data("variation");image=d("<a>").addClass("easyblog-thumb-preview").attr({href:b.url,title:imageCaption||a.item.meta.title}).html(image)}}}});EasyBlog.Controller("Media.Editor.Image.Filter.Dimension",{defaultOptions:{"{imageEnforceDimension}":".imageEnforceDimension","{imageEnforceDimensionOption}":".imageEnforceDimensionOption",
"{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageEnforceRatio}":".imageEnforceRatio","{imageEnforceLockRatio}":".imageEnforceLockRatio","{imageVariation}":".imageVariation"}},function(a){return{init:function(){var b={selector:{width:a.options["{imageEnforceWidth}"],height:a.options["{imageEnforceHeight}"],constrain:a.options["{imageEnforceLockRatio}"]}};a.editor.element.bind("variationPopulated",function(){a.editor.media.options.exporter.image.enforceDimension&&
a.imageEnforceDimensionOption().attr({checked:"checked",disabled:"disabled"}).parent(".field").removeClass("hide-field-content");a.applyConstrain(b)})},"{imageVariation} click":function(b){a.applyConstrain()},"{imageEnforceDimensionOption} change":function(b,d){d.stopPropagation();b.parent(".field").toggleClass("hide-field-content",!b.is(":checked"));a.transform()},"{imageEnforceRatio} click":function(b){b.toggleClass("locked");b.hasClass("locked")?a.imageEnforceLockRatio().attr("checked","checked"):
a.imageEnforceLockRatio().removeAttr("checked");a.imageEnforceLockRatio().trigger("change");b.hasClass("locked")&&a.transform()},"{self} previewImage":function(){a.transform()},"{imageEnforceWidth} keyup":function(){a.transform()},"{imageEnforceHeight} keyup":function(){a.transform()},"{imageEnforceWidth} blur":function(b){""!=d.trim(b.val())||a.imageEnforceLockRatio().is(":checked")||b.val(b.data("initial"));a.transform()},"{imageEnforceHeight} blur":function(b){""!=d.trim(b.val())||a.imageEnforceLockRatio().is(":checked")||
b.val(b.data("initial"));a.transform()},transform:function(){var b=a.editor.previewImage();if(void 0!==b){var d={};a.imageEnforceDimensionOption().is(":checked")?d={width:a.imageEnforceWidth().val(),height:a.imageEnforceHeight().val()}:(d=a.editor.currentImageVariation(),d=void 0===d?a.editor.meta():d.data("variation"),d={width:d.width,height:d.height});if(b.width()!==d.width||b.height()!==d.height)b.css(d),a.editor.trigger("dimensionEnforced");a.editor.preview.resetLayout()}},applyConstrain:function(b){var f=
void 0===a.editor.currentImageVariation()?a.editor.meta():a.editor.currentImageVariation().data("variation"),f={source:{width:f.width,height:f.height}};a.editor.media.options.exporter.image.enforceDimension&&(f.allowedMax={width:a.editor.media.options.exporter.image.enforceWidth,height:a.editor.media.options.exporter.image.enforceHeight});b=d.extend(!0,{},f,b);a.imageEnforceDimension().constrain(b);a.transform()}}});f.resolve()})});EasyBlog.module("media/editor.video",function(d){var f=this;EasyBlog.require().view("media/editor.video",
"media/editor.video.player").done(function(){EasyBlog.Controller("Media.Editor.Video",{defaultOptions:{view:{panel:"media/editor.video",player:"media/editor.video.player"},player:{width:400,height:225,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:d.rootPath+"components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{playerContainer}":".playerContainer",
"{insertWidth}":".insertWidth","{insertHeight}":".insertHeight","{autoplay}":".autoplay"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta(),c=b.options.exporter.video.width,e=b.options.exporter.video.height;void 0!==c&&(a.options.player.width=c);void 0!==e&&(a.options.player.height=e);a.editorPanel().html(a.view.panel({meta:d,insertWidth:a.options.player.width,insertHeight:a.options.player.height})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=
this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.initPlayer()})},initPlayer:function(){a.preview.showDialog("loading");EasyBlog.require().script(d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(b){var c=a.meta();a.place();var d="player-"+b.uid();b=b.extend(a.options.player,{id:d,file:a.meta().url});c=a.view.player({id:d,meta:c,options:b});a.preview.container().append(c);a.player=jwplayer(d).setup(b);
a.preview.resetLayout();a.preview.hideDialog("loading")}).fail(function(){})},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){},"{self} cancelItem":function(){a.player&&"PLAYING"==a.player.getState()&&a.player.pause()},"{self} insertItem":function(){var d={autostart:"1"==a.autoplay().val()?!0:!1,width:parseInt(a.insertWidth().val(),10),height:parseInt(a.insertHeight().val(),10)};b.insert(a.meta(),d)},resize:function(){if(a.player){var b=
parseInt(a.insertWidth().val(),10),c=parseInt(a.insertHeight().val(),10);a.player.resize(b,c);a.preview.resetLayout()}},"{insertWidth} keyup":function(){a.resize()},"{insertHeight} keyup":function(){a.resize()}}});f.resolve()})});EasyBlog.module("media/uploader.item",function(d){EasyBlog.Controller("Media.Browser.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage","{status}":".uploadStatus","{removeButton}":".uploadRemoveButton"}},
function(f){return{init:function(){f.element.data("item",f);f.filename().html(f.file.name);f.setState("queued")},getFilesize:function(a,b){return void 0===f.file.size||"N/A"==f.file.size?"":(a?a:"")+d.plupload.formatSize(f.file.size)+(b?b:"")},setProgress:function(a){f.progressBar().attr("value",a);f.percentage().html(a)},setState:function(a){f.element.removeClass("upload-state-"+f.state).addClass("upload-state-"+a);f.state=a},setMessage:function(a){f.status().html(a)},"{removeButton} click":function(a,
b){b.stopPropagation();f.element.slideUp(function(){f.element.remove()})}}});this.resolve()});EasyBlog.module("ratings",function(d){var f=this;EasyBlog.require().library("ui/stars").script("legacy").done(function(){eblog.ratings={setup:function(a,b,f){d("#"+a).stars({split:2,disabled:b,oneVoteOnly:!0,cancelShow:!1,callback:function(b){eblog.loader.loading(a+"-command .rating-text");ejax.load("ratings","vote",b.value(),d("#"+a).children("input:hidden").val(),f,a)}})},showVoters:function(a,b){ejax.load("ratings",
"showvoters",a,b)},update:function(a,b,f,k){d("#"+a).children(".ui-stars-star").removeClass("ui-stars-star-on");f=parseInt(f);d("#"+a+"-command").hide();d("#"+a).addClass("voted");d("#"+a).children(".ui-stars-star").each(function(a){a<f?d(this).addClass("ui-stars-star-on"):d(this).removeClass("ui-stars-star-on")})}};f.resolve()})});EasyBlog.module("tag",function(d){var f=this;EasyBlog.require().view("dashboard/dashboard.tags.item").done(function(){EasyBlog.Controller("Tag.Form",{defaultOptions:{tags:[],
tagLimit:0,tagSelections:[],tagSelectionLimit:25,"{tagList}":".tag-list.creation","{tagItems}":".tag-list.creation .tag-item","{tagItemRemoveButton}":".remove-tag","{tagCreationForm}":".new-tag-item","{tagInput}":".tagInput","{tagCreateButton}":".tag-create","{totalTags}":".total-tags","{tagSelectionFilter}":".tag-selection-filter","{tagSelectionList}":".tag-list.selection","{tagSelectionItems}":".tag-list.selection .tag-item","{tagSelection}":".tag-selection","{showAllTagsButton}":".show-all-tags",
view:{tagItem:"dashboard/dashboard.tags.item"}}},function(a){return{init:function(){EasyBlog.dashboard&&EasyBlog.dashboard.registerPlugin("tags",a);setTimeout(function(){var b=a.options.tagSelections,d,f=b.length;for(d=0;d<f;d++)a.tags[b[d].title.toLowerCase()]=b[d];b=a.options.tags;f=b.length;for(d=0;d<f;d++){var c=a.getKey(b[d].title);a.selectTag(c)}a.showTagSelections("")},0)},tags:{},items:{},selected:{},sanitizeTitle:function(a){return d.trim(a).replace(/[,\'\"\#\<\>]/gi,"")},getKey:function(b){return a.sanitizeTitle(b).toLowerCase()},
getTag:function(b){return Object.prototype.hasOwnProperty.call(a.tags,b)?a.tags[b]:void 0},createTag:function(b){b=a.sanitizeTitle(b);var d=b.toLowerCase();return a.getTag(d)||(a.tags[d]={title:b})},getTagItem:function(b){var d=a.getTag(b);if(d)return d.item||(d.item=a.view.tagItem({title:d.title}).data("key",b))},getTagData:function(b){if(b=a.getTag(b))return b.data||(b.data=d('<input class="tagdata" type="hidden" name="tags[]" value="'+b.title+'" />'))},search:function(b){b=d.trim(b).toLowerCase();
var f=[];for(key in a.tags)0>key.indexOf(b)||f.push(key);return f},selectTag:function(b){clearTimeout(a.selectTag.refreshTagSelection);var d=a.getTagItem(b);if(d){var f=a.tagItems();0<a.options.tagLimit&&f.length>=a.options.tagLimit||(d.css({opacity:0}),1>f.length?a.tagList().prepend(d):(f=f.filter(":last"),f[0]!=d[0]&&d.insertAfter(f)),d.animate({opacity:1}),a.getTagData(b).appendTo(a.element),a.selected[b]=!0,a.checkTagLimit(),a.selectTag.refreshTagSelection=setTimeout(function(){a.showTagSelections()},
500))}},unselectTag:function(b){var d=a.getTagItem(b);d&&(d.detach(),a.getTagData(b).detach(),delete a.selected[b],a.checkTagLimit(),void 0!==a.getTag(b).alias&&a.showTagSelections())},addToTagSelectionList:function(b){return(b=a.getTagItem(b))&&b.appendTo(a.tagSelectionList())},showTagSelections:function(b){a.tagSelectionItems().detach();b=a.currentFilter=void 0===b?a.currentFilter||"":b;var d=0,f=a.options.tagSelectionLimit;if(""===b)for(h in a.tags){if(d>=f)break;a.selected[h]||void 0===a.getTag(h).alias||
(a.addToTagSelectionList(h),d++)}else{b=a.search(b);var c,e=b.length;for(c=0;c<e&&!(d>=f);c++){var h=b[c];a.selected[h]||void 0===a.getTag(h).alias||(a.addToTagSelectionList(h),d++)}}a.tagSelection().toggleClass("no-selection",1>d)},"{tagInput} keydown":function(b,d){d.stopPropagation();a.realEnterKey=13==d.keyCode},"{tagInput} keypress":function(b,d){d.stopPropagation();a.realEnterKey=a.realEnterKey&&13==d.keyCode},"{tagInput} keyup":function(b,d){clearTimeout(a.filterTask);d.stopPropagation();switch(d.keyCode){case 27:b.val("");
break;case 13:a.realEnterKey&&b.hasClass("canCreate")&&a.createTagFromInput()}a.filterTask=setTimeout(function(){a.showTagSelections(b.val())},250)},createTagFromInput:function(){var b=d.trim(a.tagInput().val());if(""!==b){var f=a.getKey(b);a.createTag(b);a.selectTag(f);a.tagInput().val("")}a.showTagSelections("")},checkTagLimit:function(){var b=a.options.tagLimit;if(!(1>b)){var d=a.tagItems().length;a.totalTags().text(d);a.tagCreationForm()[d>=b?"hide":"show"]()}},"{tagCreateButton} click":function(){a.createTagFromInput()},
"{tagSelectionItems} click":function(b){b=b.data("key");a.selectTag(b)},"{tagItemRemoveButton} click":function(b){b=b.parents(".tag-item").data("key");a.unselectTag(b)},"{showAllTagsButton} click":function(b){b.hasClass("active")?(b.removeClass("active"),a.options.tagSelectionLimit=a.originalLimit):(b.addClass("active"),a.originalLimit=a.options.tagSelectionLimit,a.options.tagSelectionLimit=9999);a.showTagSelections("")}}});f.resolve()})})});