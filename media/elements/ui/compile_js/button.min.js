(function($){$.ui_button=function(element,options){var defaults={enable_edit_website:0,list_function_run_befor_submit:[],button_state:'',option:'',task:'',block_id:0,input:[]}
var plugin=this;plugin.settings={}
var $element=$(element),element=element;plugin.init=function(){plugin.settings=$.extend({},defaults,options);var button_state=plugin.settings.button_state;var input=plugin.settings.input;var option=plugin.settings.option;var option=plugin.settings.option;var block_id=plugin.settings.block_id;var task=plugin.settings.task;option_click={option:'com_phpmyadmin',task:'datasource.ajax_save_data',block_id:block_id};if(option!='')
{option_click.option=option;}
if(task!='')
{option_click.task=task;}
delete input.option;delete input.view;delete input.task;option_click=$.extend({},input,option_click);option_click=$.param(option_click);$element.click(function(e){if(plugin.settings.button_state=='close')
{window.location.href=this_host+'?Itemid='+plugin.settings.link_to_page;}
for(i=0;i<Joomla_post.list_function_run_validate_befor_submit.length;i++)
{instant_function=Joomla_post.list_function_run_validate_befor_submit[i];if(!instant_function())
{return false;}}
data_submit={};$.each(Joomla_post.list_function_run_befor_submit,function(index,instant_function){instant_function(data_submit)});if(typeof ajax_web_design!=='undefined'){ajax_web_design.abort();}
ajax_web_design=$.ajax({contentType:'application/json',type:"POST",dataType:"json",url:this_host+'/index.php?'+option_click,data:JSON.stringify(data_submit),beforeSend:function(){$('.div-loading').css({display:"block"});},success:function(response){$('.div-loading').css({display:"none"});if(response.e==0)
{alert('Save success');post_name=response.post_name;main_key=response.main_key;value_main_key=response[main_key];var uri=new URI(currentLink);uri.setSearch(post_name,value_main_key);window.location.href=uri.toString();}else if(response.e==1){alert(response.m);}}});});}
plugin.init();}
$.fn.ui_button=function(options){return this.each(function(){if(undefined==$(this).data('ui_button')){var plugin=new $.ui_button(this,options);$(this).data('ui_button',plugin);}});}})(jQuery);jQuery(document).ready(function($){});